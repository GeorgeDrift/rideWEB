var SP=Object.defineProperty;var AP=(e,t,r)=>t in e?SP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var No=(e,t,r)=>(AP(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uk={exports:{}},ch={},Hk={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=Symbol.for("react.element"),CP=Symbol.for("react.portal"),PP=Symbol.for("react.fragment"),EP=Symbol.for("react.strict_mode"),OP=Symbol.for("react.profiler"),_P=Symbol.for("react.provider"),TP=Symbol.for("react.context"),$P=Symbol.for("react.forward_ref"),MP=Symbol.for("react.suspense"),IP=Symbol.for("react.memo"),DP=Symbol.for("react.lazy"),nb=Symbol.iterator;function LP(e){return e===null||typeof e!="object"?null:(e=nb&&e[nb]||e["@@iterator"],typeof e=="function"?e:null)}var Kk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qk=Object.assign,Gk={};function Ls(e,t,r){this.props=e,this.context=t,this.refs=Gk,this.updater=r||Kk}Ls.prototype.isReactComponent={};Ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yk(){}Yk.prototype=Ls.prototype;function Oy(e,t,r){this.props=e,this.context=t,this.refs=Gk,this.updater=r||Kk}var _y=Oy.prototype=new Yk;_y.constructor=Oy;qk(_y,Ls.prototype);_y.isPureReactComponent=!0;var ab=Array.isArray,Xk=Object.prototype.hasOwnProperty,Ty={current:null},Jk={key:!0,ref:!0,__self:!0,__source:!0};function Qk(e,t,r){var n,a={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Xk.call(t,n)&&!Jk.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:nu,type:e,key:o,ref:s,props:a,_owner:Ty.current}}function RP(e,t){return{$$typeof:nu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $y(e){return typeof e=="object"&&e!==null&&e.$$typeof===nu}function FP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ib=/\/+/g;function Vp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?FP(""+e.key):t.toString(36)}function pd(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case nu:case CP:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Vp(s,0):n,ab(a)?(r="",e!=null&&(r=e.replace(ib,"$&/")+"/"),pd(a,t,r,"",function(u){return u})):a!=null&&($y(a)&&(a=RP(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(ib,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",ab(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Vp(o,l);s+=pd(o,t,r,c,a)}else if(c=LP(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Vp(o,l++),s+=pd(o,t,r,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function $u(e,t,r){if(e==null)return e;var n=[],a=0;return pd(e,n,"","",function(o){return t.call(r,o,a++)}),n}function BP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pr={current:null},md={transition:null},zP={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:md,ReactCurrentOwner:Ty};function Zk(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:$u,forEach:function(e,t,r){$u(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $u(e,function(){t++}),t},toArray:function(e){return $u(e,function(t){return t})||[]},only:function(e){if(!$y(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=Ls;Ae.Fragment=PP;Ae.Profiler=OP;Ae.PureComponent=Oy;Ae.StrictMode=EP;Ae.Suspense=MP;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zP;Ae.act=Zk;Ae.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qk({},e.props),a=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Ty.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Xk.call(t,c)&&!Jk.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:nu,type:e.type,key:a,ref:o,props:n,_owner:s}};Ae.createContext=function(e){return e={$$typeof:TP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_P,_context:e},e.Consumer=e};Ae.createElement=Qk;Ae.createFactory=function(e){var t=Qk.bind(null,e);return t.type=e,t};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:$P,render:e}};Ae.isValidElement=$y;Ae.lazy=function(e){return{$$typeof:DP,_payload:{_status:-1,_result:e},_init:BP}};Ae.memo=function(e,t){return{$$typeof:IP,type:e,compare:t===void 0?null:t}};Ae.startTransition=function(e){var t=md.transition;md.transition={};try{e()}finally{md.transition=t}};Ae.unstable_act=Zk;Ae.useCallback=function(e,t){return pr.current.useCallback(e,t)};Ae.useContext=function(e){return pr.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return pr.current.useDeferredValue(e)};Ae.useEffect=function(e,t){return pr.current.useEffect(e,t)};Ae.useId=function(){return pr.current.useId()};Ae.useImperativeHandle=function(e,t,r){return pr.current.useImperativeHandle(e,t,r)};Ae.useInsertionEffect=function(e,t){return pr.current.useInsertionEffect(e,t)};Ae.useLayoutEffect=function(e,t){return pr.current.useLayoutEffect(e,t)};Ae.useMemo=function(e,t){return pr.current.useMemo(e,t)};Ae.useReducer=function(e,t,r){return pr.current.useReducer(e,t,r)};Ae.useRef=function(e){return pr.current.useRef(e)};Ae.useState=function(e){return pr.current.useState(e)};Ae.useSyncExternalStore=function(e,t,r){return pr.current.useSyncExternalStore(e,t,r)};Ae.useTransition=function(){return pr.current.useTransition()};Ae.version="18.3.1";Hk.exports=Ae;var S=Hk.exports;const O=Fe(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WP=S,VP=Symbol.for("react.element"),UP=Symbol.for("react.fragment"),HP=Object.prototype.hasOwnProperty,KP=WP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qP={key:!0,ref:!0,__self:!0,__source:!0};function eN(e,t,r){var n,a={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)HP.call(t,n)&&!qP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:VP,type:e,key:o,ref:s,props:a,_owner:KP.current}}ch.Fragment=UP;ch.jsx=eN;ch.jsxs=eN;Uk.exports=ch;var i=Uk.exports,Qm={},tN={exports:{}},Wr={},rN={exports:{}},nN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,W){var Z=R.length;R.push(W);e:for(;0<Z;){var ie=Z-1>>>1,ee=R[ie];if(0<a(ee,W))R[ie]=W,R[Z]=ee,Z=ie;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var W=R[0],Z=R.pop();if(Z!==W){R[0]=Z;e:for(var ie=0,ee=R.length,fe=ee>>>1;ie<fe;){var ke=2*(ie+1)-1,De=R[ke],ze=ke+1,et=R[ze];if(0>a(De,Z))ze<ee&&0>a(et,De)?(R[ie]=et,R[ze]=Z,ie=ze):(R[ie]=De,R[ke]=Z,ie=ke);else if(ze<ee&&0>a(et,Z))R[ie]=et,R[ze]=Z,ie=ze;else break e}}return W}function a(R,W){var Z=R.sortIndex-W.sortIndex;return Z!==0?Z:R.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,y=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=R)n(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=r(u)}}function k(R){if(m=!1,b(R),!y)if(r(c)!==null)y=!0,G(w);else{var W=r(u);W!==null&&Q(k,W.startTime-R)}}function w(R,W){y=!1,m&&(m=!1,g(P),P=-1),p=!0;var Z=h;try{for(b(W),d=r(c);d!==null&&(!(d.expirationTime>W)||R&&!_());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,h=d.priorityLevel;var ee=ie(d.expirationTime<=W);W=e.unstable_now(),typeof ee=="function"?d.callback=ee:d===r(c)&&n(c),b(W)}else n(c);d=r(c)}if(d!==null)var fe=!0;else{var ke=r(u);ke!==null&&Q(k,ke.startTime-W),fe=!1}return fe}finally{d=null,h=Z,p=!1}}var N=!1,A=null,P=-1,E=5,M=-1;function _(){return!(e.unstable_now()-M<E)}function T(){if(A!==null){var R=e.unstable_now();M=R;var W=!0;try{W=A(!0,R)}finally{W?L():(N=!1,A=null)}}else N=!1}var L;if(typeof v=="function")L=function(){v(T)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,q=K.port2;K.port1.onmessage=T,L=function(){q.postMessage(null)}}else L=function(){x(T,0)};function G(R){A=R,N||(N=!0,L())}function Q(R,W){P=x(function(){R(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,G(w))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var Z=h;h=W;try{return R()}finally{h=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,W){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Z=h;h=R;try{return W()}finally{h=Z}},e.unstable_scheduleCallback=function(R,W,Z){var ie=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ie+Z:ie):Z=ie,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Z+ee,R={id:f++,callback:W,priorityLevel:R,startTime:Z,expirationTime:ee,sortIndex:-1},Z>ie?(R.sortIndex=Z,t(u,R),r(c)===null&&R===r(u)&&(m?(g(P),P=-1):m=!0,Q(k,Z-ie))):(R.sortIndex=ee,t(c,R),y||p||(y=!0,G(w))),R},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(R){var W=h;return function(){var Z=h;h=W;try{return R.apply(this,arguments)}finally{h=Z}}}})(nN);rN.exports=nN;var GP=rN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP=S,zr=GP;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aN=new Set,ac={};function oo(e,t){as(e,t),as(e+"Capture",t)}function as(e,t){for(ac[e]=t,e=0;e<t.length;e++)aN.add(t[e])}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zm=Object.prototype.hasOwnProperty,XP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ob={},sb={};function JP(e){return Zm.call(sb,e)?!0:Zm.call(ob,e)?!1:XP.test(e)?sb[e]=!0:(ob[e]=!0,!1)}function QP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZP(e,t,r,n){if(t===null||typeof t>"u"||QP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mr(e,t,r,n,a,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var My=/[\-:]([a-z])/g;function Iy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(My,Iy);Qt[t]=new mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(My,Iy);Qt[t]=new mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(My,Iy);Qt[t]=new mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new mr(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dy(e,t,r,n){var a=Qt.hasOwnProperty(t)?Qt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZP(t,r,a,n)&&(r=null),n||a===null?JP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pa=YP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mu=Symbol.for("react.element"),To=Symbol.for("react.portal"),$o=Symbol.for("react.fragment"),Ly=Symbol.for("react.strict_mode"),eg=Symbol.for("react.profiler"),iN=Symbol.for("react.provider"),oN=Symbol.for("react.context"),Ry=Symbol.for("react.forward_ref"),tg=Symbol.for("react.suspense"),rg=Symbol.for("react.suspense_list"),Fy=Symbol.for("react.memo"),Ra=Symbol.for("react.lazy"),sN=Symbol.for("react.offscreen"),lb=Symbol.iterator;function ml(e){return e===null||typeof e!="object"?null:(e=lb&&e[lb]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,Up;function Il(e){if(Up===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Up=t&&t[1]||""}return`
`+Up+e}var Hp=!1;function Kp(e,t){if(!e||Hp)return"";Hp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),s=a.length-1,l=o.length-1;1<=s&&0<=l&&a[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==o[l]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{Hp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Il(e):""}function e4(e){switch(e.tag){case 5:return Il(e.type);case 16:return Il("Lazy");case 13:return Il("Suspense");case 19:return Il("SuspenseList");case 0:case 2:case 15:return e=Kp(e.type,!1),e;case 11:return e=Kp(e.type.render,!1),e;case 1:return e=Kp(e.type,!0),e;default:return""}}function ng(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $o:return"Fragment";case To:return"Portal";case eg:return"Profiler";case Ly:return"StrictMode";case tg:return"Suspense";case rg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oN:return(e.displayName||"Context")+".Consumer";case iN:return(e._context.displayName||"Context")+".Provider";case Ry:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fy:return t=e.displayName||null,t!==null?t:ng(e.type)||"Memo";case Ra:t=e._payload,e=e._init;try{return ng(e(t))}catch{}}return null}function t4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ng(t);case 8:return t===Ly?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function r4(e){var t=lN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Iu(e){e._valueTracker||(e._valueTracker=r4(e))}function cN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=lN(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Md(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ag(e,t){var r=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function cb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=oi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uN(e,t){t=t.checked,t!=null&&Dy(e,"checked",t,!1)}function ig(e,t){uN(e,t);var r=oi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?og(e,t.type,r):t.hasOwnProperty("defaultValue")&&og(e,t.type,oi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ub(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function og(e,t,r){(t!=="number"||Md(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Dl=Array.isArray;function Yo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+oi(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function sg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function db(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(Dl(r)){if(1<r.length)throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:oi(r)}}function dN(e,t){var r=oi(t.value),n=oi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function fb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Du,hN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Du=Du||document.createElement("div"),Du.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Du.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ic(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n4=["Webkit","ms","Moz","O"];Object.keys(Wl).forEach(function(e){n4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wl[t]=Wl[e]})});function pN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wl.hasOwnProperty(e)&&Wl[e]?(""+t).trim():t+"px"}function mN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=pN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var a4=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cg(e,t){if(t){if(a4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function ug(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dg=null;function By(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fg=null,Xo=null,Jo=null;function hb(e){if(e=ou(e)){if(typeof fg!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=ph(t),fg(e.stateNode,e.type,t))}}function gN(e){Xo?Jo?Jo.push(e):Jo=[e]:Xo=e}function yN(){if(Xo){var e=Xo,t=Jo;if(Jo=Xo=null,hb(e),t)for(e=0;e<t.length;e++)hb(t[e])}}function xN(e,t){return e(t)}function vN(){}var qp=!1;function bN(e,t,r){if(qp)return e(t,r);qp=!0;try{return xN(e,t,r)}finally{qp=!1,(Xo!==null||Jo!==null)&&(vN(),yN())}}function oc(e,t){var r=e.stateNode;if(r===null)return null;var n=ph(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var hg=!1;if(va)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){hg=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{hg=!1}function i4(e,t,r,n,a,o,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Vl=!1,Id=null,Dd=!1,pg=null,o4={onError:function(e){Vl=!0,Id=e}};function s4(e,t,r,n,a,o,s,l,c){Vl=!1,Id=null,i4.apply(o4,arguments)}function l4(e,t,r,n,a,o,s,l,c){if(s4.apply(this,arguments),Vl){if(Vl){var u=Id;Vl=!1,Id=null}else throw Error(ne(198));Dd||(Dd=!0,pg=u)}}function so(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function wN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pb(e){if(so(e)!==e)throw Error(ne(188))}function c4(e){var t=e.alternate;if(!t){if(t=so(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return pb(a),e;if(o===n)return pb(a),t;o=o.sibling}throw Error(ne(188))}if(r.return!==n.return)r=a,n=o;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=o;break}if(l===n){s=!0,n=a,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=a;break}if(l===n){s=!0,n=o,r=a;break}l=l.sibling}if(!s)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function jN(e){return e=c4(e),e!==null?kN(e):null}function kN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kN(e);if(t!==null)return t;e=e.sibling}return null}var NN=zr.unstable_scheduleCallback,mb=zr.unstable_cancelCallback,u4=zr.unstable_shouldYield,d4=zr.unstable_requestPaint,xt=zr.unstable_now,f4=zr.unstable_getCurrentPriorityLevel,zy=zr.unstable_ImmediatePriority,SN=zr.unstable_UserBlockingPriority,Ld=zr.unstable_NormalPriority,h4=zr.unstable_LowPriority,AN=zr.unstable_IdlePriority,uh=null,Fn=null;function p4(e){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(uh,e,void 0,(e.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:y4,m4=Math.log,g4=Math.LN2;function y4(e){return e>>>=0,e===0?32:31-(m4(e)/g4|0)|0}var Lu=64,Ru=4194304;function Ll(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?n=Ll(l):(o&=s,o!==0&&(n=Ll(o)))}else s=r&~a,s!==0?n=Ll(s):o!==0&&(n=Ll(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Nn(t),a=1<<r,n|=e[r],t&=~a;return n}function x4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v4(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Nn(o),l=1<<s,c=a[s];c===-1?(!(l&r)||l&n)&&(a[s]=x4(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function mg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function CN(){var e=Lu;return Lu<<=1,!(Lu&4194240)&&(Lu=64),e}function Gp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function au(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nn(t),e[t]=r}function b4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Nn(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Wy(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Nn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Re=0;function PN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var EN,Vy,ON,_N,TN,gg=!1,Fu=[],Ga=null,Ya=null,Xa=null,sc=new Map,lc=new Map,za=[],w4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gb(e,t){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":sc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(t.pointerId)}}function yl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=ou(t),t!==null&&Vy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function j4(e,t,r,n,a){switch(t){case"focusin":return Ga=yl(Ga,e,t,r,n,a),!0;case"dragenter":return Ya=yl(Ya,e,t,r,n,a),!0;case"mouseover":return Xa=yl(Xa,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return sc.set(o,yl(sc.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,lc.set(o,yl(lc.get(o)||null,e,t,r,n,a)),!0}return!1}function $N(e){var t=Mi(e.target);if(t!==null){var r=so(t);if(r!==null){if(t=r.tag,t===13){if(t=wN(r),t!==null){e.blockedOn=t,TN(e.priority,function(){ON(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=yg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);dg=n,r.target.dispatchEvent(n),dg=null}else return t=ou(r),t!==null&&Vy(t),e.blockedOn=r,!1;t.shift()}return!0}function yb(e,t,r){gd(e)&&r.delete(t)}function k4(){gg=!1,Ga!==null&&gd(Ga)&&(Ga=null),Ya!==null&&gd(Ya)&&(Ya=null),Xa!==null&&gd(Xa)&&(Xa=null),sc.forEach(yb),lc.forEach(yb)}function xl(e,t){e.blockedOn===t&&(e.blockedOn=null,gg||(gg=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,k4)))}function cc(e){function t(a){return xl(a,e)}if(0<Fu.length){xl(Fu[0],e);for(var r=1;r<Fu.length;r++){var n=Fu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ga!==null&&xl(Ga,e),Ya!==null&&xl(Ya,e),Xa!==null&&xl(Xa,e),sc.forEach(t),lc.forEach(t),r=0;r<za.length;r++)n=za[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<za.length&&(r=za[0],r.blockedOn===null);)$N(r),r.blockedOn===null&&za.shift()}var Qo=Pa.ReactCurrentBatchConfig,Fd=!0;function N4(e,t,r,n){var a=Re,o=Qo.transition;Qo.transition=null;try{Re=1,Uy(e,t,r,n)}finally{Re=a,Qo.transition=o}}function S4(e,t,r,n){var a=Re,o=Qo.transition;Qo.transition=null;try{Re=4,Uy(e,t,r,n)}finally{Re=a,Qo.transition=o}}function Uy(e,t,r,n){if(Fd){var a=yg(e,t,r,n);if(a===null)am(e,t,n,Bd,r),gb(e,n);else if(j4(a,e,t,r,n))n.stopPropagation();else if(gb(e,n),t&4&&-1<w4.indexOf(e)){for(;a!==null;){var o=ou(a);if(o!==null&&EN(o),o=yg(e,t,r,n),o===null&&am(e,t,n,Bd,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else am(e,t,n,null,r)}}var Bd=null;function yg(e,t,r,n){if(Bd=null,e=By(n),e=Mi(e),e!==null)if(t=so(e),t===null)e=null;else if(r=t.tag,r===13){if(e=wN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bd=e,null}function MN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f4()){case zy:return 1;case SN:return 4;case Ld:case h4:return 16;case AN:return 536870912;default:return 16}default:return 16}}var Ua=null,Hy=null,yd=null;function IN(){if(yd)return yd;var e,t=Hy,r=t.length,n,a="value"in Ua?Ua.value:Ua.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[o-n];n++);return yd=a.slice(e,1<n?1-n:void 0)}function xd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bu(){return!0}function xb(){return!1}function Vr(e){function t(r,n,a,o,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Bu:xb,this.isPropagationStopped=xb,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bu)},persist:function(){},isPersistent:Bu}),t}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ky=Vr(Rs),iu=pt({},Rs,{view:0,detail:0}),A4=Vr(iu),Yp,Xp,vl,dh=pt({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vl&&(vl&&e.type==="mousemove"?(Yp=e.screenX-vl.screenX,Xp=e.screenY-vl.screenY):Xp=Yp=0,vl=e),Yp)},movementY:function(e){return"movementY"in e?e.movementY:Xp}}),vb=Vr(dh),C4=pt({},dh,{dataTransfer:0}),P4=Vr(C4),E4=pt({},iu,{relatedTarget:0}),Jp=Vr(E4),O4=pt({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),_4=Vr(O4),T4=pt({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$4=Vr(T4),M4=pt({},Rs,{data:0}),bb=Vr(M4),I4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=L4[e])?!!t[e]:!1}function qy(){return R4}var F4=pt({},iu,{key:function(e){if(e.key){var t=I4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?D4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qy,charCode:function(e){return e.type==="keypress"?xd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B4=Vr(F4),z4=pt({},dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wb=Vr(z4),W4=pt({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qy}),V4=Vr(W4),U4=pt({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),H4=Vr(U4),K4=pt({},dh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q4=Vr(K4),G4=[9,13,27,32],Gy=va&&"CompositionEvent"in window,Ul=null;va&&"documentMode"in document&&(Ul=document.documentMode);var Y4=va&&"TextEvent"in window&&!Ul,DN=va&&(!Gy||Ul&&8<Ul&&11>=Ul),jb=String.fromCharCode(32),kb=!1;function LN(e,t){switch(e){case"keyup":return G4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mo=!1;function X4(e,t){switch(e){case"compositionend":return RN(t);case"keypress":return t.which!==32?null:(kb=!0,jb);case"textInput":return e=t.data,e===jb&&kb?null:e;default:return null}}function J4(e,t){if(Mo)return e==="compositionend"||!Gy&&LN(e,t)?(e=IN(),yd=Hy=Ua=null,Mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return DN&&t.locale!=="ko"?null:t.data;default:return null}}var Q4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Q4[e.type]:t==="textarea"}function FN(e,t,r,n){gN(n),t=zd(t,"onChange"),0<t.length&&(r=new Ky("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hl=null,uc=null;function Z4(e){XN(e,0)}function fh(e){var t=Lo(e);if(cN(t))return e}function eE(e,t){if(e==="change")return t}var BN=!1;if(va){var Qp;if(va){var Zp="oninput"in document;if(!Zp){var Sb=document.createElement("div");Sb.setAttribute("oninput","return;"),Zp=typeof Sb.oninput=="function"}Qp=Zp}else Qp=!1;BN=Qp&&(!document.documentMode||9<document.documentMode)}function Ab(){Hl&&(Hl.detachEvent("onpropertychange",zN),uc=Hl=null)}function zN(e){if(e.propertyName==="value"&&fh(uc)){var t=[];FN(t,uc,e,By(e)),bN(Z4,t)}}function tE(e,t,r){e==="focusin"?(Ab(),Hl=t,uc=r,Hl.attachEvent("onpropertychange",zN)):e==="focusout"&&Ab()}function rE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fh(uc)}function nE(e,t){if(e==="click")return fh(t)}function aE(e,t){if(e==="input"||e==="change")return fh(t)}function iE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:iE;function dc(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Zm.call(t,a)||!En(e[a],t[a]))return!1}return!0}function Cb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pb(e,t){var r=Cb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cb(r)}}function WN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?WN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function VN(){for(var e=window,t=Md();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Md(e.document)}return t}function Yy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oE(e){var t=VN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&WN(r.ownerDocument.documentElement,r)){if(n!==null&&Yy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Pb(r,o);var s=Pb(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sE=va&&"documentMode"in document&&11>=document.documentMode,Io=null,xg=null,Kl=null,vg=!1;function Eb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vg||Io==null||Io!==Md(n)||(n=Io,"selectionStart"in n&&Yy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kl&&dc(Kl,n)||(Kl=n,n=zd(xg,"onSelect"),0<n.length&&(t=new Ky("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Io)))}function zu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Do={animationend:zu("Animation","AnimationEnd"),animationiteration:zu("Animation","AnimationIteration"),animationstart:zu("Animation","AnimationStart"),transitionend:zu("Transition","TransitionEnd")},em={},UN={};va&&(UN=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function hh(e){if(em[e])return em[e];if(!Do[e])return e;var t=Do[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in UN)return em[e]=t[r];return e}var HN=hh("animationend"),KN=hh("animationiteration"),qN=hh("animationstart"),GN=hh("transitionend"),YN=new Map,Ob="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ci(e,t){YN.set(e,t),oo(t,[e])}for(var tm=0;tm<Ob.length;tm++){var rm=Ob[tm],lE=rm.toLowerCase(),cE=rm[0].toUpperCase()+rm.slice(1);ci(lE,"on"+cE)}ci(HN,"onAnimationEnd");ci(KN,"onAnimationIteration");ci(qN,"onAnimationStart");ci("dblclick","onDoubleClick");ci("focusin","onFocus");ci("focusout","onBlur");ci(GN,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function _b(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,l4(n,t,void 0,e),e.currentTarget=null}function XN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;_b(a,l,u),o=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;_b(a,l,u),o=c}}}if(Dd)throw e=pg,Dd=!1,pg=null,e}function at(e,t){var r=t[Ng];r===void 0&&(r=t[Ng]=new Set);var n=e+"__bubble";r.has(n)||(JN(t,e,2,!1),r.add(n))}function nm(e,t,r){var n=0;t&&(n|=4),JN(r,e,n,t)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function fc(e){if(!e[Wu]){e[Wu]=!0,aN.forEach(function(r){r!=="selectionchange"&&(uE.has(r)||nm(r,!1,e),nm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wu]||(t[Wu]=!0,nm("selectionchange",!1,t))}}function JN(e,t,r,n){switch(MN(t)){case 1:var a=N4;break;case 4:a=S4;break;default:a=Uy}r=a.bind(null,t,r,e),a=void 0,!hg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function am(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Mi(l),s===null)return;if(c=s.tag,c===5||c===6){n=o=s;continue e}l=l.parentNode}}n=n.return}bN(function(){var u=o,f=By(r),d=[];e:{var h=YN.get(e);if(h!==void 0){var p=Ky,y=e;switch(e){case"keypress":if(xd(r)===0)break e;case"keydown":case"keyup":p=B4;break;case"focusin":y="focus",p=Jp;break;case"focusout":y="blur",p=Jp;break;case"beforeblur":case"afterblur":p=Jp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=P4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=V4;break;case HN:case KN:case qN:p=_4;break;case GN:p=H4;break;case"scroll":p=A4;break;case"wheel":p=q4;break;case"copy":case"cut":case"paste":p=$4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=wb}var m=(t&4)!==0,x=!m&&e==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var v=u,b;v!==null;){b=v;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,g!==null&&(k=oc(v,g),k!=null&&m.push(hc(v,k,b)))),x)break;v=v.return}0<m.length&&(h=new p(h,y,null,r,f),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==dg&&(y=r.relatedTarget||r.fromElement)&&(Mi(y)||y[ba]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?Mi(y):null,y!==null&&(x=so(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=vb,k="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=wb,k="onPointerLeave",g="onPointerEnter",v="pointer"),x=p==null?h:Lo(p),b=y==null?h:Lo(y),h=new m(k,v+"leave",p,r,f),h.target=x,h.relatedTarget=b,k=null,Mi(f)===u&&(m=new m(g,v+"enter",y,r,f),m.target=b,m.relatedTarget=x,k=m),x=k,p&&y)t:{for(m=p,g=y,v=0,b=m;b;b=So(b))v++;for(b=0,k=g;k;k=So(k))b++;for(;0<v-b;)m=So(m),v--;for(;0<b-v;)g=So(g),b--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=So(m),g=So(g)}m=null}else m=null;p!==null&&Tb(d,h,p,m,!1),y!==null&&x!==null&&Tb(d,x,y,m,!0)}}e:{if(h=u?Lo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=eE;else if(Nb(h))if(BN)w=aE;else{w=rE;var N=tE}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=nE);if(w&&(w=w(e,u))){FN(d,w,r,f);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&og(h,"number",h.value)}switch(N=u?Lo(u):window,e){case"focusin":(Nb(N)||N.contentEditable==="true")&&(Io=N,xg=u,Kl=null);break;case"focusout":Kl=xg=Io=null;break;case"mousedown":vg=!0;break;case"contextmenu":case"mouseup":case"dragend":vg=!1,Eb(d,r,f);break;case"selectionchange":if(sE)break;case"keydown":case"keyup":Eb(d,r,f)}var A;if(Gy)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Mo?LN(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(DN&&r.locale!=="ko"&&(Mo||P!=="onCompositionStart"?P==="onCompositionEnd"&&Mo&&(A=IN()):(Ua=f,Hy="value"in Ua?Ua.value:Ua.textContent,Mo=!0)),N=zd(u,P),0<N.length&&(P=new bb(P,e,null,r,f),d.push({event:P,listeners:N}),A?P.data=A:(A=RN(r),A!==null&&(P.data=A)))),(A=Y4?X4(e,r):J4(e,r))&&(u=zd(u,"onBeforeInput"),0<u.length&&(f=new bb("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=A))}XN(d,t)})}function hc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zd(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=oc(e,r),o!=null&&n.unshift(hc(e,o,a)),o=oc(e,t),o!=null&&n.push(hc(e,o,a))),e=e.return}return n}function So(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tb(e,t,r,n,a){for(var o=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=oc(r,o),c!=null&&s.unshift(hc(r,c,l))):a||(c=oc(r,o),c!=null&&s.push(hc(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var dE=/\r\n?/g,fE=/\u0000|\uFFFD/g;function $b(e){return(typeof e=="string"?e:""+e).replace(dE,`
`).replace(fE,"")}function Vu(e,t,r){if(t=$b(t),$b(e)!==t&&r)throw Error(ne(425))}function Wd(){}var bg=null,wg=null;function jg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kg=typeof setTimeout=="function"?setTimeout:void 0,hE=typeof clearTimeout=="function"?clearTimeout:void 0,Mb=typeof Promise=="function"?Promise:void 0,pE=typeof queueMicrotask=="function"?queueMicrotask:typeof Mb<"u"?function(e){return Mb.resolve(null).then(e).catch(mE)}:kg;function mE(e){setTimeout(function(){throw e})}function im(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),cc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);cc(t)}function Ja(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ib(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Fs,pc="__reactProps$"+Fs,ba="__reactContainer$"+Fs,Ng="__reactEvents$"+Fs,gE="__reactListeners$"+Fs,yE="__reactHandles$"+Fs;function Mi(e){var t=e[Dn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ba]||r[Dn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ib(e);e!==null;){if(r=e[Dn])return r;e=Ib(e)}return t}e=r,r=e.parentNode}return null}function ou(e){return e=e[Dn]||e[ba],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function ph(e){return e[pc]||null}var Sg=[],Ro=-1;function ui(e){return{current:e}}function st(e){0>Ro||(e.current=Sg[Ro],Sg[Ro]=null,Ro--)}function Qe(e,t){Ro++,Sg[Ro]=e.current,e.current=t}var si={},ir=ui(si),Ar=ui(!1),qi=si;function is(e,t){var r=e.type.contextTypes;if(!r)return si;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Cr(e){return e=e.childContextTypes,e!=null}function Vd(){st(Ar),st(ir)}function Db(e,t,r){if(ir.current!==si)throw Error(ne(168));Qe(ir,t),Qe(Ar,r)}function QN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ne(108,t4(e)||"Unknown",a));return pt({},r,n)}function Ud(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,qi=ir.current,Qe(ir,e),Qe(Ar,Ar.current),!0}function Lb(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=QN(e,t,qi),n.__reactInternalMemoizedMergedChildContext=e,st(Ar),st(ir),Qe(ir,e)):st(Ar),Qe(Ar,r)}var la=null,mh=!1,om=!1;function ZN(e){la===null?la=[e]:la.push(e)}function xE(e){mh=!0,ZN(e)}function di(){if(!om&&la!==null){om=!0;var e=0,t=Re;try{var r=la;for(Re=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}la=null,mh=!1}catch(a){throw la!==null&&(la=la.slice(e+1)),NN(zy,di),a}finally{Re=t,om=!1}}return null}var Fo=[],Bo=0,Hd=null,Kd=0,Qr=[],Zr=0,Gi=null,ua=1,da="";function Ai(e,t){Fo[Bo++]=Kd,Fo[Bo++]=Hd,Hd=e,Kd=t}function eS(e,t,r){Qr[Zr++]=ua,Qr[Zr++]=da,Qr[Zr++]=Gi,Gi=e;var n=ua;e=da;var a=32-Nn(n)-1;n&=~(1<<a),r+=1;var o=32-Nn(t)+a;if(30<o){var s=a-a%5;o=(n&(1<<s)-1).toString(32),n>>=s,a-=s,ua=1<<32-Nn(t)+a|r<<a|n,da=o+e}else ua=1<<o|r<<a|n,da=e}function Xy(e){e.return!==null&&(Ai(e,1),eS(e,1,0))}function Jy(e){for(;e===Hd;)Hd=Fo[--Bo],Fo[Bo]=null,Kd=Fo[--Bo],Fo[Bo]=null;for(;e===Gi;)Gi=Qr[--Zr],Qr[Zr]=null,da=Qr[--Zr],Qr[Zr]=null,ua=Qr[--Zr],Qr[Zr]=null}var Rr=null,Lr=null,ut=!1,jn=null;function tS(e,t){var r=nn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Rb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rr=e,Lr=Ja(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rr=e,Lr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gi!==null?{id:ua,overflow:da}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=nn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Rr=e,Lr=null,!0):!1;default:return!1}}function Ag(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cg(e){if(ut){var t=Lr;if(t){var r=t;if(!Rb(e,t)){if(Ag(e))throw Error(ne(418));t=Ja(r.nextSibling);var n=Rr;t&&Rb(e,t)?tS(n,r):(e.flags=e.flags&-4097|2,ut=!1,Rr=e)}}else{if(Ag(e))throw Error(ne(418));e.flags=e.flags&-4097|2,ut=!1,Rr=e}}}function Fb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rr=e}function Uu(e){if(e!==Rr)return!1;if(!ut)return Fb(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jg(e.type,e.memoizedProps)),t&&(t=Lr)){if(Ag(e))throw rS(),Error(ne(418));for(;t;)tS(e,t),t=Ja(t.nextSibling)}if(Fb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Lr=Ja(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Lr=null}}else Lr=Rr?Ja(e.stateNode.nextSibling):null;return!0}function rS(){for(var e=Lr;e;)e=Ja(e.nextSibling)}function os(){Lr=Rr=null,ut=!1}function Qy(e){jn===null?jn=[e]:jn.push(e)}var vE=Pa.ReactCurrentBatchConfig;function bl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=a.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function Hu(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bb(e){var t=e._init;return t(e._payload)}function nS(e){function t(g,v){if(e){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function a(g,v){return g=ti(g,v),g.index=0,g.sibling=null,g}function o(g,v,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,b,k){return v===null||v.tag!==6?(v=hm(b,g.mode,k),v.return=g,v):(v=a(v,b),v.return=g,v)}function c(g,v,b,k){var w=b.type;return w===$o?f(g,v,b.props.children,k,b.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ra&&Bb(w)===v.type)?(k=a(v,b.props),k.ref=bl(g,v,b),k.return=g,k):(k=Sd(b.type,b.key,b.props,null,g.mode,k),k.ref=bl(g,v,b),k.return=g,k)}function u(g,v,b,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=pm(b,g.mode,k),v.return=g,v):(v=a(v,b.children||[]),v.return=g,v)}function f(g,v,b,k,w){return v===null||v.tag!==7?(v=Vi(b,g.mode,k,w),v.return=g,v):(v=a(v,b),v.return=g,v)}function d(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=hm(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Mu:return b=Sd(v.type,v.key,v.props,null,g.mode,b),b.ref=bl(g,null,v),b.return=g,b;case To:return v=pm(v,g.mode,b),v.return=g,v;case Ra:var k=v._init;return d(g,k(v._payload),b)}if(Dl(v)||ml(v))return v=Vi(v,g.mode,b,null),v.return=g,v;Hu(g,v)}return null}function h(g,v,b,k){var w=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:l(g,v,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mu:return b.key===w?c(g,v,b,k):null;case To:return b.key===w?u(g,v,b,k):null;case Ra:return w=b._init,h(g,v,w(b._payload),k)}if(Dl(b)||ml(b))return w!==null?null:f(g,v,b,k,null);Hu(g,b)}return null}function p(g,v,b,k,w){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(b)||null,l(v,g,""+k,w);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Mu:return g=g.get(k.key===null?b:k.key)||null,c(v,g,k,w);case To:return g=g.get(k.key===null?b:k.key)||null,u(v,g,k,w);case Ra:var N=k._init;return p(g,v,b,N(k._payload),w)}if(Dl(k)||ml(k))return g=g.get(b)||null,f(v,g,k,w,null);Hu(v,k)}return null}function y(g,v,b,k){for(var w=null,N=null,A=v,P=v=0,E=null;A!==null&&P<b.length;P++){A.index>P?(E=A,A=null):E=A.sibling;var M=h(g,A,b[P],k);if(M===null){A===null&&(A=E);break}e&&A&&M.alternate===null&&t(g,A),v=o(M,v,P),N===null?w=M:N.sibling=M,N=M,A=E}if(P===b.length)return r(g,A),ut&&Ai(g,P),w;if(A===null){for(;P<b.length;P++)A=d(g,b[P],k),A!==null&&(v=o(A,v,P),N===null?w=A:N.sibling=A,N=A);return ut&&Ai(g,P),w}for(A=n(g,A);P<b.length;P++)E=p(A,g,P,b[P],k),E!==null&&(e&&E.alternate!==null&&A.delete(E.key===null?P:E.key),v=o(E,v,P),N===null?w=E:N.sibling=E,N=E);return e&&A.forEach(function(_){return t(g,_)}),ut&&Ai(g,P),w}function m(g,v,b,k){var w=ml(b);if(typeof w!="function")throw Error(ne(150));if(b=w.call(b),b==null)throw Error(ne(151));for(var N=w=null,A=v,P=v=0,E=null,M=b.next();A!==null&&!M.done;P++,M=b.next()){A.index>P?(E=A,A=null):E=A.sibling;var _=h(g,A,M.value,k);if(_===null){A===null&&(A=E);break}e&&A&&_.alternate===null&&t(g,A),v=o(_,v,P),N===null?w=_:N.sibling=_,N=_,A=E}if(M.done)return r(g,A),ut&&Ai(g,P),w;if(A===null){for(;!M.done;P++,M=b.next())M=d(g,M.value,k),M!==null&&(v=o(M,v,P),N===null?w=M:N.sibling=M,N=M);return ut&&Ai(g,P),w}for(A=n(g,A);!M.done;P++,M=b.next())M=p(A,g,P,M.value,k),M!==null&&(e&&M.alternate!==null&&A.delete(M.key===null?P:M.key),v=o(M,v,P),N===null?w=M:N.sibling=M,N=M);return e&&A.forEach(function(T){return t(g,T)}),ut&&Ai(g,P),w}function x(g,v,b,k){if(typeof b=="object"&&b!==null&&b.type===$o&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Mu:e:{for(var w=b.key,N=v;N!==null;){if(N.key===w){if(w=b.type,w===$o){if(N.tag===7){r(g,N.sibling),v=a(N,b.props.children),v.return=g,g=v;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ra&&Bb(w)===N.type){r(g,N.sibling),v=a(N,b.props),v.ref=bl(g,N,b),v.return=g,g=v;break e}r(g,N);break}else t(g,N);N=N.sibling}b.type===$o?(v=Vi(b.props.children,g.mode,k,b.key),v.return=g,g=v):(k=Sd(b.type,b.key,b.props,null,g.mode,k),k.ref=bl(g,v,b),k.return=g,g=k)}return s(g);case To:e:{for(N=b.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(g,v.sibling),v=a(v,b.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=pm(b,g.mode,k),v.return=g,g=v}return s(g);case Ra:return N=b._init,x(g,v,N(b._payload),k)}if(Dl(b))return y(g,v,b,k);if(ml(b))return m(g,v,b,k);Hu(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(g,v.sibling),v=a(v,b),v.return=g,g=v):(r(g,v),v=hm(b,g.mode,k),v.return=g,g=v),s(g)):r(g,v)}return x}var ss=nS(!0),aS=nS(!1),qd=ui(null),Gd=null,zo=null,Zy=null;function ex(){Zy=zo=Gd=null}function tx(e){var t=qd.current;st(qd),e._currentValue=t}function Pg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zo(e,t){Gd=e,Zy=zo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kr=!0),e.firstContext=null)}function ln(e){var t=e._currentValue;if(Zy!==e)if(e={context:e,memoizedValue:t,next:null},zo===null){if(Gd===null)throw Error(ne(308));zo=e,Gd.dependencies={lanes:0,firstContext:e}}else zo=zo.next=e;return t}var Ii=null;function rx(e){Ii===null?Ii=[e]:Ii.push(e)}function iS(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,rx(t)):(r.next=a.next,a.next=r),t.interleaved=r,wa(e,n)}function wa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fa=!1;function nx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ma(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,wa(e,r)}return a=n.interleaved,a===null?(t.next=t,rx(n)):(t.next=a.next,a.next=t),n.interleaved=t,wa(e,r)}function vd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wy(e,r)}}function zb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Yd(e,t,r,n){var a=e.updateQueue;Fa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(o!==null){var d=a.baseState;s=0,f=u=c=null,l=o;do{var h=l.lane,p=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,p=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=pt({},d,h);break e;case 2:Fa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,s|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(1);if(f===null&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Xi|=s,e.lanes=s,e.memoizedState=d}}function Wb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ne(191,a));a.call(n)}}}var su={},Bn=ui(su),mc=ui(su),gc=ui(su);function Di(e){if(e===su)throw Error(ne(174));return e}function ax(e,t){switch(Qe(gc,t),Qe(mc,e),Qe(Bn,su),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lg(t,e)}st(Bn),Qe(Bn,t)}function ls(){st(Bn),st(mc),st(gc)}function sS(e){Di(gc.current);var t=Di(Bn.current),r=lg(t,e.type);t!==r&&(Qe(mc,e),Qe(Bn,r))}function ix(e){mc.current===e&&(st(Bn),st(mc))}var ft=ui(0);function Xd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sm=[];function ox(){for(var e=0;e<sm.length;e++)sm[e]._workInProgressVersionPrimary=null;sm.length=0}var bd=Pa.ReactCurrentDispatcher,lm=Pa.ReactCurrentBatchConfig,Yi=0,ht=null,Tt=null,Bt=null,Jd=!1,ql=!1,yc=0,bE=0;function er(){throw Error(ne(321))}function sx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!En(e[r],t[r]))return!1;return!0}function lx(e,t,r,n,a,o){if(Yi=o,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bd.current=e===null||e.memoizedState===null?NE:SE,e=r(n,a),ql){o=0;do{if(ql=!1,yc=0,25<=o)throw Error(ne(301));o+=1,Bt=Tt=null,t.updateQueue=null,bd.current=AE,e=r(n,a)}while(ql)}if(bd.current=Qd,t=Tt!==null&&Tt.next!==null,Yi=0,Bt=Tt=ht=null,Jd=!1,t)throw Error(ne(300));return e}function cx(){var e=yc!==0;return yc=0,e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?ht.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function cn(){if(Tt===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=Bt===null?ht.memoizedState:Bt.next;if(t!==null)Bt=t,Tt=e;else{if(e===null)throw Error(ne(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Bt===null?ht.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function xc(e,t){return typeof t=="function"?t(e):t}function cm(e){var t=cn(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=Tt,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=s=null,c=null,u=o;do{var f=u.lane;if((Yi&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,s=n):c=c.next=d,ht.lanes|=f,Xi|=f}u=u.next}while(u!==null&&u!==o);c===null?s=n:c.next=l,En(n,t.memoizedState)||(kr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,ht.lanes|=o,Xi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function um(e){var t=cn(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);En(o,t.memoizedState)||(kr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function lS(){}function cS(e,t){var r=ht,n=cn(),a=t(),o=!En(n.memoizedState,a);if(o&&(n.memoizedState=a,kr=!0),n=n.queue,ux(fS.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Bt!==null&&Bt.memoizedState.tag&1){if(r.flags|=2048,vc(9,dS.bind(null,r,n,a,t),void 0,null),Ut===null)throw Error(ne(349));Yi&30||uS(r,t,a)}return a}function uS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dS(e,t,r,n){t.value=r,t.getSnapshot=n,hS(t)&&pS(e)}function fS(e,t,r){return r(function(){hS(t)&&pS(e)})}function hS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!En(e,r)}catch{return!0}}function pS(e){var t=wa(e,1);t!==null&&Sn(t,e,1,-1)}function Vb(e){var t=In();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:e},t.queue=e,e=e.dispatch=kE.bind(null,ht,e),[t.memoizedState,e]}function vc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function mS(){return cn().memoizedState}function wd(e,t,r,n){var a=In();ht.flags|=e,a.memoizedState=vc(1|t,r,void 0,n===void 0?null:n)}function gh(e,t,r,n){var a=cn();n=n===void 0?null:n;var o=void 0;if(Tt!==null){var s=Tt.memoizedState;if(o=s.destroy,n!==null&&sx(n,s.deps)){a.memoizedState=vc(t,r,o,n);return}}ht.flags|=e,a.memoizedState=vc(1|t,r,o,n)}function Ub(e,t){return wd(8390656,8,e,t)}function ux(e,t){return gh(2048,8,e,t)}function gS(e,t){return gh(4,2,e,t)}function yS(e,t){return gh(4,4,e,t)}function xS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vS(e,t,r){return r=r!=null?r.concat([e]):null,gh(4,4,xS.bind(null,t,e),r)}function dx(){}function bS(e,t){var r=cn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function wS(e,t){var r=cn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jS(e,t,r){return Yi&21?(En(r,t)||(r=CN(),ht.lanes|=r,Xi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kr=!0),e.memoizedState=r)}function wE(e,t){var r=Re;Re=r!==0&&4>r?r:4,e(!0);var n=lm.transition;lm.transition={};try{e(!1),t()}finally{Re=r,lm.transition=n}}function kS(){return cn().memoizedState}function jE(e,t,r){var n=ei(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NS(e))SS(t,r);else if(r=iS(e,t,r,n),r!==null){var a=hr();Sn(r,e,n,a),AS(r,t,n)}}function kE(e,t,r){var n=ei(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NS(e))SS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,r);if(a.hasEagerState=!0,a.eagerState=l,En(l,s)){var c=t.interleaved;c===null?(a.next=a,rx(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=iS(e,t,a,n),r!==null&&(a=hr(),Sn(r,e,n,a),AS(r,t,n))}}function NS(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function SS(e,t){ql=Jd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function AS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wy(e,r)}}var Qd={readContext:ln,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},NE={readContext:ln,useCallback:function(e,t){return In().memoizedState=[e,t===void 0?null:t],e},useContext:ln,useEffect:Ub,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,wd(4194308,4,xS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return wd(4194308,4,e,t)},useInsertionEffect:function(e,t){return wd(4,2,e,t)},useMemo:function(e,t){var r=In();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=In();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=jE.bind(null,ht,e),[n.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:Vb,useDebugValue:dx,useDeferredValue:function(e){return In().memoizedState=e},useTransition:function(){var e=Vb(!1),t=e[0];return e=wE.bind(null,e[1]),In().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ht,a=In();if(ut){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=t(),Ut===null)throw Error(ne(349));Yi&30||uS(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Ub(fS.bind(null,n,o,e),[e]),n.flags|=2048,vc(9,dS.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=In(),t=Ut.identifierPrefix;if(ut){var r=da,n=ua;r=(n&~(1<<32-Nn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=yc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=bE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SE={readContext:ln,useCallback:bS,useContext:ln,useEffect:ux,useImperativeHandle:vS,useInsertionEffect:gS,useLayoutEffect:yS,useMemo:wS,useReducer:cm,useRef:mS,useState:function(){return cm(xc)},useDebugValue:dx,useDeferredValue:function(e){var t=cn();return jS(t,Tt.memoizedState,e)},useTransition:function(){var e=cm(xc)[0],t=cn().memoizedState;return[e,t]},useMutableSource:lS,useSyncExternalStore:cS,useId:kS,unstable_isNewReconciler:!1},AE={readContext:ln,useCallback:bS,useContext:ln,useEffect:ux,useImperativeHandle:vS,useInsertionEffect:gS,useLayoutEffect:yS,useMemo:wS,useReducer:um,useRef:mS,useState:function(){return um(xc)},useDebugValue:dx,useDeferredValue:function(e){var t=cn();return Tt===null?t.memoizedState=e:jS(t,Tt.memoizedState,e)},useTransition:function(){var e=um(xc)[0],t=cn().memoizedState;return[e,t]},useMutableSource:lS,useSyncExternalStore:cS,useId:kS,unstable_isNewReconciler:!1};function yn(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Eg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yh={isMounted:function(e){return(e=e._reactInternals)?so(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),a=ei(e),o=ma(n,a);o.payload=t,r!=null&&(o.callback=r),t=Qa(e,o,a),t!==null&&(Sn(t,e,a,n),vd(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),a=ei(e),o=ma(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Qa(e,o,a),t!==null&&(Sn(t,e,a,n),vd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=ei(e),a=ma(r,n);a.tag=2,t!=null&&(a.callback=t),t=Qa(e,a,n),t!==null&&(Sn(t,e,n,r),vd(t,e,n))}};function Hb(e,t,r,n,a,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!dc(r,n)||!dc(a,o):!0}function CS(e,t,r){var n=!1,a=si,o=t.contextType;return typeof o=="object"&&o!==null?o=ln(o):(a=Cr(t)?qi:ir.current,n=t.contextTypes,o=(n=n!=null)?is(e,a):si),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Kb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yh.enqueueReplaceState(t,t.state,null)}function Og(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},nx(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=ln(o):(o=Cr(t)?qi:ir.current,a.context=is(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Eg(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&yh.enqueueReplaceState(a,a.state,null),Yd(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function cs(e,t){try{var r="",n=t;do r+=e4(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function dm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function _g(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var CE=typeof WeakMap=="function"?WeakMap:Map;function PS(e,t,r){r=ma(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ef||(ef=!0,zg=n),_g(e,t)},r}function ES(e,t,r){r=ma(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){_g(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){_g(e,t),typeof n!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function qb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new CE;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=zE.bind(null,e,t,r),t.then(e,e))}function Gb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yb(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ma(-1,1),t.tag=2,Qa(r,t,1))),r.lanes|=1),e)}var PE=Pa.ReactCurrentOwner,kr=!1;function lr(e,t,r,n){t.child=e===null?aS(t,null,r,n):ss(t,e.child,r,n)}function Xb(e,t,r,n,a){r=r.render;var o=t.ref;return Zo(t,a),n=lx(e,t,r,n,o,a),r=cx(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ja(e,t,a)):(ut&&r&&Xy(t),t.flags|=1,lr(e,t,n,a),t.child)}function Jb(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!vx(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,OS(e,t,o,n,a)):(e=Sd(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:dc,r(s,n)&&e.ref===t.ref)return ja(e,t,a)}return t.flags|=1,e=ti(o,n),e.ref=t.ref,e.return=t,t.child=e}function OS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(dc(o,n)&&e.ref===t.ref)if(kr=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(kr=!0);else return t.lanes=e.lanes,ja(e,t,a)}return Tg(e,t,r,n,a)}function _S(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Vo,$r),$r|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(Vo,$r),$r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Qe(Vo,$r),$r|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Qe(Vo,$r),$r|=n;return lr(e,t,a,r),t.child}function TS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Tg(e,t,r,n,a){var o=Cr(r)?qi:ir.current;return o=is(t,o),Zo(t,a),r=lx(e,t,r,n,o,a),n=cx(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ja(e,t,a)):(ut&&n&&Xy(t),t.flags|=1,lr(e,t,r,a),t.child)}function Qb(e,t,r,n,a){if(Cr(r)){var o=!0;Ud(t)}else o=!1;if(Zo(t,a),t.stateNode===null)jd(e,t),CS(t,r,n),Og(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=ln(u):(u=Cr(r)?qi:ir.current,u=is(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Kb(t,s,n,u),Fa=!1;var h=t.memoizedState;s.state=h,Yd(t,n,s,a),c=t.memoizedState,l!==n||h!==c||Ar.current||Fa?(typeof f=="function"&&(Eg(t,r,f,n),c=t.memoizedState),(l=Fa||Hb(t,r,l,n,h,c,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,oS(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:yn(t.type,l),s.props=u,d=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=ln(c):(c=Cr(r)?qi:ir.current,c=is(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||h!==c)&&Kb(t,s,n,c),Fa=!1,h=t.memoizedState,s.state=h,Yd(t,n,s,a);var y=t.memoizedState;l!==d||h!==y||Ar.current||Fa?(typeof p=="function"&&(Eg(t,r,p,n),y=t.memoizedState),(u=Fa||Hb(t,r,u,n,h,y,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return $g(e,t,r,n,o,a)}function $g(e,t,r,n,a,o){TS(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&Lb(t,r,!1),ja(e,t,o);n=t.stateNode,PE.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=ss(t,e.child,null,o),t.child=ss(t,null,l,o)):lr(e,t,l,o),t.memoizedState=n.state,a&&Lb(t,r,!0),t.child}function $S(e){var t=e.stateNode;t.pendingContext?Db(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Db(e,t.context,!1),ax(e,t.containerInfo)}function Zb(e,t,r,n,a){return os(),Qy(a),t.flags|=256,lr(e,t,r,n),t.child}var Mg={dehydrated:null,treeContext:null,retryLane:0};function Ig(e){return{baseLanes:e,cachePool:null,transitions:null}}function MS(e,t,r){var n=t.pendingProps,a=ft.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Qe(ft,a&1),e===null)return Cg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=bh(s,n,0,null),e=Vi(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ig(r),t.memoizedState=Mg,e):fx(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return EE(e,t,s,n,l,a,r);if(o){o=n.fallback,s=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ti(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=ti(l,o):(o=Vi(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?Ig(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=Mg,n}return o=e.child,e=o.sibling,n=ti(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function fx(e,t){return t=bh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ku(e,t,r,n){return n!==null&&Qy(n),ss(t,e.child,null,r),e=fx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function EE(e,t,r,n,a,o,s){if(r)return t.flags&256?(t.flags&=-257,n=dm(Error(ne(422))),Ku(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=bh({mode:"visible",children:n.children},a,0,null),o=Vi(o,a,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ss(t,e.child,null,s),t.child.memoizedState=Ig(s),t.memoizedState=Mg,o);if(!(t.mode&1))return Ku(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(ne(419)),n=dm(o,n,void 0),Ku(e,t,s,n)}if(l=(s&e.childLanes)!==0,kr||l){if(n=Ut,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,wa(e,a),Sn(n,e,a,-1))}return xx(),n=dm(Error(ne(421))),Ku(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=WE.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Lr=Ja(a.nextSibling),Rr=t,ut=!0,jn=null,e!==null&&(Qr[Zr++]=ua,Qr[Zr++]=da,Qr[Zr++]=Gi,ua=e.id,da=e.overflow,Gi=t),t=fx(t,n.children),t.flags|=4096,t)}function e1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Pg(e.return,t,r)}function fm(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function IS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(lr(e,t,n.children,r),n=ft.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&e1(e,r,t);else if(e.tag===19)e1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qe(ft,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Xd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),fm(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Xd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}fm(t,!0,r,null,o);break;case"together":fm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ja(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=ti(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ti(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function OE(e,t,r){switch(t.tag){case 3:$S(t),os();break;case 5:sS(t);break;case 1:Cr(t.type)&&Ud(t);break;case 4:ax(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Qe(qd,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qe(ft,ft.current&1),t.flags|=128,null):r&t.child.childLanes?MS(e,t,r):(Qe(ft,ft.current&1),e=ja(e,t,r),e!==null?e.sibling:null);Qe(ft,ft.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return IS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Qe(ft,ft.current),n)break;return null;case 22:case 23:return t.lanes=0,_S(e,t,r)}return ja(e,t,r)}var DS,Dg,LS,RS;DS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dg=function(){};LS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Di(Bn.current);var o=null;switch(r){case"input":a=ag(e,a),n=ag(e,n),o=[];break;case"select":a=pt({},a,{value:void 0}),n=pt({},n,{value:void 0}),o=[];break;case"textarea":a=sg(e,a),n=sg(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wd)}cg(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ac.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ac.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&at("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};RS=function(e,t,r,n){r!==n&&(t.flags|=4)};function wl(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _E(e,t,r){var n=t.pendingProps;switch(Jy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(t),null;case 1:return Cr(t.type)&&Vd(),tr(t),null;case 3:return n=t.stateNode,ls(),st(Ar),st(ir),ox(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Uu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jn!==null&&(Ug(jn),jn=null))),Dg(e,t),tr(t),null;case 5:ix(t);var a=Di(gc.current);if(r=t.type,e!==null&&t.stateNode!=null)LS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return tr(t),null}if(e=Di(Bn.current),Uu(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Dn]=t,n[pc]=o,e=(t.mode&1)!==0,r){case"dialog":at("cancel",n),at("close",n);break;case"iframe":case"object":case"embed":at("load",n);break;case"video":case"audio":for(a=0;a<Rl.length;a++)at(Rl[a],n);break;case"source":at("error",n);break;case"img":case"image":case"link":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"input":cb(n,o),at("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},at("invalid",n);break;case"textarea":db(n,o),at("invalid",n)}cg(r,o),a=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Vu(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Vu(n.textContent,l,e),a=["children",""+l]):ac.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&at("scroll",n)}switch(r){case"input":Iu(n),ub(n,o,!0);break;case"textarea":Iu(n),fb(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Wd)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Dn]=t,e[pc]=n,DS(e,t,!1,!1),t.stateNode=e;e:{switch(s=ug(r,n),r){case"dialog":at("cancel",e),at("close",e),a=n;break;case"iframe":case"object":case"embed":at("load",e),a=n;break;case"video":case"audio":for(a=0;a<Rl.length;a++)at(Rl[a],e);a=n;break;case"source":at("error",e),a=n;break;case"img":case"image":case"link":at("error",e),at("load",e),a=n;break;case"details":at("toggle",e),a=n;break;case"input":cb(e,n),a=ag(e,n),at("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=pt({},n,{value:void 0}),at("invalid",e);break;case"textarea":db(e,n),a=sg(e,n),at("invalid",e);break;default:a=n}cg(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?mN(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hN(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ic(e,c):typeof c=="number"&&ic(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ac.hasOwnProperty(o)?c!=null&&o==="onScroll"&&at("scroll",e):c!=null&&Dy(e,o,c,s))}switch(r){case"input":Iu(e),ub(e,n,!1);break;case"textarea":Iu(e),fb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+oi(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Yo(e,!!n.multiple,o,!1):n.defaultValue!=null&&Yo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Wd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tr(t),null;case 6:if(e&&t.stateNode!=null)RS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));if(r=Di(gc.current),Di(Bn.current),Uu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Dn]=t,(o=n.nodeValue!==r)&&(e=Rr,e!==null))switch(e.tag){case 3:Vu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vu(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Dn]=t,t.stateNode=n}return tr(t),null;case 13:if(st(ft),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&Lr!==null&&t.mode&1&&!(t.flags&128))rS(),os(),t.flags|=98560,o=!1;else if(o=Uu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ne(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[Dn]=t}else os(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tr(t),o=!1}else jn!==null&&(Ug(jn),jn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ft.current&1?Mt===0&&(Mt=3):xx())),t.updateQueue!==null&&(t.flags|=4),tr(t),null);case 4:return ls(),Dg(e,t),e===null&&fc(t.stateNode.containerInfo),tr(t),null;case 10:return tx(t.type._context),tr(t),null;case 17:return Cr(t.type)&&Vd(),tr(t),null;case 19:if(st(ft),o=t.memoizedState,o===null)return tr(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)wl(o,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Xd(e),s!==null){for(t.flags|=128,wl(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qe(ft,ft.current&1|2),t.child}e=e.sibling}o.tail!==null&&xt()>us&&(t.flags|=128,n=!0,wl(o,!1),t.lanes=4194304)}else{if(!n)if(e=Xd(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ut)return tr(t),null}else 2*xt()-o.renderingStartTime>us&&r!==1073741824&&(t.flags|=128,n=!0,wl(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=xt(),t.sibling=null,r=ft.current,Qe(ft,n?r&1|2:r&1),t):(tr(t),null);case 22:case 23:return yx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$r&1073741824&&(tr(t),t.subtreeFlags&6&&(t.flags|=8192)):tr(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function TE(e,t){switch(Jy(t),t.tag){case 1:return Cr(t.type)&&Vd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ls(),st(Ar),st(ir),ox(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ix(t),null;case 13:if(st(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(ft),null;case 4:return ls(),null;case 10:return tx(t.type._context),null;case 22:case 23:return yx(),null;case 24:return null;default:return null}}var qu=!1,nr=!1,$E=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Wo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mt(e,t,n)}else r.current=null}function Lg(e,t,r){try{r()}catch(n){mt(e,t,n)}}var t1=!1;function ME(e,t){if(bg=Fd,e=VN(),Yy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(l=s+a),d!==o||n!==0&&d.nodeType!==3||(c=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===a&&(l=s),h===o&&++f===n&&(c=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(wg={focusedElem:e,selectionRange:r},Fd=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,x=y.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:yn(t.type,m),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(k){mt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return y=t1,t1=!1,y}function Gl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Lg(t,r,o)}a=a.next}while(a!==n)}}function xh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Rg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function FS(e){var t=e.alternate;t!==null&&(e.alternate=null,FS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dn],delete t[pc],delete t[Ng],delete t[gE],delete t[yE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BS(e){return e.tag===5||e.tag===3||e.tag===4}function r1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wd));else if(n!==4&&(e=e.child,e!==null))for(Fg(e,t,r),e=e.sibling;e!==null;)Fg(e,t,r),e=e.sibling}function Bg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Bg(e,t,r),e=e.sibling;e!==null;)Bg(e,t,r),e=e.sibling}var Xt=null,xn=!1;function Da(e,t,r){for(r=r.child;r!==null;)zS(e,t,r),r=r.sibling}function zS(e,t,r){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(uh,r)}catch{}switch(r.tag){case 5:nr||Wo(r,t);case 6:var n=Xt,a=xn;Xt=null,Da(e,t,r),Xt=n,xn=a,Xt!==null&&(xn?(e=Xt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xt.removeChild(r.stateNode));break;case 18:Xt!==null&&(xn?(e=Xt,r=r.stateNode,e.nodeType===8?im(e.parentNode,r):e.nodeType===1&&im(e,r),cc(e)):im(Xt,r.stateNode));break;case 4:n=Xt,a=xn,Xt=r.stateNode.containerInfo,xn=!0,Da(e,t,r),Xt=n,xn=a;break;case 0:case 11:case 14:case 15:if(!nr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Lg(r,t,s),a=a.next}while(a!==n)}Da(e,t,r);break;case 1:if(!nr&&(Wo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){mt(r,t,l)}Da(e,t,r);break;case 21:Da(e,t,r);break;case 22:r.mode&1?(nr=(n=nr)||r.memoizedState!==null,Da(e,t,r),nr=n):Da(e,t,r);break;default:Da(e,t,r)}}function n1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $E),t.forEach(function(n){var a=VE.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function mn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Xt=l.stateNode,xn=!1;break e;case 3:Xt=l.stateNode.containerInfo,xn=!0;break e;case 4:Xt=l.stateNode.containerInfo,xn=!0;break e}l=l.return}if(Xt===null)throw Error(ne(160));zS(o,s,a),Xt=null,xn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){mt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)WS(t,e),t=t.sibling}function WS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(t,e),Mn(e),n&4){try{Gl(3,e,e.return),xh(3,e)}catch(m){mt(e,e.return,m)}try{Gl(5,e,e.return)}catch(m){mt(e,e.return,m)}}break;case 1:mn(t,e),Mn(e),n&512&&r!==null&&Wo(r,r.return);break;case 5:if(mn(t,e),Mn(e),n&512&&r!==null&&Wo(r,r.return),e.flags&32){var a=e.stateNode;try{ic(a,"")}catch(m){mt(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&uN(a,o),ug(l,s);var u=ug(l,o);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];f==="style"?mN(a,d):f==="dangerouslySetInnerHTML"?hN(a,d):f==="children"?ic(a,d):Dy(a,f,d,u)}switch(l){case"input":ig(a,o);break;case"textarea":dN(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Yo(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Yo(a,!!o.multiple,o.defaultValue,!0):Yo(a,!!o.multiple,o.multiple?[]:"",!1))}a[pc]=o}catch(m){mt(e,e.return,m)}}break;case 6:if(mn(t,e),Mn(e),n&4){if(e.stateNode===null)throw Error(ne(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(m){mt(e,e.return,m)}}break;case 3:if(mn(t,e),Mn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cc(t.containerInfo)}catch(m){mt(e,e.return,m)}break;case 4:mn(t,e),Mn(e);break;case 13:mn(t,e),Mn(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(mx=xt())),n&4&&n1(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(nr=(u=nr)||f,mn(t,e),nr=u):mn(t,e),Mn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ue=e,f=e.child;f!==null;){for(d=ue=f;ue!==null;){switch(h=ue,p=h.child,h.tag){case 0:case 11:case 14:case 15:Gl(4,h,h.return);break;case 1:Wo(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){mt(n,r,m)}}break;case 5:Wo(h,h.return);break;case 22:if(h.memoizedState!==null){i1(d);continue}}p!==null?(p.return=h,ue=p):i1(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,c=d.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=pN("display",s))}catch(m){mt(e,e.return,m)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){mt(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mn(t,e),Mn(e),n&4&&n1(e);break;case 21:break;default:mn(t,e),Mn(e)}}function Mn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(BS(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ic(a,""),n.flags&=-33);var o=r1(e);Bg(e,o,a);break;case 3:case 4:var s=n.stateNode.containerInfo,l=r1(e);Fg(e,l,s);break;default:throw Error(ne(161))}}catch(c){mt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IE(e,t,r){ue=e,VS(e)}function VS(e,t,r){for(var n=(e.mode&1)!==0;ue!==null;){var a=ue,o=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||qu;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||nr;l=qu;var u=nr;if(qu=s,(nr=c)&&!u)for(ue=a;ue!==null;)s=ue,c=s.child,s.tag===22&&s.memoizedState!==null?o1(a):c!==null?(c.return=s,ue=c):o1(a);for(;o!==null;)ue=o,VS(o),o=o.sibling;ue=a,qu=l,nr=u}a1(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,ue=o):a1(e)}}function a1(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nr||xh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!nr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:yn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Wb(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Wb(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&cc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}nr||t.flags&512&&Rg(t)}catch(h){mt(t,t.return,h)}}if(t===e){ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,ue=r;break}ue=t.return}}function i1(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ue=r;break}ue=t.return}}function o1(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xh(4,t)}catch(c){mt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){mt(t,a,c)}}var o=t.return;try{Rg(t)}catch(c){mt(t,o,c)}break;case 5:var s=t.return;try{Rg(t)}catch(c){mt(t,s,c)}}}catch(c){mt(t,t.return,c)}if(t===e){ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ue=l;break}ue=t.return}}var DE=Math.ceil,Zd=Pa.ReactCurrentDispatcher,hx=Pa.ReactCurrentOwner,sn=Pa.ReactCurrentBatchConfig,Oe=0,Ut=null,Nt=null,Jt=0,$r=0,Vo=ui(0),Mt=0,bc=null,Xi=0,vh=0,px=0,Yl=null,jr=null,mx=0,us=1/0,oa=null,ef=!1,zg=null,Za=null,Gu=!1,Ha=null,tf=0,Xl=0,Wg=null,kd=-1,Nd=0;function hr(){return Oe&6?xt():kd!==-1?kd:kd=xt()}function ei(e){return e.mode&1?Oe&2&&Jt!==0?Jt&-Jt:vE.transition!==null?(Nd===0&&(Nd=CN()),Nd):(e=Re,e!==0||(e=window.event,e=e===void 0?16:MN(e.type)),e):1}function Sn(e,t,r,n){if(50<Xl)throw Xl=0,Wg=null,Error(ne(185));au(e,r,n),(!(Oe&2)||e!==Ut)&&(e===Ut&&(!(Oe&2)&&(vh|=r),Mt===4&&Wa(e,Jt)),Pr(e,n),r===1&&Oe===0&&!(t.mode&1)&&(us=xt()+500,mh&&di()))}function Pr(e,t){var r=e.callbackNode;v4(e,t);var n=Rd(e,e===Ut?Jt:0);if(n===0)r!==null&&mb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&mb(r),t===1)e.tag===0?xE(s1.bind(null,e)):ZN(s1.bind(null,e)),pE(function(){!(Oe&6)&&di()}),r=null;else{switch(PN(n)){case 1:r=zy;break;case 4:r=SN;break;case 16:r=Ld;break;case 536870912:r=AN;break;default:r=Ld}r=JS(r,US.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function US(e,t){if(kd=-1,Nd=0,Oe&6)throw Error(ne(327));var r=e.callbackNode;if(es()&&e.callbackNode!==r)return null;var n=Rd(e,e===Ut?Jt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=rf(e,n);else{t=n;var a=Oe;Oe|=2;var o=KS();(Ut!==e||Jt!==t)&&(oa=null,us=xt()+500,Wi(e,t));do try{FE();break}catch(l){HS(e,l)}while(1);ex(),Zd.current=o,Oe=a,Nt!==null?t=0:(Ut=null,Jt=0,t=Mt)}if(t!==0){if(t===2&&(a=mg(e),a!==0&&(n=a,t=Vg(e,a))),t===1)throw r=bc,Wi(e,0),Wa(e,n),Pr(e,xt()),r;if(t===6)Wa(e,n);else{if(a=e.current.alternate,!(n&30)&&!LE(a)&&(t=rf(e,n),t===2&&(o=mg(e),o!==0&&(n=o,t=Vg(e,o))),t===1))throw r=bc,Wi(e,0),Wa(e,n),Pr(e,xt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ne(345));case 2:Ci(e,jr,oa);break;case 3:if(Wa(e,n),(n&130023424)===n&&(t=mx+500-xt(),10<t)){if(Rd(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){hr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=kg(Ci.bind(null,e,jr,oa),t);break}Ci(e,jr,oa);break;case 4:if(Wa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Nn(n);o=1<<s,s=t[s],s>a&&(a=s),n&=~o}if(n=a,n=xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*DE(n/1960))-n,10<n){e.timeoutHandle=kg(Ci.bind(null,e,jr,oa),n);break}Ci(e,jr,oa);break;case 5:Ci(e,jr,oa);break;default:throw Error(ne(329))}}}return Pr(e,xt()),e.callbackNode===r?US.bind(null,e):null}function Vg(e,t){var r=Yl;return e.current.memoizedState.isDehydrated&&(Wi(e,t).flags|=256),e=rf(e,t),e!==2&&(t=jr,jr=r,t!==null&&Ug(t)),e}function Ug(e){jr===null?jr=e:jr.push.apply(jr,e)}function LE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!En(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wa(e,t){for(t&=~px,t&=~vh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Nn(t),n=1<<r;e[r]=-1,t&=~n}}function s1(e){if(Oe&6)throw Error(ne(327));es();var t=Rd(e,0);if(!(t&1))return Pr(e,xt()),null;var r=rf(e,t);if(e.tag!==0&&r===2){var n=mg(e);n!==0&&(t=n,r=Vg(e,n))}if(r===1)throw r=bc,Wi(e,0),Wa(e,t),Pr(e,xt()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ci(e,jr,oa),Pr(e,xt()),null}function gx(e,t){var r=Oe;Oe|=1;try{return e(t)}finally{Oe=r,Oe===0&&(us=xt()+500,mh&&di())}}function Ji(e){Ha!==null&&Ha.tag===0&&!(Oe&6)&&es();var t=Oe;Oe|=1;var r=sn.transition,n=Re;try{if(sn.transition=null,Re=1,e)return e()}finally{Re=n,sn.transition=r,Oe=t,!(Oe&6)&&di()}}function yx(){$r=Vo.current,st(Vo)}function Wi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hE(r)),Nt!==null)for(r=Nt.return;r!==null;){var n=r;switch(Jy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vd();break;case 3:ls(),st(Ar),st(ir),ox();break;case 5:ix(n);break;case 4:ls();break;case 13:st(ft);break;case 19:st(ft);break;case 10:tx(n.type._context);break;case 22:case 23:yx()}r=r.return}if(Ut=e,Nt=e=ti(e.current,null),Jt=$r=t,Mt=0,bc=null,px=vh=Xi=0,jr=Yl=null,Ii!==null){for(t=0;t<Ii.length;t++)if(r=Ii[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=a,n.next=s}r.pending=n}Ii=null}return e}function HS(e,t){do{var r=Nt;try{if(ex(),bd.current=Qd,Jd){for(var n=ht.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Jd=!1}if(Yi=0,Bt=Tt=ht=null,ql=!1,yc=0,hx.current=null,r===null||r.return===null){Mt=1,bc=t,Nt=null;break}e:{var o=e,s=r.return,l=r,c=t;if(t=Jt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Gb(s);if(p!==null){p.flags&=-257,Yb(p,s,l,o,t),p.mode&1&&qb(o,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){qb(o,u,t),xx();break e}c=Error(ne(426))}}else if(ut&&l.mode&1){var x=Gb(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Yb(x,s,l,o,t),Qy(cs(c,l));break e}}o=c=cs(c,l),Mt!==4&&(Mt=2),Yl===null?Yl=[o]:Yl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=PS(o,c,t);zb(o,g);break e;case 1:l=c;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Za===null||!Za.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=ES(o,l,t);zb(o,k);break e}}o=o.return}while(o!==null)}GS(r)}catch(w){t=w,Nt===r&&r!==null&&(Nt=r=r.return);continue}break}while(1)}function KS(){var e=Zd.current;return Zd.current=Qd,e===null?Qd:e}function xx(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Ut===null||!(Xi&268435455)&&!(vh&268435455)||Wa(Ut,Jt)}function rf(e,t){var r=Oe;Oe|=2;var n=KS();(Ut!==e||Jt!==t)&&(oa=null,Wi(e,t));do try{RE();break}catch(a){HS(e,a)}while(1);if(ex(),Oe=r,Zd.current=n,Nt!==null)throw Error(ne(261));return Ut=null,Jt=0,Mt}function RE(){for(;Nt!==null;)qS(Nt)}function FE(){for(;Nt!==null&&!u4();)qS(Nt)}function qS(e){var t=XS(e.alternate,e,$r);e.memoizedProps=e.pendingProps,t===null?GS(e):Nt=t,hx.current=null}function GS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=TE(r,t),r!==null){r.flags&=32767,Nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Nt=null;return}}else if(r=_E(r,t,$r),r!==null){Nt=r;return}if(t=t.sibling,t!==null){Nt=t;return}Nt=t=e}while(t!==null);Mt===0&&(Mt=5)}function Ci(e,t,r){var n=Re,a=sn.transition;try{sn.transition=null,Re=1,BE(e,t,r,n)}finally{sn.transition=a,Re=n}return null}function BE(e,t,r,n){do es();while(Ha!==null);if(Oe&6)throw Error(ne(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(b4(e,o),e===Ut&&(Nt=Ut=null,Jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gu||(Gu=!0,JS(Ld,function(){return es(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=sn.transition,sn.transition=null;var s=Re;Re=1;var l=Oe;Oe|=4,hx.current=null,ME(e,r),WS(r,e),oE(wg),Fd=!!bg,wg=bg=null,e.current=r,IE(r),d4(),Oe=l,Re=s,sn.transition=o}else e.current=r;if(Gu&&(Gu=!1,Ha=e,tf=a),o=e.pendingLanes,o===0&&(Za=null),p4(r.stateNode),Pr(e,xt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ef)throw ef=!1,e=zg,zg=null,e;return tf&1&&e.tag!==0&&es(),o=e.pendingLanes,o&1?e===Wg?Xl++:(Xl=0,Wg=e):Xl=0,di(),null}function es(){if(Ha!==null){var e=PN(tf),t=sn.transition,r=Re;try{if(sn.transition=null,Re=16>e?16:e,Ha===null)var n=!1;else{if(e=Ha,Ha=null,tf=0,Oe&6)throw Error(ne(331));var a=Oe;for(Oe|=4,ue=e.current;ue!==null;){var o=ue,s=o.child;if(ue.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ue=u;ue!==null;){var f=ue;switch(f.tag){case 0:case 11:case 15:Gl(8,f,o)}var d=f.child;if(d!==null)d.return=f,ue=d;else for(;ue!==null;){f=ue;var h=f.sibling,p=f.return;if(FS(f),f===u){ue=null;break}if(h!==null){h.return=p,ue=h;break}ue=p}}}var y=o.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}ue=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ue=s;else e:for(;ue!==null;){if(o=ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gl(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,ue=g;break e}ue=o.return}}var v=e.current;for(ue=v;ue!==null;){s=ue;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ue=b;else e:for(s=v;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xh(9,l)}}catch(w){mt(l,l.return,w)}if(l===s){ue=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ue=k;break e}ue=l.return}}if(Oe=a,di(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(uh,e)}catch{}n=!0}return n}finally{Re=r,sn.transition=t}}return!1}function l1(e,t,r){t=cs(r,t),t=PS(e,t,1),e=Qa(e,t,1),t=hr(),e!==null&&(au(e,1,t),Pr(e,t))}function mt(e,t,r){if(e.tag===3)l1(e,e,r);else for(;t!==null;){if(t.tag===3){l1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Za===null||!Za.has(n))){e=cs(r,e),e=ES(t,e,1),t=Qa(t,e,1),e=hr(),t!==null&&(au(t,1,e),Pr(t,e));break}}t=t.return}}function zE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=hr(),e.pingedLanes|=e.suspendedLanes&r,Ut===e&&(Jt&r)===r&&(Mt===4||Mt===3&&(Jt&130023424)===Jt&&500>xt()-mx?Wi(e,0):px|=r),Pr(e,t)}function YS(e,t){t===0&&(e.mode&1?(t=Ru,Ru<<=1,!(Ru&130023424)&&(Ru=4194304)):t=1);var r=hr();e=wa(e,t),e!==null&&(au(e,t,r),Pr(e,r))}function WE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),YS(e,r)}function VE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(t),YS(e,r)}var XS;XS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ar.current)kr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return kr=!1,OE(e,t,r);kr=!!(e.flags&131072)}else kr=!1,ut&&t.flags&1048576&&eS(t,Kd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;jd(e,t),e=t.pendingProps;var a=is(t,ir.current);Zo(t,r),a=lx(null,t,n,e,a,r);var o=cx();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cr(n)?(o=!0,Ud(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,nx(t),a.updater=yh,t.stateNode=a,a._reactInternals=t,Og(t,n,e,r),t=$g(null,t,n,!0,o,r)):(t.tag=0,ut&&o&&Xy(t),lr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(jd(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=HE(n),e=yn(n,e),a){case 0:t=Tg(null,t,n,e,r);break e;case 1:t=Qb(null,t,n,e,r);break e;case 11:t=Xb(null,t,n,e,r);break e;case 14:t=Jb(null,t,n,yn(n.type,e),r);break e}throw Error(ne(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yn(n,a),Tg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yn(n,a),Qb(e,t,n,a,r);case 3:e:{if($S(t),e===null)throw Error(ne(387));n=t.pendingProps,o=t.memoizedState,a=o.element,oS(e,t),Yd(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=cs(Error(ne(423)),t),t=Zb(e,t,n,r,a);break e}else if(n!==a){a=cs(Error(ne(424)),t),t=Zb(e,t,n,r,a);break e}else for(Lr=Ja(t.stateNode.containerInfo.firstChild),Rr=t,ut=!0,jn=null,r=aS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(os(),n===a){t=ja(e,t,r);break e}lr(e,t,n,r)}t=t.child}return t;case 5:return sS(t),e===null&&Cg(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,s=a.children,jg(n,a)?s=null:o!==null&&jg(n,o)&&(t.flags|=32),TS(e,t),lr(e,t,s,r),t.child;case 6:return e===null&&Cg(t),null;case 13:return MS(e,t,r);case 4:return ax(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ss(t,null,n,r):lr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yn(n,a),Xb(e,t,n,a,r);case 7:return lr(e,t,t.pendingProps,r),t.child;case 8:return lr(e,t,t.pendingProps.children,r),t.child;case 12:return lr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Qe(qd,n._currentValue),n._currentValue=s,o!==null)if(En(o.value,s)){if(o.children===a.children&&!Ar.current){t=ja(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=ma(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Pg(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ne(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Pg(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}lr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Zo(t,r),a=ln(a),n=n(a),t.flags|=1,lr(e,t,n,r),t.child;case 14:return n=t.type,a=yn(n,t.pendingProps),a=yn(n.type,a),Jb(e,t,n,a,r);case 15:return OS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yn(n,a),jd(e,t),t.tag=1,Cr(n)?(e=!0,Ud(t)):e=!1,Zo(t,r),CS(t,n,a),Og(t,n,a,r),$g(null,t,n,!0,e,r);case 19:return IS(e,t,r);case 22:return _S(e,t,r)}throw Error(ne(156,t.tag))};function JS(e,t){return NN(e,t)}function UE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(e,t,r,n){return new UE(e,t,r,n)}function vx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HE(e){if(typeof e=="function")return vx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ry)return 11;if(e===Fy)return 14}return 2}function ti(e,t){var r=e.alternate;return r===null?(r=nn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sd(e,t,r,n,a,o){var s=2;if(n=e,typeof e=="function")vx(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case $o:return Vi(r.children,a,o,t);case Ly:s=8,a|=8;break;case eg:return e=nn(12,r,t,a|2),e.elementType=eg,e.lanes=o,e;case tg:return e=nn(13,r,t,a),e.elementType=tg,e.lanes=o,e;case rg:return e=nn(19,r,t,a),e.elementType=rg,e.lanes=o,e;case sN:return bh(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iN:s=10;break e;case oN:s=9;break e;case Ry:s=11;break e;case Fy:s=14;break e;case Ra:s=16,n=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=nn(s,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function Vi(e,t,r,n){return e=nn(7,e,n,t),e.lanes=r,e}function bh(e,t,r,n){return e=nn(22,e,n,t),e.elementType=sN,e.lanes=r,e.stateNode={isHidden:!1},e}function hm(e,t,r){return e=nn(6,e,null,t),e.lanes=r,e}function pm(e,t,r){return t=nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KE(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gp(0),this.expirationTimes=Gp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bx(e,t,r,n,a,o,s,l,c){return e=new KE(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=nn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nx(o),e}function qE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function QS(e){if(!e)return si;e=e._reactInternals;e:{if(so(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(Cr(r))return QN(e,r,t)}return t}function ZS(e,t,r,n,a,o,s,l,c){return e=bx(r,n,!0,e,a,o,s,l,c),e.context=QS(null),r=e.current,n=hr(),a=ei(r),o=ma(n,a),o.callback=t??null,Qa(r,o,a),e.current.lanes=a,au(e,a,n),Pr(e,n),e}function wh(e,t,r,n){var a=t.current,o=hr(),s=ei(a);return r=QS(r),t.context===null?t.context=r:t.pendingContext=r,t=ma(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Qa(a,t,s),e!==null&&(Sn(e,a,s,o),vd(e,a,s)),s}function nf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function c1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wx(e,t){c1(e,t),(e=e.alternate)&&c1(e,t)}function GE(){return null}var e5=typeof reportError=="function"?reportError:function(e){console.error(e)};function jx(e){this._internalRoot=e}jh.prototype.render=jx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));wh(e,t,null,null)};jh.prototype.unmount=jx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ji(function(){wh(null,e,null,null)}),t[ba]=null}};function jh(e){this._internalRoot=e}jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=_N();e={blockedOn:null,target:e,priority:t};for(var r=0;r<za.length&&t!==0&&t<za[r].priority;r++);za.splice(r,0,e),r===0&&$N(e)}};function kx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function u1(){}function YE(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=nf(s);o.call(u)}}var s=ZS(t,n,e,0,null,!1,!1,"",u1);return e._reactRootContainer=s,e[ba]=s.current,fc(e.nodeType===8?e.parentNode:e),Ji(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=nf(c);l.call(u)}}var c=bx(e,0,!1,null,null,!1,!1,"",u1);return e._reactRootContainer=c,e[ba]=c.current,fc(e.nodeType===8?e.parentNode:e),Ji(function(){wh(t,c,r,n)}),c}function Nh(e,t,r,n,a){var o=r._reactRootContainer;if(o){var s=o;if(typeof a=="function"){var l=a;a=function(){var c=nf(s);l.call(c)}}wh(t,s,e,a)}else s=YE(r,t,e,a,n);return nf(s)}EN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ll(t.pendingLanes);r!==0&&(Wy(t,r|1),Pr(t,xt()),!(Oe&6)&&(us=xt()+500,di()))}break;case 13:Ji(function(){var n=wa(e,1);if(n!==null){var a=hr();Sn(n,e,1,a)}}),wx(e,1)}};Vy=function(e){if(e.tag===13){var t=wa(e,134217728);if(t!==null){var r=hr();Sn(t,e,134217728,r)}wx(e,134217728)}};ON=function(e){if(e.tag===13){var t=ei(e),r=wa(e,t);if(r!==null){var n=hr();Sn(r,e,t,n)}wx(e,t)}};_N=function(){return Re};TN=function(e,t){var r=Re;try{return Re=e,t()}finally{Re=r}};fg=function(e,t,r){switch(t){case"input":if(ig(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ph(n);if(!a)throw Error(ne(90));cN(n),ig(n,a)}}}break;case"textarea":dN(e,r);break;case"select":t=r.value,t!=null&&Yo(e,!!r.multiple,t,!1)}};xN=gx;vN=Ji;var XE={usingClientEntryPoint:!1,Events:[ou,Lo,ph,gN,yN,gx]},jl={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JE={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jN(e),e===null?null:e.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||GE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{uh=Yu.inject(JE),Fn=Yu}catch{}}Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XE;Wr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kx(t))throw Error(ne(200));return qE(e,t,null,r)};Wr.createRoot=function(e,t){if(!kx(e))throw Error(ne(299));var r=!1,n="",a=e5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=bx(e,1,!1,null,null,r,!1,n,a),e[ba]=t.current,fc(e.nodeType===8?e.parentNode:e),new jx(t)};Wr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=jN(t),e=e===null?null:e.stateNode,e};Wr.flushSync=function(e){return Ji(e)};Wr.hydrate=function(e,t,r){if(!kh(t))throw Error(ne(200));return Nh(null,e,t,!0,r)};Wr.hydrateRoot=function(e,t,r){if(!kx(e))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",s=e5;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=ZS(t,null,e,1,r??null,a,!1,o,s),e[ba]=t.current,fc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new jh(t)};Wr.render=function(e,t,r){if(!kh(t))throw Error(ne(200));return Nh(null,e,t,!1,r)};Wr.unmountComponentAtNode=function(e){if(!kh(e))throw Error(ne(40));return e._reactRootContainer?(Ji(function(){Nh(null,null,e,!1,function(){e._reactRootContainer=null,e[ba]=null})}),!0):!1};Wr.unstable_batchedUpdates=gx;Wr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kh(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return Nh(e,t,r,!1,n)};Wr.version="18.3.1-next-f1338f8080-20240426";function t5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t5)}catch(e){console.error(e)}}t5(),tN.exports=Wr;var QE=tN.exports,d1=QE;Qm.createRoot=d1.createRoot,Qm.hydrateRoot=d1.hydrateRoot;const r5=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Ue=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m-4 4v-4m0 4H7m10 0a2 2 0 100-4 2 2 0 000 4zM7 12H3m4 0a2 2 0 100-4 2 2 0 000 4z"})}),Sh=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 21a6 6 0 006-6v-1a6 6 0 00-9-5.197"})}),ka=({className:e})=>i.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v4m0 12v4m-8-8H2m20 0h-2m-3-3l-2-2m-4 4l-2 2m8-4l-2 2m-4-4l-2-2"})]}),n5=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})}),Nx=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),tn=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),ga=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),ri=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),wc=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),Qi=({className:e})=>i.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),Ir=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498l4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 00-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0z"})}),Fl=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),f1=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"})}),ni=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),ZE=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S12 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S12 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})}),Sx=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),h1=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),p1=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),Ad=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Cd=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Pd=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})}),ca=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),eO=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})}),m1=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),g1=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),tO=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})}),y1=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),af=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),a5=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),wi=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.745 3.745 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.745 3.745 0 013.296-1.043A3.745 3.745 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.745 3.745 0 013.296 1.043 3.745 3.745 0 011.043 3.296A3.745 3.745 0 0121 12z"})}),rO=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),x1=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),v1=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})}),nO=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),aO=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),iO=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})}),oO=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),sO=({className:e})=>i.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),kl=({className:e})=>i.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),lO=({icon:e,label:t,isActive:r,onClick:n})=>i.jsxs("button",{onClick:n,className:`flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-200 ${r?"bg-primary-500/10 dark:bg-primary-500/10 bg-primary-50 text-primary-600 dark:text-primary-500 border-l-4 border-primary-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-dark-700 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e,i.jsx("span",{className:"ml-4",children:t})]}),cO=({activeView:e,setActiveView:t,isOpen:r,setIsOpen:n,onLogout:a,profile:o})=>{const s=u=>{t(u),window.innerWidth<1024&&n(!1)},l=[{id:"dashboard",icon:i.jsx(r5,{className:"h-5 w-5"}),label:"Dashboard"},{id:"subscriptions",icon:i.jsx(Qi,{className:"h-5 w-5"}),label:"Subscriptions"},{id:"rides",icon:i.jsx(Ue,{className:"h-5 w-5"}),label:"Rides"},{id:"vehicles",icon:i.jsx(Ue,{className:"h-5 w-5"}),label:"Vehicles"},{id:"drivers",icon:i.jsx(ka,{className:"h-5 w-5"}),label:"Drivers"},{id:"riders",icon:i.jsx(Sh,{className:"h-5 w-5"}),label:"Riders"},{id:"pricing",icon:i.jsx(n5,{className:"h-5 w-5"}),label:"Pricing & Surge"},{id:"chat",icon:i.jsx(ni,{className:"h-5 w-5"}),label:" Chat"}],c=i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between h-20 px-4 border-b border-gray-200 dark:border-dark-700",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"RideX"})}),i.jsx("button",{onClick:()=>n(!1),className:"lg:hidden text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:i.jsx(tn,{className:"h-6 w-6"})})]}),i.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto no-scrollbar",children:l.map(u=>i.jsx(lO,{icon:u.icon,label:u.label,isActive:e===u.id,onClick:()=>s(u.id)},u.id))}),i.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-dark-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[o!=null&&o.avatar?i.jsx("img",{className:"h-10 w-10 rounded-full object-cover ring-2 ring-primary-500",src:o.avatar,alt:o.name||"Admin"}):i.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold ring-2 ring-primary-500",children:(()=>((o==null?void 0:o.name)||"System Admin").split(" ").map(d=>d[0]).join("").substring(0,2).toUpperCase())()}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(o==null?void 0:o.name)||"System Admin"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[120px]",title:(o==null?void 0:o.email)||"admin@ridex.com",children:(o==null?void 0:o.email)||"admin@ridex.com"})]})]}),i.jsx("button",{onClick:a,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Logout",children:i.jsx(tO,{className:"h-5 w-5"})})]})})]});return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`fixed inset-0 z-30 bg-black/50 dark:bg-black/80 transition-opacity lg:hidden ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>n(!1)}),i.jsx("aside",{className:`fixed top-0 left-0 z-40 w-64 h-screen bg-white dark:bg-dark-800 shadow-xl border-r border-gray-200 dark:border-dark-700 transition-transform duration-300 ease-in-out lg:translate-x-0 ${r?"translate-x-0":"-translate-x-full"}`,children:c})]})},Y={login:async(e,t)=>{const r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok){const a=await r.json();throw new Error(a.message||"Login failed")}const n=await r.json();return n.token&&localStorage.setItem("token",n.token),n.user},getSearchItems:()=>[{id:"dash",label:"Dashboard",subLabel:"Overview",view:"dashboard",keywords:["analytics","home"]},{id:"rides",label:"Rides",subLabel:"Manage Rides",view:"rides",keywords:["trips","history"]},{id:"drivers",label:"Drivers",subLabel:"Manage Drivers",view:"drivers",keywords:["staff","partners"]},{id:"riders",label:"Riders",subLabel:"Manage Riders",view:"riders",keywords:["users","customers"]},{id:"rev",label:"Revenue",subLabel:"Financials",view:"revenue",keywords:["money","profit"]},{id:"pricing",label:"Pricing",subLabel:"Settings",view:"pricing",keywords:["rates","surge"]}],searchVehicles:async e=>[],getDashboardData:async()=>{try{const e=await fetch("/api/admin/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch dashboard data");return await e.json()}catch(e){return console.error("API Error:",e),{weekly:[],lastWeek:[],monthly:[],mapVehicles:[]}}},getSubscriptionPlans:async()=>{try{const e=await fetch("/api/subscriptions/plans",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch subscription plans");return await e.json()}catch(e){return console.error("API Error:",e),{plans:[]}}},createSubscriptionPlan:async e=>{const t=await fetch("/api/admin/plans",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create subscription plan");return await t.json()},updateSubscriptionPlan:async(e,t)=>{const r=await fetch(`/api/admin/plans/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to update subscription plan");return await r.json()},getRides:async()=>{try{const e=await fetch("/api/admin/rides",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch rides");return await e.json()}catch(e){return console.error("API Error:",e),[]}},updateRideStatus:async(e,t)=>{const r=await fetch(`/api/rides/${e}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:t})});if(!r.ok)throw new Error("Failed to update ride status");return await r.json()},getDrivers:async()=>{try{const e=await fetch("/api/admin/drivers",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch drivers");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getRiders:async()=>{try{const e=await fetch("/api/admin/riders",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch riders");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getRevenueData:async()=>{try{const e=await fetch("/api/admin/revenue",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch revenue data");return await e.json()}catch(e){return console.error("API Error:",e),{annual:[],transactions:[]}}},getPricingZones:async()=>{try{const e=await fetch("/api/admin/zones",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch pricing zones");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getTotalRidesData:async()=>{try{const e=await fetch("/api/admin/stats/rides",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch total rides data");return await e.json()}catch(e){return console.error("API Error:",e),{weekly:[],monthly:[],yearly:[]}}},getAllVehicles:async()=>{try{const e=await fetch("/api/admin/vehicles",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch vehicles");return await e.json()}catch(e){throw console.error("Error fetching vehicles:",e),e}},getRideShareData:async()=>{try{const e=await fetch("/api/admin/stats/share",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch ride share data");return await e.json()}catch(e){return console.error("API Error:",e),{weekly:[],monthly:[]}}},getForHireData:async()=>{try{const e=await fetch("/api/admin/stats/hire",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch for hire data");return await e.json()}catch(e){return console.error("API Error:",e),{weekly:[],monthly:[],categories:[]}}},getPublicRideSharePosts:async()=>{try{const e=await fetch("/api/marketplace/rideshare");if(!e.ok)throw new Error("Failed to fetch ride share posts");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getPublicHirePosts:async()=>{try{const e=await fetch("/api/marketplace/hire");if(!e.ok)throw new Error("Failed to fetch hire posts");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getPublicMarketplace:async()=>{try{const e=await fetch("/api/marketplace/all");if(!e.ok)throw new Error("Failed to fetch marketplace");return await e.json()}catch(e){return console.error("API Error:",e),{rideShare:[],hire:[],total:0}}},createConversation:async e=>{try{const t=await fetch("/api/chat/conversations",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({recipientId:e})});if(!t.ok)throw new Error("Failed to create conversation");return await t.json()}catch(t){throw console.error("API Error:",t),t}},getConversations:async()=>{try{const e=await fetch("/api/chat/conversations",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch conversations");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getMapVehicles:async()=>{try{const e=await fetch("/api/map/vehicles",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch map vehicles");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getDriverProfile:async()=>{try{const e=await fetch("/api/driver/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch driver profile");return await e.json()}catch(e){return console.error("API Error:",e),{name:"",avatar:"",rating:0,role:""}}},getDriverNotifications:async()=>{try{const e=await fetch("/api/driver/notifications",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch notifications");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getDriverVehicles:async()=>{try{const e=await fetch("/api/driver/vehicles",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch vehicles");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getDriverConversations:async()=>{try{const e=await fetch("/api/chat/conversations",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch driver conversations");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getDriverActivePosts:async()=>{try{const e=await fetch("/api/driver/posts/share",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch active posts");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getDriverHirePosts:async()=>{try{const e=await fetch("/api/driver/posts/hire",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch hire posts");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getDriverContractedJobs:async()=>{try{const e=await fetch("/api/driver/jobs",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch contracted jobs");return await e.json()}catch(e){return console.error("API Error:",e),[]}},addDriverSharePost:async e=>{const t=await fetch("/api/driver/posts/share",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create share post");return await t.json()},createManualJob:async e=>{const t=await fetch("/api/driver/jobs",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create manual job");return await t.json()},addDriverHirePost:async e=>{const t=await fetch("/api/driver/posts/hire",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create hire post");return await t.json()},addVehicle:async e=>{const t=await fetch("/api/driver/vehicles",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to add vehicle");return await t.json()},getDriverProfitStats:async()=>{try{const e=await fetch("/api/driver/stats/profit",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch profit stats");return await e.json()}catch(e){return console.error("API Error:",e),{Weekly:[],Monthly:[],Yearly:[]}}},getDriverTripHistoryStats:async()=>{try{const e=await fetch("/api/driver/stats/trips",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch trip history stats");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getDriverDistanceStats:async()=>{try{const e=await fetch("/api/driver/stats/distance",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch distance stats");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getDriverHoursStats:async()=>{try{const e=await fetch("/api/driver/stats/hours",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch hours stats");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getDriverOnTimeStats:async()=>{try{const e=await fetch("/api/driver/stats/ontime",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch on-time stats");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getDriverStats:async()=>{try{const e=await fetch("/api/driver/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch driver stats");return await e.json()}catch(e){return console.error("API Error:",e),{totalEarnings:0,count:0,avgRating:5}}},getRiderProfile:async()=>{try{const e=await fetch("/api/rider/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch rider profile");return await e.json()}catch(e){return console.error("API Error:",e),{name:"",avatar:"",rating:0}}},getRiderStats:async()=>{try{const e=await fetch("/api/rider/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch rider stats");return await e.json()}catch(e){return console.error("API Error:",e),{totalSpend:0,totalRides:0,totalDistance:0,chartData:[],rideTypes:[]}}},getRiderHistory:async()=>{try{const e=await fetch("/api/rider/history",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch rider history");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getAllRideSharePosts:async()=>{try{const e=await fetch("/api/rider/marketplace/share",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch ride share posts");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getAllForHirePosts:async()=>{try{const e=await fetch("/api/rider/marketplace/hire",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch for hire posts");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getMobileMoneyOperators:async()=>{try{const e=await fetch("/api/payment/operators",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch mobile money operators");return(await e.json()).operators||[]}catch(e){return console.error("Error fetching mobile money operators:",e),[]}},initiatePayment:async e=>{try{const t=await fetch("/api/payment/initiate",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.error||"Payment initiation failed")}return await t.json()}catch(t){return console.error("Error initiating payment:",t),{status:"error",message:t instanceof Error?t.message:"Payment initiation failed"}}},verifyPayment:async e=>{try{const t=await fetch(`/api/payment/verify/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Payment verification failed");return await t.json()}catch(t){return console.error("Error verifying payment:",t),{status:"failed"}}},getRiderConversations:async()=>{try{const e=await fetch("/api/chat/conversations",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch rider conversations");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getRiderTransactions:async()=>{try{const e=await fetch("/api/rider/transactions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch rider transactions");return await e.json()}catch(e){return console.error("API Error:",e),[]}},getDriverTransactions:async()=>{try{const e=await fetch("/api/driver/transactions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch driver transactions");return await e.json()}catch(e){return console.error("API Error:",e),[]}},searchRideShareVehicles:async(e,t)=>{const r=await fetch(`/api/rider/rideshare/search?pickupLocation=${encodeURIComponent(e)}&destination=${encodeURIComponent(t)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok)throw new Error("Failed to search vehicles");return await r.json()},submitRideRequest:async e=>{const t=await fetch("/api/rider/rideshare/request",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to submit ride request");return await t.json()},submitHireRequest:async e=>{const t=await fetch("/api/rider/hire/request",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to submit hire request");return await t.json()},makeCounterOffer:async(e,t)=>{const r=await fetch(`/api/rider/rides/${e}/negotiate`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to make counter offer");return await r.json()},getPendingRequests:async()=>{const e=await fetch("/api/rider/requests/pending",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch pending requests");return await e.json()},getDriverPendingApprovals:async()=>{const e=await fetch("/api/driver/requests/pending",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch pending approvals");return await e.json()},approveRequest:async(e,t)=>{const r=await fetch(`/api/driver/requests/${e}/approve`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to approve/reject request");return await r.json()},makeDriverCounterOffer:async(e,t)=>{const r=await fetch(`/api/driver/requests/${e}/counter-offer`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to make counter offer");return await r.json()},cancelRide:async e=>{const t=await fetch(`/api/rides/${e}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:"Cancelled"})});if(!t.ok)throw new Error("Failed to cancel ride");return await t.json()},selectPaymentMethod:async(e,t)=>{const r=await fetch(`/api/rides/${e}/payment-method`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({paymentType:t})});if(!r.ok)throw new Error("Failed to end trip");return await r.json()},confirmPickup:async e=>{const t=await fetch(`/api/rides/${e}/confirm-pickup`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to confirm pickup");return await t.json()},confirmHandover:async e=>{const t=await fetch(`/api/rides/${e}/confirm-handover`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to confirm handover");return await t.json()},completeHandover:async(e,t)=>{const r=await fetch(`/api/rides/${e}/complete-handover`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({paymentMethod:t})});if(!r.ok)throw new Error("Failed to complete handover");return await r.json()},requestVehicleReturn:async e=>{const t=await fetch(`/api/rides/${e}/request-return`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to request vehicle return");return await t.json()},confirmVehicleReturn:async e=>{const t=await fetch(`/api/rides/${e}/confirm-return`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to confirm vehicle return");return await t.json()},startPickup:async e=>{const t=await fetch(`/api/rides/${e}/start-pickup`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to start pickup");return await t.json()},arriveAtPickup:async e=>{const t=await fetch(`/api/rides/${e}/arrive-at-pickup`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to arrive at pickup");return await t.json()},boardPassenger:async(e,t)=>{const r=await fetch(`/api/rides/${e}/board-passenger`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({passengerIndex:t})});if(!r.ok)throw new Error("Failed to board passenger");return await r.json()},confirmBoarding:async e=>{const t=await fetch(`/api/rides/${e}/confirm-boarding`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!t.ok)throw new Error("Failed to confirm boarding");return await t.json()},startTrip:async e=>{const t=await fetch(`/api/rides/${e}/start-trip`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to start trip");return await t.json()},selectPaymentTiming:async(e,t)=>{const r=await fetch(`/api/rides/${e}/payment-timing`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({paymentTiming:t})});if(!r.ok)throw new Error("Failed to select payment timing");return await r.json()},saveDriverDocuments:async e=>{const t=await fetch("/api/driver/documents",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:e});if(!t.ok)throw new Error("Failed to save driver documents");return await t.json()},saveDriverPayoutDetails:async e=>{const t=await fetch("/api/driver/payout-details",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to save payout details");return await t.json()},getDriverPayoutDetails:async e=>{console.log(` [API] fetching payout details for driverId: "${e}"`);const t=await fetch(`/api/driver/${e}/payout-details`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok){const r=await t.text();throw console.error(` [API] Failed to fetch driver payout details. Status: ${t.status}. Response:`,r.substring(0,100)),new Error(`Failed to fetch driver payout details: ${t.status}`)}return await t.json()},requestPayout:async(e,t,r="AIRTEL",n="mobile")=>{const a=await fetch("/api/payment/payout",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({amount:e,mobileNumber:t,providerRefId:r,payoutMethod:n})});if(!a.ok){const o=await a.json();throw new Error(o.error||o.message||"Payout failed")}return await a.json()},initiateSubscriptionPayment:async(e,t,r)=>await(await fetch("/api/subscriptions/initiate",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({planId:e,mobileNumber:t,providerRefId:r})})).json(),uploadVehicleImage:async e=>{const t=new FormData;t.append("image",e);const r=await fetch("/api/driver/vehicles/upload-image",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t});if(!r.ok)throw new Error("Failed to upload vehicle image");return await r.json()},uploadPostImage:async(e,t)=>{const r=new FormData;r.append("image",e);const n=await fetch(`/api/driver/posts/${t}/upload-image`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:r});if(!n.ok)throw new Error("Failed to upload post image");return await n.json()},getAssetUrl:e=>e?e.startsWith("http")||e.startsWith("data:")||e.startsWith("/")?e:`/${e}`:""},i5=S.createContext(void 0),uO=({children:e})=>{const[t,r]=S.useState(()=>{try{if(window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches)return"light"}catch{}return"dark"});S.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(t)},[t]);const n=()=>{r(a=>a==="dark"?"light":"dark")};return i.jsx(i5.Provider,{value:{theme:t,toggleTheme:n},children:e})},dO=()=>{const e=S.useContext(i5);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},fO=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),hO=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),Ax=()=>{const{theme:e,toggleTheme:t}=dO();return i.jsx("button",{onClick:t,className:"p-2 rounded-full bg-gray-200 dark:bg-[#2A2A2A] text-gray-800 dark:text-yellow-400 hover:bg-gray-300 dark:hover:bg-[#333] transition-colors",title:`Switch to ${e==="dark"?"light":"dark"} mode`,children:e==="dark"?i.jsx(fO,{className:"w-5 h-5"}):i.jsx(hO,{className:"w-5 h-5"})})},pO=({title:e,onMenuClick:t,onNavigate:r})=>{const[n,a]=S.useState(""),[o,s]=S.useState([]),[l,c]=S.useState(!1),u=S.useRef(null),f=(y,m)=>y==="dashboard"?i.jsx("div",{className:"w-4 h-4 bg-primary-500 rounded-full"}):y==="rides"?i.jsx(Ue,{className:"h-4 w-4 text-gray-400"}):y==="drivers"?i.jsx(ka,{className:"h-4 w-4 text-gray-400"}):y==="riders"?i.jsx(Sh,{className:"h-4 w-4 text-gray-400"}):y==="chat"?i.jsx(ni,{className:"h-4 w-4"}):y==="pricing"?i.jsx(Qi,{className:"h-4 w-4"}):y==="revenue"?i.jsx("div",{className:"text-green-500 font-bold text-xs",children:"$"}):y==="for-hire"&&m.startsWith("cat")?i.jsx(Ue,{className:"h-4 w-4 text-purple-500"}):i.jsx(ri,{className:"h-4 w-4"}),d=Y.getSearchItems().map(y=>({...y,icon:f(y.view,y.id)}));S.useEffect(()=>{const y=m=>{u.current&&!u.current.contains(m.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const h=y=>{const m=y.target.value.toLowerCase();if(a(y.target.value),m.length>0){const x=d.filter(g=>{var v;return g.label.toLowerCase().includes(m)||g.subLabel.toLowerCase().includes(m)||((v=g.keywords)==null?void 0:v.some(b=>b.toLowerCase().includes(m)))});s(x),c(!0)}else s([]),c(!1)},p=y=>{r(y.view),a(""),c(!1)};return i.jsx("header",{className:"bg-white dark:bg-dark-800 sticky top-0 z-20 border-b border-gray-200 dark:border-dark-700 shadow-sm transition-colors duration-300",children:i.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:t,className:"lg:hidden mr-4 text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors",children:i.jsx(Nx,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white transition-colors",children:e})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative hidden sm:block",ref:u,children:[i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:i.jsx(ga,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),i.jsx("input",{type:"text",value:n,onChange:h,onFocus:()=>n.length>0&&c(!0),placeholder:"Search for buses, drivers, features...",className:"w-64 lg:w-80 pl-10 pr-4 py-2 bg-gray-100 dark:bg-dark-700 border border-transparent rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 transition-colors"})]}),l&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-dark-800 rounded-lg shadow-lg border border-gray-200 dark:border-dark-700 max-h-96 overflow-y-auto no-scrollbar z-50",children:o.length>0?i.jsx("ul",{children:o.map(y=>i.jsx("li",{children:i.jsxs("button",{onClick:()=>p(y),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-dark-700 flex items-center transition-colors border-b border-gray-100 dark:border-dark-700 last:border-0",children:[i.jsx("div",{className:"flex-shrink-0 mr-3 text-gray-500 dark:text-gray-400",children:y.icon}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y.label}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:y.subLabel})]})]})},y.id))}):i.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 text-center",children:['No results found for "',n,'"']})})]}),i.jsx(Ax,{}),i.jsx("div",{className:"relative",children:i.jsx("button",{className:"flex text-sm border-2 border-transparent rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition",children:i.jsx("div",{className:"h-9 w-9 rounded-full bg-primary-500 flex items-center justify-center text-white dark:text-dark-900 font-bold text-sm",children:"SA"})})})]})]})})};function o5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=o5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function be(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=o5(e))&&(n&&(n+=" "),n+=t);return n}var mO=Array.isArray,Er=mO,gO=typeof Tu=="object"&&Tu&&Tu.Object===Object&&Tu,s5=gO,yO=s5,xO=typeof self=="object"&&self&&self.Object===Object&&self,vO=yO||xO||Function("return this")(),qn=vO,bO=qn,wO=bO.Symbol,lu=wO,b1=lu,l5=Object.prototype,jO=l5.hasOwnProperty,kO=l5.toString,Nl=b1?b1.toStringTag:void 0;function NO(e){var t=jO.call(e,Nl),r=e[Nl];try{e[Nl]=void 0;var n=!0}catch{}var a=kO.call(e);return n&&(t?e[Nl]=r:delete e[Nl]),a}var SO=NO,AO=Object.prototype,CO=AO.toString;function PO(e){return CO.call(e)}var EO=PO,w1=lu,OO=SO,_O=EO,TO="[object Null]",$O="[object Undefined]",j1=w1?w1.toStringTag:void 0;function MO(e){return e==null?e===void 0?$O:TO:j1&&j1 in Object(e)?OO(e):_O(e)}var Ea=MO;function IO(e){return e!=null&&typeof e=="object"}var Oa=IO,DO=Ea,LO=Oa,RO="[object Symbol]";function FO(e){return typeof e=="symbol"||LO(e)&&DO(e)==RO}var Bs=FO,BO=Er,zO=Bs,WO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VO=/^\w*$/;function UO(e,t){if(BO(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||zO(e)?!0:VO.test(e)||!WO.test(e)||t!=null&&e in Object(t)}var Cx=UO;function HO(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fi=HO;const zs=Fe(fi);var KO=Ea,qO=fi,GO="[object AsyncFunction]",YO="[object Function]",XO="[object GeneratorFunction]",JO="[object Proxy]";function QO(e){if(!qO(e))return!1;var t=KO(e);return t==YO||t==XO||t==GO||t==JO}var Px=QO;const ge=Fe(Px);var ZO=qn,e_=ZO["__core-js_shared__"],t_=e_,mm=t_,k1=function(){var e=/[^.]+$/.exec(mm&&mm.keys&&mm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function r_(e){return!!k1&&k1 in e}var n_=r_,a_=Function.prototype,i_=a_.toString;function o_(e){if(e!=null){try{return i_.call(e)}catch{}try{return e+""}catch{}}return""}var c5=o_,s_=Px,l_=n_,c_=fi,u_=c5,d_=/[\\^$.*+?()[\]{}|]/g,f_=/^\[object .+?Constructor\]$/,h_=Function.prototype,p_=Object.prototype,m_=h_.toString,g_=p_.hasOwnProperty,y_=RegExp("^"+m_.call(g_).replace(d_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function x_(e){if(!c_(e)||l_(e))return!1;var t=s_(e)?y_:f_;return t.test(u_(e))}var v_=x_;function b_(e,t){return e==null?void 0:e[t]}var w_=b_,j_=v_,k_=w_;function N_(e,t){var r=k_(e,t);return j_(r)?r:void 0}var lo=N_,S_=lo,A_=S_(Object,"create"),Ah=A_,N1=Ah;function C_(){this.__data__=N1?N1(null):{},this.size=0}var P_=C_;function E_(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var O_=E_,__=Ah,T_="__lodash_hash_undefined__",$_=Object.prototype,M_=$_.hasOwnProperty;function I_(e){var t=this.__data__;if(__){var r=t[e];return r===T_?void 0:r}return M_.call(t,e)?t[e]:void 0}var D_=I_,L_=Ah,R_=Object.prototype,F_=R_.hasOwnProperty;function B_(e){var t=this.__data__;return L_?t[e]!==void 0:F_.call(t,e)}var z_=B_,W_=Ah,V_="__lodash_hash_undefined__";function U_(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=W_&&t===void 0?V_:t,this}var H_=U_,K_=P_,q_=O_,G_=D_,Y_=z_,X_=H_;function Ws(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ws.prototype.clear=K_;Ws.prototype.delete=q_;Ws.prototype.get=G_;Ws.prototype.has=Y_;Ws.prototype.set=X_;var J_=Ws;function Q_(){this.__data__=[],this.size=0}var Z_=Q_;function eT(e,t){return e===t||e!==e&&t!==t}var Ex=eT,tT=Ex;function rT(e,t){for(var r=e.length;r--;)if(tT(e[r][0],t))return r;return-1}var Ch=rT,nT=Ch,aT=Array.prototype,iT=aT.splice;function oT(e){var t=this.__data__,r=nT(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():iT.call(t,r,1),--this.size,!0}var sT=oT,lT=Ch;function cT(e){var t=this.__data__,r=lT(t,e);return r<0?void 0:t[r][1]}var uT=cT,dT=Ch;function fT(e){return dT(this.__data__,e)>-1}var hT=fT,pT=Ch;function mT(e,t){var r=this.__data__,n=pT(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var gT=mT,yT=Z_,xT=sT,vT=uT,bT=hT,wT=gT;function Vs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vs.prototype.clear=yT;Vs.prototype.delete=xT;Vs.prototype.get=vT;Vs.prototype.has=bT;Vs.prototype.set=wT;var Ph=Vs,jT=lo,kT=qn,NT=jT(kT,"Map"),Ox=NT,S1=J_,ST=Ph,AT=Ox;function CT(){this.size=0,this.__data__={hash:new S1,map:new(AT||ST),string:new S1}}var PT=CT;function ET(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var OT=ET,_T=OT;function TT(e,t){var r=e.__data__;return _T(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Eh=TT,$T=Eh;function MT(e){var t=$T(this,e).delete(e);return this.size-=t?1:0,t}var IT=MT,DT=Eh;function LT(e){return DT(this,e).get(e)}var RT=LT,FT=Eh;function BT(e){return FT(this,e).has(e)}var zT=BT,WT=Eh;function VT(e,t){var r=WT(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var UT=VT,HT=PT,KT=IT,qT=RT,GT=zT,YT=UT;function Us(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Us.prototype.clear=HT;Us.prototype.delete=KT;Us.prototype.get=qT;Us.prototype.has=GT;Us.prototype.set=YT;var _x=Us,u5=_x,XT="Expected a function";function Tx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(XT);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var s=e.apply(this,n);return r.cache=o.set(a,s)||o,s};return r.cache=new(Tx.Cache||u5),r}Tx.Cache=u5;var d5=Tx;const JT=Fe(d5);var QT=d5,ZT=500;function e$(e){var t=QT(e,function(n){return r.size===ZT&&r.clear(),n}),r=t.cache;return t}var t$=e$,r$=t$,n$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a$=/\\(\\)?/g,i$=r$(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(n$,function(r,n,a,o){t.push(a?o.replace(a$,"$1"):n||r)}),t}),o$=i$;function s$(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var $x=s$,A1=lu,l$=$x,c$=Er,u$=Bs,d$=1/0,C1=A1?A1.prototype:void 0,P1=C1?C1.toString:void 0;function f5(e){if(typeof e=="string")return e;if(c$(e))return l$(e,f5)+"";if(u$(e))return P1?P1.call(e):"";var t=e+"";return t=="0"&&1/e==-d$?"-0":t}var f$=f5,h$=f$;function p$(e){return e==null?"":h$(e)}var h5=p$,m$=Er,g$=Cx,y$=o$,x$=h5;function v$(e,t){return m$(e)?e:g$(e,t)?[e]:y$(x$(e))}var p5=v$,b$=Bs,w$=1/0;function j$(e){if(typeof e=="string"||b$(e))return e;var t=e+"";return t=="0"&&1/e==-w$?"-0":t}var Oh=j$,k$=p5,N$=Oh;function S$(e,t){t=k$(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[N$(t[r++])];return r&&r==n?e:void 0}var Mx=S$,A$=Mx;function C$(e,t,r){var n=e==null?void 0:A$(e,t);return n===void 0?r:n}var m5=C$;const Fr=Fe(m5);function P$(e){return e==null}var E$=P$;const xe=Fe(E$);var O$=Ea,_$=Er,T$=Oa,$$="[object String]";function M$(e){return typeof e=="string"||!_$(e)&&T$(e)&&O$(e)==$$}var I$=M$;const Zi=Fe(I$);var g5={exports:{}},Be={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix=Symbol.for("react.element"),Dx=Symbol.for("react.portal"),_h=Symbol.for("react.fragment"),Th=Symbol.for("react.strict_mode"),$h=Symbol.for("react.profiler"),Mh=Symbol.for("react.provider"),Ih=Symbol.for("react.context"),D$=Symbol.for("react.server_context"),Dh=Symbol.for("react.forward_ref"),Lh=Symbol.for("react.suspense"),Rh=Symbol.for("react.suspense_list"),Fh=Symbol.for("react.memo"),Bh=Symbol.for("react.lazy"),L$=Symbol.for("react.offscreen"),y5;y5=Symbol.for("react.module.reference");function dn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ix:switch(e=e.type,e){case _h:case $h:case Th:case Lh:case Rh:return e;default:switch(e=e&&e.$$typeof,e){case D$:case Ih:case Dh:case Bh:case Fh:case Mh:return e;default:return t}}case Dx:return t}}}Be.ContextConsumer=Ih;Be.ContextProvider=Mh;Be.Element=Ix;Be.ForwardRef=Dh;Be.Fragment=_h;Be.Lazy=Bh;Be.Memo=Fh;Be.Portal=Dx;Be.Profiler=$h;Be.StrictMode=Th;Be.Suspense=Lh;Be.SuspenseList=Rh;Be.isAsyncMode=function(){return!1};Be.isConcurrentMode=function(){return!1};Be.isContextConsumer=function(e){return dn(e)===Ih};Be.isContextProvider=function(e){return dn(e)===Mh};Be.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ix};Be.isForwardRef=function(e){return dn(e)===Dh};Be.isFragment=function(e){return dn(e)===_h};Be.isLazy=function(e){return dn(e)===Bh};Be.isMemo=function(e){return dn(e)===Fh};Be.isPortal=function(e){return dn(e)===Dx};Be.isProfiler=function(e){return dn(e)===$h};Be.isStrictMode=function(e){return dn(e)===Th};Be.isSuspense=function(e){return dn(e)===Lh};Be.isSuspenseList=function(e){return dn(e)===Rh};Be.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_h||e===$h||e===Th||e===Lh||e===Rh||e===L$||typeof e=="object"&&e!==null&&(e.$$typeof===Bh||e.$$typeof===Fh||e.$$typeof===Mh||e.$$typeof===Ih||e.$$typeof===Dh||e.$$typeof===y5||e.getModuleId!==void 0)};Be.typeOf=dn;g5.exports=Be;var R$=g5.exports,F$=Ea,B$=Oa,z$="[object Number]";function W$(e){return typeof e=="number"||B$(e)&&F$(e)==z$}var x5=W$;const V$=Fe(x5);var U$=x5;function H$(e){return U$(e)&&e!=+e}var K$=H$;const Hs=Fe(K$);var cr=function(t){return t===0?0:t>0?1:-1},Li=function(t){return Zi(t)&&t.indexOf("%")===t.length-1},re=function(t){return V$(t)&&!Hs(t)},q$=function(t){return xe(t)},It=function(t){return re(t)||Zi(t)},G$=0,co=function(t){var r=++G$;return"".concat(t||"").concat(r)},ur=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&!Zi(t))return n;var o;if(Li(t)){var s=t.indexOf("%");o=r*parseFloat(t.slice(0,s))/100}else o=+t;return Hs(o)&&(o=n),a&&o>r&&(o=r),o},Va=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Y$=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},$t=function(t,r){return re(t)&&re(r)?function(n){return t+n*(r-t)}:function(){return r}};function of(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Fr(n,t))===r})}var X$=function(t,r){return re(t)&&re(r)?t-r:Zi(t)&&Zi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ts(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}var J$=["viewBox","children"],Q$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],E1=["points","pathLength"],gm={svg:J$,polygon:E1,polyline:E1},Lx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),!zs(n))return null;var a={};return Object.keys(n).forEach(function(o){Lx.includes(o)&&(a[o]=r||function(s){return n[o](n,s)})}),a},Z$=function(t,r,n){return function(a){return t(r,n,a),null}},eo=function(t,r,n){if(!zs(t)||Hg(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var s=t[o];Lx.includes(o)&&typeof s=="function"&&(a||(a={}),a[o]=Z$(s,r,n))}),a},eM=["children"],tM=["children"];function O1(e,t){if(e==null)return{};var r=rM(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}var _1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ya=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},T1=null,ym=null,Rx=function e(t){if(t===T1&&Array.isArray(ym))return ym;var r=[];return S.Children.forEach(t,function(n){xe(n)||(R$.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ym=r,T1=t,r};function Br(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ya(a)}):n=[ya(t)],Rx(e).forEach(function(a){var o=Fr(a,"type.displayName")||Fr(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Mr(e,t){var r=Br(e,t);return r&&r[0]}var $1=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!re(n)||n<=0||!re(a)||a<=0)},nM=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aM=function(t){return t&&t.type&&Zi(t.type)&&nM.indexOf(t.type)>=0},v5=function(t){return t&&Kg(t)==="object"&&"clipDot"in t},iM=function(t,r,n,a){var o,s=(o=gm==null?void 0:gm[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!ge(t)&&(a&&s.includes(r)||Q$.includes(r))||n&&Lx.includes(r)},he=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(S.isValidElement(t)&&(a=t.props),!zs(a))return null;var o={};return Object.keys(a).forEach(function(s){var l;iM((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(o[s]=a[s])}),o},qg=function e(t,r){if(t===r)return!0;var n=S.Children.count(t);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return M1(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],s=r[a];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!M1(o,s))return!1}return!0},M1=function(t,r){if(xe(t)&&xe(r))return!0;if(!xe(t)&&!xe(r)){var n=t.props||{},a=n.children,o=O1(n,eM),s=r.props||{},l=s.children,c=O1(s,tM);return a&&l?ts(o,c)&&qg(a,l):!a&&!l?ts(o,c):!1}return!1},I1=function(t,r){var n=[],a={};return Rx(t).forEach(function(o,s){if(aM(o))n.push(o);else if(o){var l=ya(o.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var d=u(o,l,s);n.push(d),a[l]=!0}}}),n},oM=function(t){var r=t&&t.type;return r&&_1[r]?_1[r]:null},sM=function(t,r){return Rx(r).indexOf(t)},lM=["children","width","height","viewBox","className","style","title","desc"];function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(this,arguments)}function cM(e,t){if(e==null)return{};var r=uM(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yg(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,s=e.style,l=e.title,c=e.desc,u=cM(e,lM),f=a||{width:r,height:n,x:0,y:0},d=be("recharts-surface",o);return O.createElement("svg",Gg({},he(u,!0,"svg"),{className:d,width:r,height:n,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),O.createElement("title",null,l),O.createElement("desc",null,c),t)}var dM=["children","className"];function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}function fM(e,t){if(e==null)return{};var r=hM(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Se=O.forwardRef(function(e,t){var r=e.children,n=e.className,a=fM(e,dM),o=be("recharts-layer",n);return O.createElement("g",Xg({className:o},he(a,!0),{ref:t}),r)}),An=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function pM(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var mM=pM,gM=mM;function yM(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:gM(e,t,r)}var xM=yM,vM="\\ud800-\\udfff",bM="\\u0300-\\u036f",wM="\\ufe20-\\ufe2f",jM="\\u20d0-\\u20ff",kM=bM+wM+jM,NM="\\ufe0e\\ufe0f",SM="\\u200d",AM=RegExp("["+SM+vM+kM+NM+"]");function CM(e){return AM.test(e)}var b5=CM;function PM(e){return e.split("")}var EM=PM,w5="\\ud800-\\udfff",OM="\\u0300-\\u036f",_M="\\ufe20-\\ufe2f",TM="\\u20d0-\\u20ff",$M=OM+_M+TM,MM="\\ufe0e\\ufe0f",IM="["+w5+"]",Jg="["+$M+"]",Qg="\\ud83c[\\udffb-\\udfff]",DM="(?:"+Jg+"|"+Qg+")",j5="[^"+w5+"]",k5="(?:\\ud83c[\\udde6-\\uddff]){2}",N5="[\\ud800-\\udbff][\\udc00-\\udfff]",LM="\\u200d",S5=DM+"?",A5="["+MM+"]?",RM="(?:"+LM+"(?:"+[j5,k5,N5].join("|")+")"+A5+S5+")*",FM=A5+S5+RM,BM="(?:"+[j5+Jg+"?",Jg,k5,N5,IM].join("|")+")",zM=RegExp(Qg+"(?="+Qg+")|"+BM+FM,"g");function WM(e){return e.match(zM)||[]}var VM=WM,UM=EM,HM=b5,KM=VM;function qM(e){return HM(e)?KM(e):UM(e)}var GM=qM,YM=xM,XM=b5,JM=GM,QM=h5;function ZM(e){return function(t){t=QM(t);var r=XM(t)?JM(t):void 0,n=r?r[0]:t.charAt(0),a=r?YM(r,1).join(""):t.slice(1);return n[e]()+a}}var eI=ZM,tI=eI,rI=tI("toUpperCase"),nI=rI;const zh=Fe(nI);function Je(e){return function(){return e}}const C5=Math.cos,lf=Math.sin,On=Math.sqrt,cf=Math.PI,Wh=2*cf,Zg=Math.PI,e0=2*Zg,Pi=1e-6,aI=e0-Pi;function P5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function iI(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return P5;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class oI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?P5:iI(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+s}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,f=s-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Pi)if(!(Math.abs(d*c-u*f)>Pi)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,y=a-l,m=c*c+u*u,x=p*p+y*y,g=Math.sqrt(m),v=Math.sqrt(h),b=o*Math.tan((Zg-Math.acos((m+h-x)/(2*g*v)))/2),k=b/v,w=b/g;Math.abs(k-1)>Pi&&this._append`L${t+k*f},${r+k*d}`,this._append`A${o},${o},0,0,${+(d*p>f*y)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,a,o,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,f=r+c,d=1^s,h=s?a-o:o-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Pi||Math.abs(this._y1-f)>Pi)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%e0+e0),h>aI?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>Pi&&this._append`A${n},${n},0,${+(h>=Zg)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Fx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new oI(t)}function Bx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function E5(e){this._context=e}E5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Vh(e){return new E5(e)}function O5(e){return e[0]}function _5(e){return e[1]}function T5(e,t){var r=Je(!0),n=null,a=Vh,o=null,s=Fx(l);e=typeof e=="function"?e:e===void 0?O5:Je(e),t=typeof t=="function"?t:t===void 0?_5:Je(t);function l(c){var u,f=(c=Bx(c)).length,d,h=!1,p;for(n==null&&(o=a(p=s())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,u,c),+t(d,u,c));if(p)return o=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Je(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Je(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Je(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(o=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=o=null:o=a(n=c),l):n},l}function Xu(e,t,r){var n=null,a=Je(!0),o=null,s=Vh,l=null,c=Fx(u);e=typeof e=="function"?e:e===void 0?O5:Je(+e),t=typeof t=="function"?t:Je(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?_5:Je(+r);function u(d){var h,p,y,m=(d=Bx(d)).length,x,g=!1,v,b=new Array(m),k=new Array(m);for(o==null&&(l=s(v=c())),h=0;h<=m;++h){if(!(h<m&&a(x=d[h],h,d))===g)if(g=!g)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(b[y],k[y]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(x,h,d),k[h]=+t(x,h,d),l.point(n?+n(x,h,d):b[h],r?+r(x,h,d):k[h]))}if(v)return l=null,v+""||null}function f(){return T5().defined(a).curve(s).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Je(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Je(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Je(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Je(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Je(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Je(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Je(!!d),u):a},u.curve=function(d){return arguments.length?(s=d,o!=null&&(l=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=l=null:l=s(o=d),u):o},u}class $5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function sI(e){return new $5(e,!0)}function lI(e){return new $5(e,!1)}const zx={draw(e,t){const r=On(t/cf);e.moveTo(r,0),e.arc(0,0,r,0,Wh)}},cI={draw(e,t){const r=On(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},M5=On(1/3),uI=M5*2,dI={draw(e,t){const r=On(t/uI),n=r*M5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},fI={draw(e,t){const r=On(t),n=-r/2;e.rect(n,n,r,r)}},hI=.8908130915292852,I5=lf(cf/10)/lf(7*cf/10),pI=lf(Wh/10)*I5,mI=-C5(Wh/10)*I5,gI={draw(e,t){const r=On(t*hI),n=pI*r,a=mI*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const s=Wh*o/5,l=C5(s),c=lf(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},xm=On(3),yI={draw(e,t){const r=-On(t/(xm*3));e.moveTo(0,r*2),e.lineTo(-xm*r,-r),e.lineTo(xm*r,-r),e.closePath()}},Yr=-.5,Xr=On(3)/2,t0=1/On(12),xI=(t0/2+1)*3,vI={draw(e,t){const r=On(t/xI),n=r/2,a=r*t0,o=n,s=r*t0+r,l=-o,c=s;e.moveTo(n,a),e.lineTo(o,s),e.lineTo(l,c),e.lineTo(Yr*n-Xr*a,Xr*n+Yr*a),e.lineTo(Yr*o-Xr*s,Xr*o+Yr*s),e.lineTo(Yr*l-Xr*c,Xr*l+Yr*c),e.lineTo(Yr*n+Xr*a,Yr*a-Xr*n),e.lineTo(Yr*o+Xr*s,Yr*s-Xr*o),e.lineTo(Yr*l+Xr*c,Yr*c-Xr*l),e.closePath()}};function bI(e,t){let r=null,n=Fx(a);e=typeof e=="function"?e:Je(e||zx),t=typeof t=="function"?t:Je(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Je(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Je(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function uf(){}function df(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function D5(e){this._context=e}D5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:df(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:df(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wI(e){return new D5(e)}function L5(e){this._context=e}L5.prototype={areaStart:uf,areaEnd:uf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:df(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jI(e){return new L5(e)}function R5(e){this._context=e}R5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:df(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kI(e){return new R5(e)}function F5(e){this._context=e}F5.prototype={areaStart:uf,areaEnd:uf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function NI(e){return new F5(e)}function D1(e){return e<0?-1:1}function L1(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(o*a+s*n)/(n+a);return(D1(o)+D1(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function R1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function vm(e,t,r){var n=e._x0,a=e._y0,o=e._x1,s=e._y1,l=(o-n)/3;e._context.bezierCurveTo(n+l,a+l*t,o-l,s-l*r,o,s)}function ff(e){this._context=e}ff.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vm(this,this._t0,R1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vm(this,R1(this,r=L1(this,e,t)),r);break;default:vm(this,this._t0,r=L1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function B5(e){this._context=new z5(e)}(B5.prototype=Object.create(ff.prototype)).point=function(e,t){ff.prototype.point.call(this,t,e)};function z5(e){this._context=e}z5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function SI(e){return new ff(e)}function AI(e){return new B5(e)}function W5(e){this._context=e}W5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=F1(e),a=F1(t),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function F1(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),s=new Array(r);for(a[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function CI(e){return new W5(e)}function Uh(e,t){this._context=e,this._t=t}Uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function PI(e){return new Uh(e,.5)}function EI(e){return new Uh(e,0)}function OI(e){return new Uh(e,1)}function ds(e,t){if((s=e.length)>1)for(var r=1,n,a,o=e[t[0]],s,l=o.length;r<s;++r)for(a=o,o=e[t[r]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function r0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function _I(e,t){return e[t]}function TI(e){const t=[];return t.key=e,t}function $I(){var e=Je([]),t=r0,r=ds,n=_I;function a(o){var s=Array.from(e.apply(this,arguments),TI),l,c=s.length,u=-1,f;for(const d of o)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(d,s[l].key,u,o)]).data=d;for(l=0,f=Bx(t(s));l<c;++l)s[f[l]].index=l;return r(s,f),s}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Je(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Je(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?r0:typeof o=="function"?o:Je(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??ds,a):r},a}function MI(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,s;a<o;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}ds(e,t)}}function II(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}ds(e,t)}}function DI(e,t){if(!(!((s=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,s;n<o;++n){for(var l=0,c=0,u=0;l<s;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,y=0;y<l;++y){var m=e[t[y]],x=m[n][1]||0,g=m[n-1][1]||0;p+=x-g}c+=d,u+=p*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,ds(e,t)}}function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}var LI=["type","size","sizeType"];function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n0.apply(this,arguments)}function B1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B1(Object(r),!0).forEach(function(n){RI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RI(e,t,r){return t=FI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FI(e){var t=BI(e,"string");return jc(t)=="symbol"?t:t+""}function BI(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zI(e,t){if(e==null)return{};var r=WI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var V5={symbolCircle:zx,symbolCross:cI,symbolDiamond:dI,symbolSquare:fI,symbolStar:gI,symbolTriangle:yI,symbolWye:vI},VI=Math.PI/180,UI=function(t){var r="symbol".concat(zh(t));return V5[r]||zx},HI=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*VI;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},KI=function(t,r){V5["symbol".concat(zh(t))]=r},Wx=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,s=t.sizeType,l=s===void 0?"area":s,c=zI(t,LI),u=z1(z1({},c),{},{type:n,size:o,sizeType:l}),f=function(){var x=UI(n),g=bI().type(x).size(HI(o,l,n));return g()},d=u.className,h=u.cx,p=u.cy,y=he(u,!0);return h===+h&&p===+p&&o===+o?O.createElement("path",n0({},y,{className:be("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};Wx.registerSymbol=KI;function fs(e){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(this,arguments)}function W1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(r),!0).forEach(function(n){kc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H5(n.key),n)}}function YI(e,t,r){return t&&V1(e.prototype,t),r&&V1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XI(e,t,r){return t=hf(t),JI(e,U5()?Reflect.construct(t,r||[],hf(e).constructor):t.apply(e,r))}function JI(e,t){if(t&&(fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QI(e)}function QI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U5=function(){return!!e})()}function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hf(e)}function ZI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i0(e,t)}function i0(e,t){return i0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i0(e,t)}function kc(e,t,r){return t=H5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H5(e){var t=e6(e,"string");return fs(t)=="symbol"?t:t+""}function e6(e,t){if(fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jr=32,Vx=function(e){function t(){return GI(this,t),XI(this,t,arguments)}return ZI(t,e),YI(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Jr/2,s=Jr/6,l=Jr/3,c=n.inactive?a:n.color;if(n.type==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Jr,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(Jr,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return O.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Jr/8,"h").concat(Jr,"v").concat(Jr*3/4,"h").concat(-Jr,"z"),className:"recharts-legend-icon"});if(O.isValidElement(n.legendIcon)){var u=qI({},n);return delete u.legendIcon,O.cloneElement(n.legendIcon,u)}return O.createElement(Wx,{fill:c,cx:o,cy:o,size:Jr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:Jr,height:Jr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,y){var m=p.formatter||c,x=be(kc(kc({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=ge(p.value)?null:p.value;An(!ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return O.createElement("li",a0({className:x,style:d,key:"legend-item-".concat(y)},eo(n.props,p,y)),O.createElement(Yg,{width:s,height:s,viewBox:f,style:h},n.renderIcon(p)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},m?m(g,p,y):g))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(S.PureComponent);kc(Vx,"displayName","Legend");kc(Vx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var t6=Ph;function r6(){this.__data__=new t6,this.size=0}var n6=r6;function a6(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var i6=a6;function o6(e){return this.__data__.get(e)}var s6=o6;function l6(e){return this.__data__.has(e)}var c6=l6,u6=Ph,d6=Ox,f6=_x,h6=200;function p6(e,t){var r=this.__data__;if(r instanceof u6){var n=r.__data__;if(!d6||n.length<h6-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new f6(n)}return r.set(e,t),this.size=r.size,this}var m6=p6,g6=Ph,y6=n6,x6=i6,v6=s6,b6=c6,w6=m6;function Ks(e){var t=this.__data__=new g6(e);this.size=t.size}Ks.prototype.clear=y6;Ks.prototype.delete=x6;Ks.prototype.get=v6;Ks.prototype.has=b6;Ks.prototype.set=w6;var K5=Ks,j6="__lodash_hash_undefined__";function k6(e){return this.__data__.set(e,j6),this}var N6=k6;function S6(e){return this.__data__.has(e)}var A6=S6,C6=_x,P6=N6,E6=A6;function pf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new C6;++t<r;)this.add(e[t])}pf.prototype.add=pf.prototype.push=P6;pf.prototype.has=E6;var q5=pf;function O6(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var G5=O6;function _6(e,t){return e.has(t)}var Y5=_6,T6=q5,$6=G5,M6=Y5,I6=1,D6=2;function L6(e,t,r,n,a,o){var s=r&I6,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=o.get(e),f=o.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,p=r&D6?new T6:void 0;for(o.set(e,t),o.set(t,e);++d<l;){var y=e[d],m=t[d];if(n)var x=s?n(m,y,d,t,e,o):n(y,m,d,e,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!$6(t,function(g,v){if(!M6(p,v)&&(y===g||a(y,g,r,n,o)))return p.push(v)})){h=!1;break}}else if(!(y===m||a(y,m,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var X5=L6,R6=qn,F6=R6.Uint8Array,B6=F6;function z6(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var W6=z6;function V6(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ux=V6,U1=lu,H1=B6,U6=Ex,H6=X5,K6=W6,q6=Ux,G6=1,Y6=2,X6="[object Boolean]",J6="[object Date]",Q6="[object Error]",Z6="[object Map]",eD="[object Number]",tD="[object RegExp]",rD="[object Set]",nD="[object String]",aD="[object Symbol]",iD="[object ArrayBuffer]",oD="[object DataView]",K1=U1?U1.prototype:void 0,bm=K1?K1.valueOf:void 0;function sD(e,t,r,n,a,o,s){switch(r){case oD:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case iD:return!(e.byteLength!=t.byteLength||!o(new H1(e),new H1(t)));case X6:case J6:case eD:return U6(+e,+t);case Q6:return e.name==t.name&&e.message==t.message;case tD:case nD:return e==t+"";case Z6:var l=K6;case rD:var c=n&G6;if(l||(l=q6),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=Y6,s.set(e,t);var f=H6(l(e),l(t),n,a,o,s);return s.delete(e),f;case aD:if(bm)return bm.call(e)==bm.call(t)}return!1}var lD=sD;function cD(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var J5=cD,uD=J5,dD=Er;function fD(e,t,r){var n=t(e);return dD(e)?n:uD(n,r(e))}var hD=fD;function pD(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[a++]=s)}return o}var mD=pD;function gD(){return[]}var yD=gD,xD=mD,vD=yD,bD=Object.prototype,wD=bD.propertyIsEnumerable,q1=Object.getOwnPropertySymbols,jD=q1?function(e){return e==null?[]:(e=Object(e),xD(q1(e),function(t){return wD.call(e,t)}))}:vD,kD=jD;function ND(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var SD=ND,AD=Ea,CD=Oa,PD="[object Arguments]";function ED(e){return CD(e)&&AD(e)==PD}var OD=ED,G1=OD,_D=Oa,Q5=Object.prototype,TD=Q5.hasOwnProperty,$D=Q5.propertyIsEnumerable,MD=G1(function(){return arguments}())?G1:function(e){return _D(e)&&TD.call(e,"callee")&&!$D.call(e,"callee")},Hx=MD,mf={exports:{}};function ID(){return!1}var DD=ID;mf.exports;(function(e,t){var r=qn,n=DD,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(mf,mf.exports);var Z5=mf.exports,LD=9007199254740991,RD=/^(?:0|[1-9]\d*)$/;function FD(e,t){var r=typeof e;return t=t??LD,!!t&&(r=="number"||r!="symbol"&&RD.test(e))&&e>-1&&e%1==0&&e<t}var Kx=FD,BD=9007199254740991;function zD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=BD}var qx=zD,WD=Ea,VD=qx,UD=Oa,HD="[object Arguments]",KD="[object Array]",qD="[object Boolean]",GD="[object Date]",YD="[object Error]",XD="[object Function]",JD="[object Map]",QD="[object Number]",ZD="[object Object]",eL="[object RegExp]",tL="[object Set]",rL="[object String]",nL="[object WeakMap]",aL="[object ArrayBuffer]",iL="[object DataView]",oL="[object Float32Array]",sL="[object Float64Array]",lL="[object Int8Array]",cL="[object Int16Array]",uL="[object Int32Array]",dL="[object Uint8Array]",fL="[object Uint8ClampedArray]",hL="[object Uint16Array]",pL="[object Uint32Array]",it={};it[oL]=it[sL]=it[lL]=it[cL]=it[uL]=it[dL]=it[fL]=it[hL]=it[pL]=!0;it[HD]=it[KD]=it[aL]=it[qD]=it[iL]=it[GD]=it[YD]=it[XD]=it[JD]=it[QD]=it[ZD]=it[eL]=it[tL]=it[rL]=it[nL]=!1;function mL(e){return UD(e)&&VD(e.length)&&!!it[WD(e)]}var gL=mL;function yL(e){return function(t){return e(t)}}var eA=yL,gf={exports:{}};gf.exports;(function(e,t){var r=s5,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,s=o&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(gf,gf.exports);var xL=gf.exports,vL=gL,bL=eA,Y1=xL,X1=Y1&&Y1.isTypedArray,wL=X1?bL(X1):vL,tA=wL,jL=SD,kL=Hx,NL=Er,SL=Z5,AL=Kx,CL=tA,PL=Object.prototype,EL=PL.hasOwnProperty;function OL(e,t){var r=NL(e),n=!r&&kL(e),a=!r&&!n&&SL(e),o=!r&&!n&&!a&&CL(e),s=r||n||a||o,l=s?jL(e.length,String):[],c=l.length;for(var u in e)(t||EL.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||AL(u,c)))&&l.push(u);return l}var _L=OL,TL=Object.prototype;function $L(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||TL;return e===r}var ML=$L;function IL(e,t){return function(r){return e(t(r))}}var rA=IL,DL=rA,LL=DL(Object.keys,Object),RL=LL,FL=ML,BL=RL,zL=Object.prototype,WL=zL.hasOwnProperty;function VL(e){if(!FL(e))return BL(e);var t=[];for(var r in Object(e))WL.call(e,r)&&r!="constructor"&&t.push(r);return t}var UL=VL,HL=Px,KL=qx;function qL(e){return e!=null&&KL(e.length)&&!HL(e)}var cu=qL,GL=_L,YL=UL,XL=cu;function JL(e){return XL(e)?GL(e):YL(e)}var Hh=JL,QL=hD,ZL=kD,eR=Hh;function tR(e){return QL(e,eR,ZL)}var rR=tR,J1=rR,nR=1,aR=Object.prototype,iR=aR.hasOwnProperty;function oR(e,t,r,n,a,o){var s=r&nR,l=J1(e),c=l.length,u=J1(t),f=u.length;if(c!=f&&!s)return!1;for(var d=c;d--;){var h=l[d];if(!(s?h in t:iR.call(t,h)))return!1}var p=o.get(e),y=o.get(t);if(p&&y)return p==t&&y==e;var m=!0;o.set(e,t),o.set(t,e);for(var x=s;++d<c;){h=l[d];var g=e[h],v=t[h];if(n)var b=s?n(v,g,h,t,e,o):n(g,v,h,e,t,o);if(!(b===void 0?g===v||a(g,v,r,n,o):b)){m=!1;break}x||(x=h=="constructor")}if(m&&!x){var k=e.constructor,w=t.constructor;k!=w&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof w=="function"&&w instanceof w)&&(m=!1)}return o.delete(e),o.delete(t),m}var sR=oR,lR=lo,cR=qn,uR=lR(cR,"DataView"),dR=uR,fR=lo,hR=qn,pR=fR(hR,"Promise"),mR=pR,gR=lo,yR=qn,xR=gR(yR,"Set"),nA=xR,vR=lo,bR=qn,wR=vR(bR,"WeakMap"),jR=wR,o0=dR,s0=Ox,l0=mR,c0=nA,u0=jR,aA=Ea,qs=c5,Q1="[object Map]",kR="[object Object]",Z1="[object Promise]",ew="[object Set]",tw="[object WeakMap]",rw="[object DataView]",NR=qs(o0),SR=qs(s0),AR=qs(l0),CR=qs(c0),PR=qs(u0),Ei=aA;(o0&&Ei(new o0(new ArrayBuffer(1)))!=rw||s0&&Ei(new s0)!=Q1||l0&&Ei(l0.resolve())!=Z1||c0&&Ei(new c0)!=ew||u0&&Ei(new u0)!=tw)&&(Ei=function(e){var t=aA(e),r=t==kR?e.constructor:void 0,n=r?qs(r):"";if(n)switch(n){case NR:return rw;case SR:return Q1;case AR:return Z1;case CR:return ew;case PR:return tw}return t});var ER=Ei,wm=K5,OR=X5,_R=lD,TR=sR,nw=ER,aw=Er,iw=Z5,$R=tA,MR=1,ow="[object Arguments]",sw="[object Array]",Ju="[object Object]",IR=Object.prototype,lw=IR.hasOwnProperty;function DR(e,t,r,n,a,o){var s=aw(e),l=aw(t),c=s?sw:nw(e),u=l?sw:nw(t);c=c==ow?Ju:c,u=u==ow?Ju:u;var f=c==Ju,d=u==Ju,h=c==u;if(h&&iw(e)){if(!iw(t))return!1;s=!0,f=!1}if(h&&!f)return o||(o=new wm),s||$R(e)?OR(e,t,r,n,a,o):_R(e,t,c,r,n,a,o);if(!(r&MR)){var p=f&&lw.call(e,"__wrapped__"),y=d&&lw.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,x=y?t.value():t;return o||(o=new wm),a(m,x,r,n,o)}}return h?(o||(o=new wm),TR(e,t,r,n,a,o)):!1}var LR=DR,RR=LR,cw=Oa;function iA(e,t,r,n,a){return e===t?!0:e==null||t==null||!cw(e)&&!cw(t)?e!==e&&t!==t:RR(e,t,r,n,iA,a)}var Gx=iA,FR=K5,BR=Gx,zR=1,WR=2;function VR(e,t,r,n){var a=r.length,o=a,s=!n;if(e==null)return!o;for(e=Object(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){l=r[a];var c=l[0],u=e[c],f=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new FR;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?BR(f,u,zR|WR,n,d):h))return!1}}return!0}var UR=VR,HR=fi;function KR(e){return e===e&&!HR(e)}var oA=KR,qR=oA,GR=Hh;function YR(e){for(var t=GR(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,qR(a)]}return t}var XR=YR;function JR(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var sA=JR,QR=UR,ZR=XR,e8=sA;function t8(e){var t=ZR(e);return t.length==1&&t[0][2]?e8(t[0][0],t[0][1]):function(r){return r===e||QR(r,e,t)}}var r8=t8;function n8(e,t){return e!=null&&t in Object(e)}var a8=n8,i8=p5,o8=Hx,s8=Er,l8=Kx,c8=qx,u8=Oh;function d8(e,t,r){t=i8(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var s=u8(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&c8(a)&&l8(s,a)&&(s8(e)||o8(e)))}var f8=d8,h8=a8,p8=f8;function m8(e,t){return e!=null&&p8(e,t,h8)}var g8=m8,y8=Gx,x8=m5,v8=g8,b8=Cx,w8=oA,j8=sA,k8=Oh,N8=1,S8=2;function A8(e,t){return b8(e)&&w8(t)?j8(k8(e),t):function(r){var n=x8(r,e);return n===void 0&&n===t?v8(r,e):y8(t,n,N8|S8)}}var C8=A8;function P8(e){return e}var Gs=P8;function E8(e){return function(t){return t==null?void 0:t[e]}}var O8=E8,_8=Mx;function T8(e){return function(t){return _8(t,e)}}var $8=T8,M8=O8,I8=$8,D8=Cx,L8=Oh;function R8(e){return D8(e)?M8(L8(e)):I8(e)}var F8=R8,B8=r8,z8=C8,W8=Gs,V8=Er,U8=F8;function H8(e){return typeof e=="function"?e:e==null?W8:typeof e=="object"?V8(e)?z8(e[0],e[1]):B8(e):U8(e)}var Gn=H8;function K8(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var lA=K8;function q8(e){return e!==e}var G8=q8;function Y8(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var X8=Y8,J8=lA,Q8=G8,Z8=X8;function e7(e,t,r){return t===t?Z8(e,t,r):J8(e,Q8,r)}var t7=e7,r7=t7;function n7(e,t){var r=e==null?0:e.length;return!!r&&r7(e,t,0)>-1}var a7=n7;function i7(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var o7=i7;function s7(){}var l7=s7,jm=nA,c7=l7,u7=Ux,d7=1/0,f7=jm&&1/u7(new jm([,-0]))[1]==d7?function(e){return new jm(e)}:c7,h7=f7,p7=q5,m7=a7,g7=o7,y7=Y5,x7=h7,v7=Ux,b7=200;function w7(e,t,r){var n=-1,a=m7,o=e.length,s=!0,l=[],c=l;if(r)s=!1,a=g7;else if(o>=b7){var u=t?null:x7(e);if(u)return v7(u);s=!1,a=y7,c=new p7}else c=t?[]:l;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,s&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else a(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var j7=w7,k7=Gn,N7=j7;function S7(e,t){return e&&e.length?N7(e,k7(t)):[]}var A7=S7;const uw=Fe(A7);function cA(e,t,r){return t===!0?uw(e,r):ge(t)?uw(e,t):e}function hs(e){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}var C7=["ref"];function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){Kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dA(n.key),n)}}function E7(e,t,r){return t&&fw(e.prototype,t),r&&fw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O7(e,t,r){return t=yf(t),_7(e,uA()?Reflect.construct(t,r||[],yf(e).constructor):t.apply(e,r))}function _7(e,t){if(t&&(hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T7(e)}function T7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uA=function(){return!!e})()}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yf(e)}function $7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d0(e,t)}function d0(e,t){return d0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d0(e,t)}function Kh(e,t,r){return t=dA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dA(e){var t=M7(e,"string");return hs(t)=="symbol"?t:t+""}function M7(e,t){if(hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I7(e,t){if(e==null)return{};var r=D7(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L7(e){return e.value}function R7(e,t){if(O.isValidElement(e))return O.cloneElement(e,t);if(typeof e=="function")return O.createElement(e,t);t.ref;var r=I7(t,C7);return O.createElement(Vx,r)}var hw=1,Cn=function(e){function t(){var r;P7(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=O7(this,t,[].concat(a)),Kh(r,"lastBoundingBox",{width:-1,height:-1}),r}return $7(t,e),E7(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>hw||Math.abs(a.height-this.lastBoundingBox.height)>hw)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ia({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((f||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ia(ia({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,d=ia(ia({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return O.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},R7(o,ia(ia({},this.props),{},{payload:cA(f,u,L7)})))}}],[{key:"getWithHeight",value:function(n,a){var o=ia(ia({},this.defaultProps),n.props),s=o.layout;return s==="vertical"&&re(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(S.PureComponent);Kh(Cn,"displayName","Legend");Kh(Cn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pw=lu,F7=Hx,B7=Er,mw=pw?pw.isConcatSpreadable:void 0;function z7(e){return B7(e)||F7(e)||!!(mw&&e&&e[mw])}var W7=z7,V7=J5,U7=W7;function fA(e,t,r,n,a){var o=-1,s=e.length;for(r||(r=U7),a||(a=[]);++o<s;){var l=e[o];t>0&&r(l)?t>1?fA(l,t-1,r,n,a):V7(a,l):n||(a[a.length]=l)}return a}var hA=fA;function H7(e){return function(t,r,n){for(var a=-1,o=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++a];if(r(o[c],c,o)===!1)break}return t}}var K7=H7,q7=K7,G7=q7(),Y7=G7,X7=Y7,J7=Hh;function Q7(e,t){return e&&X7(e,t,J7)}var pA=Q7,Z7=cu;function eF(e,t){return function(r,n){if(r==null)return r;if(!Z7(r))return e(r,n);for(var a=r.length,o=t?a:-1,s=Object(r);(t?o--:++o<a)&&n(s[o],o,s)!==!1;);return r}}var tF=eF,rF=pA,nF=tF,aF=nF(rF),Yx=aF,iF=Yx,oF=cu;function sF(e,t){var r=-1,n=oF(e)?Array(e.length):[];return iF(e,function(a,o,s){n[++r]=t(a,o,s)}),n}var mA=sF;function lF(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var cF=lF,gw=Bs;function uF(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=gw(e),s=t!==void 0,l=t===null,c=t===t,u=gw(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!o&&!u&&e<t||u&&r&&a&&!n&&!o||l&&r&&a||!s&&a||!c)return-1}return 0}var dF=uF,fF=dF;function hF(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,s=a.length,l=r.length;++n<s;){var c=fF(a[n],o[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var pF=hF,km=$x,mF=Mx,gF=Gn,yF=mA,xF=cF,vF=eA,bF=pF,wF=Gs,jF=Er;function kF(e,t,r){t.length?t=km(t,function(o){return jF(o)?function(s){return mF(s,o.length===1?o[0]:o)}:o}):t=[wF];var n=-1;t=km(t,vF(gF));var a=yF(e,function(o,s,l){var c=km(t,function(u){return u(o)});return{criteria:c,index:++n,value:o}});return xF(a,function(o,s){return bF(o,s,r)})}var NF=kF;function SF(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var AF=SF,CF=AF,yw=Math.max;function PF(e,t,r){return t=yw(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=yw(n.length-t,0),s=Array(o);++a<o;)s[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(s),CF(e,this,l)}}var EF=PF;function OF(e){return function(){return e}}var _F=OF,TF=lo,$F=function(){try{var e=TF(Object,"defineProperty");return e({},"",{}),e}catch{}}(),gA=$F,MF=_F,xw=gA,IF=Gs,DF=xw?function(e,t){return xw(e,"toString",{configurable:!0,enumerable:!1,value:MF(t),writable:!0})}:IF,LF=DF,RF=800,FF=16,BF=Date.now;function zF(e){var t=0,r=0;return function(){var n=BF(),a=FF-(n-r);if(r=n,a>0){if(++t>=RF)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var WF=zF,VF=LF,UF=WF,HF=UF(VF),KF=HF,qF=Gs,GF=EF,YF=KF;function XF(e,t){return YF(GF(e,t,qF),e+"")}var JF=XF,QF=Ex,ZF=cu,e9=Kx,t9=fi;function r9(e,t,r){if(!t9(r))return!1;var n=typeof t;return(n=="number"?ZF(r)&&e9(t,r.length):n=="string"&&t in r)?QF(r[t],e):!1}var qh=r9,n9=hA,a9=NF,i9=JF,vw=qh,o9=i9(function(e,t){if(e==null)return[];var r=t.length;return r>1&&vw(e,t[0],t[1])?t=[]:r>2&&vw(t[0],t[1],t[2])&&(t=[t[0]]),a9(e,n9(t,1),[])}),s9=o9;const Xx=Fe(s9);function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f0.apply(this,arguments)}function l9(e,t){return f9(e)||d9(e,t)||u9(e,t)||c9()}function c9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u9(e,t){if(e){if(typeof e=="string")return bw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bw(e,t)}}function bw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function f9(e){if(Array.isArray(e))return e}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){h9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h9(e,t,r){return t=p9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p9(e){var t=m9(e,"string");return Nc(t)=="symbol"?t:t+""}function m9(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g9(e){return Array.isArray(e)&&It(e[0])&&It(e[1])?e.join(" ~ "):e}var y9=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,x=t.labelFormatter,g=t.accessibilityLayer,v=g===void 0?!1:g,b=function(){if(f&&f.length){var T={padding:0,margin:0},L=(h?Xx(f,h):f).map(function(K,q){if(K.type==="none")return null;var G=Nm({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},l),Q=K.formatter||d||g9,R=K.value,W=K.name,Z=R,ie=W;if(Q&&Z!=null&&ie!=null){var ee=Q(R,W,K,q,f);if(Array.isArray(ee)){var fe=l9(ee,2);Z=fe[0],ie=fe[1]}else Z=ee}return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:G},It(ie)?O.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,It(ie)?O.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,O.createElement("span",{className:"recharts-tooltip-item-value"},Z),O.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:T},L)}return null},k=Nm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=Nm({margin:0},u),N=!xe(m),A=N?m:"",P=be("recharts-default-tooltip",p),E=be("recharts-tooltip-label",y);N&&x&&f!==void 0&&f!==null&&(A=x(m,f));var M=v?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",f0({className:P,style:k},M),O.createElement("p",{className:E,style:w},O.isValidElement(A)?A:"".concat(A)),b())};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function Qu(e,t,r){return t=x9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x9(e){var t=v9(e,"string");return Sc(t)=="symbol"?t:t+""}function v9(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sl="recharts-tooltip-wrapper",b9={visibility:"hidden"};function w9(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return be(Sl,Qu(Qu(Qu(Qu({},"".concat(Sl,"-right"),re(r)&&t&&re(t.x)&&r>=t.x),"".concat(Sl,"-left"),re(r)&&t&&re(t.x)&&r<t.x),"".concat(Sl,"-bottom"),re(n)&&t&&re(t.y)&&n>=t.y),"".concat(Sl,"-top"),re(n)&&t&&re(t.y)&&n<t.y))}function jw(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(o&&re(o[n]))return o[n];var f=r[n]-l-a,d=r[n]+a;if(t[n])return s[n]?f:d;if(s[n]){var h=f,p=c[n];return h<p?Math.max(d,c[n]):Math.max(f,c[n])}var y=d+l,m=c[n]+u;return y>m?Math.max(f,c[n]):Math.max(d,c[n])}function j9(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function k9(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return s.height>0&&s.width>0&&r?(f=jw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),d=jw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=j9({translateX:f,translateY:d,useTranslate3d:l})):u=b9,{cssProperties:u,cssClasses:w9({translateX:f,translateY:d,coordinate:r})}}function ps(e){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(e)}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){p0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xA(n.key),n)}}function S9(e,t,r){return t&&Sw(e.prototype,t),r&&Sw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function A9(e,t,r){return t=xf(t),C9(e,yA()?Reflect.construct(t,r||[],xf(e).constructor):t.apply(e,r))}function C9(e,t){if(t&&(ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P9(e)}function P9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yA=function(){return!!e})()}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xf(e)}function E9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h0(e,t)}function h0(e,t){return h0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h0(e,t)}function p0(e,t,r){return t=xA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xA(e){var t=O9(e,"string");return ps(t)=="symbol"?t:t+""}function O9(e,t){if(ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aw=1,_9=function(e){function t(){var r;N9(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=A9(this,t,[].concat(a)),p0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),p0(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return E9(t,e),S9(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Aw||Math.abs(n.height-this.state.lastBoundingBox.height)>Aw)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,m=a.reverseDirection,x=a.useTranslate3d,g=a.viewBox,v=a.wrapperStyle,b=k9({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:g}),k=b.cssClasses,w=b.cssProperties,N=Nw(Nw({transition:h&&o?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},v);return O.createElement("div",{tabIndex:-1,className:k,style:N,ref:function(P){n.wrapperNode=P}},u)}}])}(S.PureComponent),T9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pn={isSsr:T9(),get:function(t){return Pn[t]},set:function(t,r){if(typeof t=="string")Pn[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Pn[a]=t[a]})}}};function ms(e){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){Jx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ew(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bA(n.key),n)}}function M9(e,t,r){return t&&Ew(e.prototype,t),r&&Ew(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I9(e,t,r){return t=vf(t),D9(e,vA()?Reflect.construct(t,r||[],vf(e).constructor):t.apply(e,r))}function D9(e,t){if(t&&(ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L9(e)}function L9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vA=function(){return!!e})()}function vf(e){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vf(e)}function R9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m0(e,t)}function m0(e,t){return m0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m0(e,t)}function Jx(e,t,r){return t=bA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bA(e){var t=F9(e,"string");return ms(t)=="symbol"?t:t+""}function F9(e,t){if(ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B9(e){return e.dataKey}function z9(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement(y9,t)}var ct=function(e){function t(){return $9(this,t),I9(this,t,arguments)}return R9(t,e),M9(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,m=a.payloadUniqBy,x=a.position,g=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,k=a.wrapperStyle,w=y??[];d&&w.length&&(w=cA(y.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),m,B9));var N=w.length>0;return O.createElement(_9,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:o,coordinate:f,hasPayload:N,offset:p,position:x,reverseDirection:g,useTranslate3d:v,viewBox:b,wrapperStyle:k},z9(u,Pw(Pw({},this.props),{},{payload:w})))}}])}(S.PureComponent);Jx(ct,"displayName","Tooltip");Jx(ct,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var W9=qn,V9=function(){return W9.Date.now()},U9=V9,H9=/\s/;function K9(e){for(var t=e.length;t--&&H9.test(e.charAt(t)););return t}var q9=K9,G9=q9,Y9=/^\s+/;function X9(e){return e&&e.slice(0,G9(e)+1).replace(Y9,"")}var J9=X9,Q9=J9,Ow=fi,Z9=Bs,_w=0/0,eB=/^[-+]0x[0-9a-f]+$/i,tB=/^0b[01]+$/i,rB=/^0o[0-7]+$/i,nB=parseInt;function aB(e){if(typeof e=="number")return e;if(Z9(e))return _w;if(Ow(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ow(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Q9(e);var r=tB.test(e);return r||rB.test(e)?nB(e.slice(2),r?2:8):eB.test(e)?_w:+e}var wA=aB,iB=fi,Sm=U9,Tw=wA,oB="Expected a function",sB=Math.max,lB=Math.min;function cB(e,t,r){var n,a,o,s,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(oB);t=Tw(t)||0,iB(r)&&(f=!!r.leading,d="maxWait"in r,o=d?sB(Tw(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(N){var A=n,P=a;return n=a=void 0,u=N,s=e.apply(P,A),s}function y(N){return u=N,l=setTimeout(g,t),f?p(N):s}function m(N){var A=N-c,P=N-u,E=t-A;return d?lB(E,o-P):E}function x(N){var A=N-c,P=N-u;return c===void 0||A>=t||A<0||d&&P>=o}function g(){var N=Sm();if(x(N))return v(N);l=setTimeout(g,m(N))}function v(N){return l=void 0,h&&n?p(N):(n=a=void 0,s)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function k(){return l===void 0?s:v(Sm())}function w(){var N=Sm(),A=x(N);if(n=arguments,a=this,c=N,A){if(l===void 0)return y(c);if(d)return clearTimeout(l),l=setTimeout(g,t),p(c)}return l===void 0&&(l=setTimeout(g,t)),s}return w.cancel=b,w.flush=k,w}var uB=cB,dB=uB,fB=fi,hB="Expected a function";function pB(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(hB);return fB(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),dB(e,t,{leading:n,maxWait:t,trailing:a})}var mB=pB;const jA=Fe(mB);function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){gB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gB(e,t,r){return t=yB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yB(e){var t=xB(e,"string");return Ac(t)=="symbol"?t:t+""}function xB(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vB(e,t){return kB(e)||jB(e,t)||wB(e,t)||bB()}function bB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wB(e,t){if(e){if(typeof e=="string")return Mw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mw(e,t)}}function Mw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function kB(e){if(Array.isArray(e))return e}var dr=S.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,s=o===void 0?"100%":o,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,x=e.id,g=e.className,v=e.onResize,b=e.style,k=b===void 0?{}:b,w=S.useRef(null),N=S.useRef();N.current=v,S.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var A=S.useState({containerWidth:a.width,containerHeight:a.height}),P=vB(A,2),E=P[0],M=P[1],_=S.useCallback(function(L,K){M(function(q){var G=Math.round(L),Q=Math.round(K);return q.containerWidth===G&&q.containerHeight===Q?q:{containerWidth:G,containerHeight:Q}})},[]);S.useEffect(function(){var L=function(W){var Z,ie=W[0].contentRect,ee=ie.width,fe=ie.height;_(ee,fe),(Z=N.current)===null||Z===void 0||Z.call(N,ee,fe)};m>0&&(L=jA(L,m,{trailing:!0,leading:!1}));var K=new ResizeObserver(L),q=w.current.getBoundingClientRect(),G=q.width,Q=q.height;return _(G,Q),K.observe(w.current),function(){K.disconnect()}},[_,m]);var T=S.useMemo(function(){var L=E.containerWidth,K=E.containerHeight;if(L<0||K<0)return null;An(Li(s)||Li(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),An(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=Li(s)?L:s,G=Li(c)?K:c;r&&r>0&&(q?G=q/r:G&&(q=G*r),h&&G>h&&(G=h)),An(q>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,G,s,c,f,d,r);var Q=!Array.isArray(p)&&ya(p.type).endsWith("Chart");return O.Children.map(p,function(R){return O.isValidElement(R)?S.cloneElement(R,Zu({width:q,height:G},Q?{style:Zu({height:"100%",width:"100%",maxHeight:G,maxWidth:q},R.props.style)}:{})):R})},[r,p,c,h,d,f,E,s]);return O.createElement("div",{id:x?"".concat(x):void 0,className:be("recharts-responsive-container",g),style:Zu(Zu({},k),{},{width:s,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:w},T)}),uu=function(t){return null};uu.displayName="Cell";function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){NB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NB(e,t,r){return t=SB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SB(e){var t=AB(e,"string");return Cc(t)=="symbol"?t:t+""}function AB(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ao={widthCache:{},cacheCount:0},CB=2e3,PB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Dw="recharts_measurement_span";function EB(e){var t=g0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Jl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Pn.isSsr)return{width:0,height:0};var n=EB(r),a=JSON.stringify({text:t,copyStyle:n});if(Ao.widthCache[a])return Ao.widthCache[a];try{var o=document.getElementById(Dw);o||(o=document.createElement("span"),o.setAttribute("id",Dw),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=g0(g0({},PB),n);Object.assign(o.style,s),o.textContent="".concat(t);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return Ao.widthCache[a]=c,++Ao.cacheCount>CB&&(Ao.cacheCount=0,Ao.widthCache={}),c}catch{return{width:0,height:0}}},OB=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function bf(e,t){return MB(e)||$B(e,t)||TB(e,t)||_B()}function _B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TB(e,t){if(e){if(typeof e=="string")return Lw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lw(e,t)}}function Lw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $B(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function MB(e){if(Array.isArray(e))return e}function IB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LB(n.key),n)}}function DB(e,t,r){return t&&Rw(e.prototype,t),r&&Rw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LB(e){var t=RB(e,"string");return Pc(t)=="symbol"?t:t+""}function RB(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zB=Object.keys(kA),Uo="NaN";function WB(e,t){return e*kA[t]}var ed=function(){function e(t,r){IB(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!FB.test(r)&&(this.num=NaN,this.unit=""),zB.includes(r)&&(this.num=WB(t,r),this.unit="px")}return DB(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=BB.exec(r))!==null&&n!==void 0?n:[],o=bf(a,3),s=o[1],l=o[2];return new e(parseFloat(s),l??"")}}])}();function NA(e){if(e.includes(Uo))return Uo;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Fw.exec(t))!==null&&r!==void 0?r:[],a=bf(n,4),o=a[1],s=a[2],l=a[3],c=ed.parse(o??""),u=ed.parse(l??""),f=s==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Uo;t=t.replace(Fw,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=Bw.exec(t))!==null&&d!==void 0?d:[],p=bf(h,4),y=p[1],m=p[2],x=p[3],g=ed.parse(y??""),v=ed.parse(x??""),b=m==="+"?g.add(v):g.subtract(v);if(b.isNaN())return Uo;t=t.replace(Bw,b.toString())}return t}var zw=/\(([^()]*)\)/;function VB(e){for(var t=e;t.includes("(");){var r=zw.exec(t),n=bf(r,2),a=n[1];t=t.replace(zw,NA(a))}return t}function UB(e){var t=e.replace(/\s+/g,"");return t=VB(t),t=NA(t),t}function HB(e){try{return UB(e)}catch{return Uo}}function Am(e){var t=HB(e.slice(5,-1));return t===Uo?"":t}var KB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qB=["dx","dy","angle","className","breakAll"];function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y0.apply(this,arguments)}function Ww(e,t){if(e==null)return{};var r=GB(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vw(e,t){return QB(e)||JB(e,t)||XB(e,t)||YB()}function YB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XB(e,t){if(e){if(typeof e=="string")return Uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(e,t)}}function Uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function QB(e){if(Array.isArray(e))return e}var SA=/[ \f\n\r\t\v\u2028\u2029]+/,AA=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];xe(r)||(n?o=r.toString().split(""):o=r.toString().split(SA));var s=o.map(function(c){return{word:c,width:Jl(c,a).width}}),l=n?0:Jl("",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},ZB=function(t,r,n,a,o){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=re(s),d=l,h=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(G,Q){var R=Q.word,W=Q.width,Z=G[G.length-1];if(Z&&(a==null||o||Z.width+W+n<Number(a)))Z.words.push(R),Z.width+=W+n;else{var ie={words:[R],width:W};G.push(ie)}return G},[])},p=h(r),y=function(q){return q.reduce(function(G,Q){return G.width>Q.width?G:Q})};if(!f)return p;for(var m="",x=function(q){var G=d.slice(0,q),Q=AA({breakAll:u,style:c,children:G+m}).wordsWithComputedWidth,R=h(Q),W=R.length>s||y(R).width>Number(a);return[W,R]},g=0,v=d.length-1,b=0,k;g<=v&&b<=d.length-1;){var w=Math.floor((g+v)/2),N=w-1,A=x(N),P=Vw(A,2),E=P[0],M=P[1],_=x(w),T=Vw(_,1),L=T[0];if(!E&&!L&&(g=w+1),E&&L&&(v=w-1),!E&&L){k=M;break}b++}return k||p},Hw=function(t){var r=xe(t)?[]:t.toString().split(SA);return[{words:r}]},ez=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!Pn.isSsr){var c,u,f=AA({breakAll:s,children:a,style:o});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return Hw(a);return ZB({breakAll:s,children:a,maxLines:l,style:o},c,u,r,n)}return Hw(a)},Kw="#808080",to=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,x=t.fill,g=x===void 0?Kw:x,v=Ww(t,KB),b=S.useMemo(function(){return ez({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),k=v.dx,w=v.dy,N=v.angle,A=v.className,P=v.breakAll,E=Ww(v,qB);if(!It(n)||!It(o))return null;var M=n+(re(k)?k:0),_=o+(re(w)?w:0),T;switch(m){case"start":T=Am("calc(".concat(u,")"));break;case"middle":T=Am("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=Am("calc(".concat(b.length-1," * -").concat(l,")"));break}var L=[];if(d){var K=b[0].width,q=v.width;L.push("scale(".concat((re(q)?q/K:1)/K,")"))}return N&&L.push("rotate(".concat(N,", ").concat(M,", ").concat(_,")")),L.length&&(E.transform=L.join(" ")),O.createElement("text",y0({},he(E,!0),{x:M,y:_,className:be("recharts-text",A),textAnchor:p,fill:g.includes("url")?Kw:g}),b.map(function(G,Q){var R=G.words.join(P?"":" ");return O.createElement("tspan",{x:M,dy:Q===0?T:l,key:"".concat(R,"-").concat(Q)},R)}))};function ai(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tz(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qx(e){let t,r,n;e.length!==2?(t=ai,r=(l,c)=>ai(e(l),c),n=(l,c)=>e(l)-c):(t=e===ai||e===tz?e:rz,r=e,n=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function s(l,c,u=0,f=l.length){const d=a(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:s,right:o}}function rz(){return 0}function CA(e){return e===null?NaN:+e}function*nz(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const az=Qx(ai),iz=az.right;Qx(CA).center;const du=iz;class qw extends Map{constructor(t,r=lz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Gw(this,t))}has(t){return super.has(Gw(this,t))}set(t,r){return super.set(oz(this,t),r)}delete(t){return super.delete(sz(this,t))}}function Gw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function oz({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function sz({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function lz(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cz(e=ai){if(e===ai)return PA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function PA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const uz=Math.sqrt(50),dz=Math.sqrt(10),fz=Math.sqrt(2);function wf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),s=o>=uz?10:o>=dz?5:o>=fz?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?wf(e,t,r*2):[l,c,u]}function x0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,s]=n?wf(t,e,r):wf(e,t,r);if(!(o>=a))return[];const l=o-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(o-u)/-s;else for(let u=0;u<l;++u)c[u]=(o-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function v0(e,t,r){return t=+t,e=+e,r=+r,wf(e,t,r)[2]}function b0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?v0(t,e,r):v0(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Yw(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function Xw(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function EA(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?PA:cz(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/c+h)),y=Math.min(n,Math.floor(t+(c-u)*d/c+h));EA(e,t,p,y,a)}const o=e[t];let s=r,l=n;for(Al(e,r,t),a(e[n],o)>0&&Al(e,r,n);s<l;){for(Al(e,s,l),++s,--l;a(e[s],o)<0;)++s;for(;a(e[l],o)>0;)--l}a(e[r],o)===0?Al(e,r,l):(++l,Al(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Al(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function hz(e,t,r){if(e=Float64Array.from(nz(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Xw(e);if(t>=1)return Yw(e);var n,a=(n-1)*t,o=Math.floor(a),s=Yw(EA(e,o).subarray(0,o+1)),l=Xw(e.subarray(o+1));return s+(l-s)*(a-o)}}function pz(e,t,r=CA){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),s=+r(e[o],o,e),l=+r(e[o+1],o+1,e);return s+(l-s)*(a-o)}}function mz(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function fn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _a(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const w0=Symbol("implicit");function Zx(){var e=new qw,t=[],r=[],n=w0;function a(o){let s=e.get(o);if(s===void 0){if(n!==w0)return n;e.set(o,s=t.push(o)-1)}return r[s%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new qw;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Zx(t,r).unknown(n)},fn.apply(a,arguments),a}function Ec(){var e=Zx().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,s,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,y=p?a:n,m=p?n:a;o=(m-y)/Math.max(1,h-c+u*2),l&&(o=Math.floor(o)),y+=(m-y-o*(h-c))*f,s=o*(1-c),l&&(y=Math.round(y),s=Math.round(s));var x=mz(h).map(function(g){return y+o*g});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Ec(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},fn.apply(d(),arguments)}function OA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return OA(t())},e}function Ql(){return OA(Ec.apply(null,arguments).paddingInner(1))}function ev(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function _A(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fu(){}var Oc=.7,jf=1/Oc,rs="\\s*([+-]?\\d+)\\s*",_c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gz=/^#([0-9a-f]{3,8})$/,yz=new RegExp(`^rgb\\(${rs},${rs},${rs}\\)$`),xz=new RegExp(`^rgb\\(${zn},${zn},${zn}\\)$`),vz=new RegExp(`^rgba\\(${rs},${rs},${rs},${_c}\\)$`),bz=new RegExp(`^rgba\\(${zn},${zn},${zn},${_c}\\)$`),wz=new RegExp(`^hsl\\(${_c},${zn},${zn}\\)$`),jz=new RegExp(`^hsla\\(${_c},${zn},${zn},${_c}\\)$`),Jw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ev(fu,Tc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qw,formatHex:Qw,formatHex8:kz,formatHsl:Nz,formatRgb:Zw,toString:Zw});function Qw(){return this.rgb().formatHex()}function kz(){return this.rgb().formatHex8()}function Nz(){return TA(this).formatHsl()}function Zw(){return this.rgb().formatRgb()}function Tc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=gz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?e2(t):r===3?new Nr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?td(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?td(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yz.exec(e))?new Nr(t[1],t[2],t[3],1):(t=xz.exec(e))?new Nr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vz.exec(e))?td(t[1],t[2],t[3],t[4]):(t=bz.exec(e))?td(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wz.exec(e))?n2(t[1],t[2]/100,t[3]/100,1):(t=jz.exec(e))?n2(t[1],t[2]/100,t[3]/100,t[4]):Jw.hasOwnProperty(e)?e2(Jw[e]):e==="transparent"?new Nr(NaN,NaN,NaN,0):null}function e2(e){return new Nr(e>>16&255,e>>8&255,e&255,1)}function td(e,t,r,n){return n<=0&&(e=t=r=NaN),new Nr(e,t,r,n)}function Sz(e){return e instanceof fu||(e=Tc(e)),e?(e=e.rgb(),new Nr(e.r,e.g,e.b,e.opacity)):new Nr}function j0(e,t,r,n){return arguments.length===1?Sz(e):new Nr(e,t,r,n??1)}function Nr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ev(Nr,j0,_A(fu,{brighter(e){return e=e==null?jf:Math.pow(jf,e),new Nr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Oc:Math.pow(Oc,e),new Nr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Nr(Ui(this.r),Ui(this.g),Ui(this.b),kf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t2,formatHex:t2,formatHex8:Az,formatRgb:r2,toString:r2}));function t2(){return`#${Ri(this.r)}${Ri(this.g)}${Ri(this.b)}`}function Az(){return`#${Ri(this.r)}${Ri(this.g)}${Ri(this.b)}${Ri((isNaN(this.opacity)?1:this.opacity)*255)}`}function r2(){const e=kf(this.opacity);return`${e===1?"rgb(":"rgba("}${Ui(this.r)}, ${Ui(this.g)}, ${Ui(this.b)}${e===1?")":`, ${e})`}`}function kf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ui(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ri(e){return e=Ui(e),(e<16?"0":"")+e.toString(16)}function n2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new kn(e,t,r,n)}function TA(e){if(e instanceof kn)return new kn(e.h,e.s,e.l,e.opacity);if(e instanceof fu||(e=Tc(e)),!e)return new kn;if(e instanceof kn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),s=NaN,l=o-a,c=(o+a)/2;return l?(t===o?s=(r-n)/l+(r<n)*6:r===o?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?o+a:2-o-a,s*=60):l=c>0&&c<1?0:s,new kn(s,l,c,e.opacity)}function Cz(e,t,r,n){return arguments.length===1?TA(e):new kn(e,t,r,n??1)}function kn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ev(kn,Cz,_A(fu,{brighter(e){return e=e==null?jf:Math.pow(jf,e),new kn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Oc:Math.pow(Oc,e),new kn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Nr(Cm(e>=240?e-240:e+120,a,n),Cm(e,a,n),Cm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new kn(a2(this.h),rd(this.s),rd(this.l),kf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=kf(this.opacity);return`${e===1?"hsl(":"hsla("}${a2(this.h)}, ${rd(this.s)*100}%, ${rd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function a2(e){return e=(e||0)%360,e<0?e+360:e}function rd(e){return Math.max(0,Math.min(1,e||0))}function Cm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const tv=e=>()=>e;function Pz(e,t){return function(r){return e+r*t}}function Ez(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Oz(e){return(e=+e)==1?$A:function(t,r){return r-t?Ez(t,r,e):tv(isNaN(t)?r:t)}}function $A(e,t){var r=t-e;return r?Pz(e,r):tv(isNaN(e)?t:e)}const i2=function e(t){var r=Oz(t);function n(a,o){var s=r((a=j0(a)).r,(o=j0(o)).r),l=r(a.g,o.g),c=r(a.b,o.b),u=$A(a.opacity,o.opacity);return function(f){return a.r=s(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function _z(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function Tz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $z(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)a[s]=Ys(e[s],t[s]);for(;s<r;++s)o[s]=t[s];return function(l){for(s=0;s<n;++s)o[s]=a[s](l);return o}}function Mz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Nf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Iz(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ys(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var k0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pm=new RegExp(k0.source,"g");function Dz(e){return function(){return e}}function Lz(e){return function(t){return e(t)+""}}function Rz(e,t){var r=k0.lastIndex=Pm.lastIndex=0,n,a,o,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=k0.exec(e))&&(a=Pm.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),l[s]?l[s]+=o:l[++s]=o),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:Nf(n,a)})),r=Pm.lastIndex;return r<t.length&&(o=t.slice(r),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?Lz(c[0].x):Dz(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function Ys(e,t){var r=typeof t,n;return t==null||r==="boolean"?tv(t):(r==="number"?Nf:r==="string"?(n=Tc(t))?(t=n,i2):Rz:t instanceof Tc?i2:t instanceof Date?Mz:Tz(t)?_z:Array.isArray(t)?$z:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Iz:Nf)(e,t)}function rv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Fz(e,t){t===void 0&&(t=e,e=Ys);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[l](s-l)}}function Bz(e){return function(){return e}}function Sf(e){return+e}var o2=[0,1];function fr(e){return e}function N0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Bz(isNaN(t)?NaN:.5)}function zz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Wz(e,t,r){var n=e[0],a=e[1],o=t[0],s=t[1];return a<n?(n=N0(a,n),o=r(s,o)):(n=N0(n,a),o=r(o,s)),function(l){return o(n(l))}}function Vz(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=N0(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(l){var c=du(e,l,1,n)-1;return o[c](a[c](l))}}function hu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Gh(){var e=o2,t=o2,r=Ys,n,a,o,s=fr,l,c,u;function f(){var h=Math.min(e.length,t.length);return s!==fr&&(s=zz(e[0],e[h-1])),l=h>2?Vz:Wz,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return d.invert=function(h){return s(a((u||(u=l(t,e.map(n),Nf)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Sf),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=rv,f()},d.clamp=function(h){return arguments.length?(s=h?!0:fr,f()):s!==fr},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,a=p,f()}}function nv(){return Gh()(fr,fr)}function Uz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Af(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gs(e){return e=Af(Math.abs(e)),e?e[1]:NaN}function Hz(e,t){return function(r,n){for(var a=r.length,o=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),o.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Kz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var qz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $c(e){if(!(t=qz.exec(e)))throw new Error("invalid format: "+e);var t;return new av({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$c.prototype=av.prototype;function av(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}av.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gz(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var MA;function Yz(e,t){var r=Af(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(MA=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Af(e,Math.max(0,t+o-1))[0]}function s2(e,t){var r=Af(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const l2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Uz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>s2(e*100,t),r:s2,s:Yz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function c2(e){return e}var u2=Array.prototype.map,d2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Xz(e){var t=e.grouping===void 0||e.thousands===void 0?c2:Hz(u2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?c2:Kz(u2.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=$c(d);var h=d.fill,p=d.align,y=d.sign,m=d.symbol,x=d.zero,g=d.width,v=d.comma,b=d.precision,k=d.trim,w=d.type;w==="n"?(v=!0,w="g"):l2[w]||(b===void 0&&(b=12),k=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",A=m==="$"?n:/[%p]/.test(w)?s:"",P=l2[w],E=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function M(_){var T=N,L=A,K,q,G;if(w==="c")L=P(_)+L,_="";else{_=+_;var Q=_<0||1/_<0;if(_=isNaN(_)?c:P(Math.abs(_),b),k&&(_=Gz(_)),Q&&+_==0&&y!=="+"&&(Q=!1),T=(Q?y==="("?y:l:y==="-"||y==="("?"":y)+T,L=(w==="s"?d2[8+MA/3]:"")+L+(Q&&y==="("?")":""),E){for(K=-1,q=_.length;++K<q;)if(G=_.charCodeAt(K),48>G||G>57){L=(G===46?a+_.slice(K+1):_.slice(K))+L,_=_.slice(0,K);break}}}v&&!x&&(_=t(_,1/0));var R=T.length+_.length+L.length,W=R<g?new Array(g-R+1).join(h):"";switch(v&&x&&(_=t(W+_,W.length?g-L.length:1/0),W=""),p){case"<":_=T+_+L+W;break;case"=":_=T+W+_+L;break;case"^":_=W.slice(0,R=W.length>>1)+T+_+L+W.slice(R);break;default:_=W+T+_+L;break}return o(_)}return M.toString=function(){return d+""},M}function f(d,h){var p=u((d=$c(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(gs(h)/3)))*3,m=Math.pow(10,-y),x=d2[8+y/3];return function(g){return p(m*g)+x}}return{format:u,formatPrefix:f}}var nd,iv,IA;Jz({thousands:",",grouping:[3],currency:["$",""]});function Jz(e){return nd=Xz(e),iv=nd.format,IA=nd.formatPrefix,nd}function Qz(e){return Math.max(0,-gs(Math.abs(e)))}function Zz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gs(t)/3)))*3-gs(Math.abs(e)))}function eW(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gs(t)-gs(e))+1}function DA(e,t,r,n){var a=b0(e,t,r),o;switch(n=$c(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=Zz(a,s))&&(n.precision=o),IA(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=eW(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Qz(a))&&(n.precision=o-(n.type==="%")*2);break}}return iv(n)}function hi(e){var t=e.domain;return e.ticks=function(r){var n=t();return x0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return DA(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,s=n[a],l=n[o],c,u,f=10;for(l<s&&(u=s,s=l,l=u,u=a,a=o,o=u);f-- >0;){if(u=v0(s,l,r),u===c)return n[a]=s,n[o]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Cf(){var e=nv();return e.copy=function(){return hu(e,Cf())},fn.apply(e,arguments),hi(e)}function LA(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Sf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return LA(e).unknown(t)},e=arguments.length?Array.from(e,Sf):[0,1],hi(r)}function RA(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],s;return o<a&&(s=r,r=n,n=s,s=a,a=o,o=s),e[r]=t.floor(a),e[n]=t.ceil(o),e}function f2(e){return Math.log(e)}function h2(e){return Math.exp(e)}function tW(e){return-Math.log(-e)}function rW(e){return-Math.exp(-e)}function nW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function aW(e){return e===10?nW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function iW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function p2(e){return(t,r)=>-e(-t,r)}function ov(e){const t=e(f2,h2),r=t.domain;let n=10,a,o;function s(){return a=iW(n),o=aW(n),r()[0]<0?(a=p2(a),o=p2(o),e(tW,rW)):e(f2,h2),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=a(u),p=a(f),y,m;const x=l==null?10:+l;let g=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/o(-h):y*o(h),!(m<u)){if(m>f)break;g.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/o(-h):y*o(h),!(m<u)){if(m>f)break;g.push(m)}g.length*2<x&&(g=x0(u,f,x))}else g=x0(h,p,Math.min(p-h,x)).map(o);return d?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=$c(c)).precision==null&&(c.trim=!0),c=iv(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/o(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(RA(r(),{floor:l=>o(Math.floor(a(l))),ceil:l=>o(Math.ceil(a(l)))})),t}function FA(){const e=ov(Gh()).domain([1,10]);return e.copy=()=>hu(e,FA()).base(e.base()),fn.apply(e,arguments),e}function m2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function g2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sv(e){var t=1,r=e(m2(t),g2(t));return r.constant=function(n){return arguments.length?e(m2(t=+n),g2(t)):t},hi(r)}function BA(){var e=sv(Gh());return e.copy=function(){return hu(e,BA()).constant(e.constant())},fn.apply(e,arguments)}function y2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function sW(e){return e<0?-e*e:e*e}function lv(e){var t=e(fr,fr),r=1;function n(){return r===1?e(fr,fr):r===.5?e(oW,sW):e(y2(r),y2(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},hi(t)}function cv(){var e=lv(Gh());return e.copy=function(){return hu(e,cv()).exponent(e.exponent())},fn.apply(e,arguments),e}function lW(){return cv.apply(null,arguments).exponent(.5)}function x2(e){return Math.sign(e)*e*e}function cW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function zA(){var e=nv(),t=[0,1],r=!1,n;function a(o){var s=cW(e(o));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(o){return e.invert(x2(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Sf)).map(x2)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return zA(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},fn.apply(a,arguments),hi(a)}function WA(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=pz(e,s/l);return o}function o(s){return s==null||isNaN(s=+s)?n:t[du(r,s)]}return o.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ai),a()},o.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return WA().domain(e).range(t).unknown(n)},fn.apply(o,arguments)}function VA(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function s(c){return c!=null&&c<=c?a[du(n,c,0,r)]:o}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return VA().domain([e,t]).range(a).unknown(o)},fn.apply(hi(s),arguments)}function UA(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[du(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return UA().domain(e).range(t).unknown(r)},fn.apply(a,arguments)}const Em=new Date,Om=new Date;function Dt(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const s=a(o),l=a.ceil(o);return o-s<l-o?s:l},a.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),a.range=(o,s,l)=>{const c=[];if(o=a.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let u;do c.push(u=new Date(+o)),t(o,l),e(o);while(u<o&&o<s);return c},a.filter=o=>Dt(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!o(s););else for(;--l>=0;)for(;t(s,1),!o(s););}),r&&(a.count=(o,s)=>(Em.setTime(+o),Om.setTime(+s),e(Em),e(Om),Math.floor(r(Em,Om))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?s=>n(s)%o===0:s=>a.count(0,s)%o===0):a)),a}const Pf=Dt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Pf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Dt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Pf);Pf.range;const fa=1e3,an=fa*60,ha=an*60,Na=ha*24,uv=Na*7,v2=Na*30,_m=Na*365,Fi=Dt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fa)},(e,t)=>(t-e)/fa,e=>e.getUTCSeconds());Fi.range;const dv=Dt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fa)},(e,t)=>{e.setTime(+e+t*an)},(e,t)=>(t-e)/an,e=>e.getMinutes());dv.range;const fv=Dt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*an)},(e,t)=>(t-e)/an,e=>e.getUTCMinutes());fv.range;const hv=Dt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fa-e.getMinutes()*an)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getHours());hv.range;const pv=Dt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getUTCHours());pv.range;const pu=Dt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*an)/Na,e=>e.getDate()-1);pu.range;const Yh=Dt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Na,e=>e.getUTCDate()-1);Yh.range;const HA=Dt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Na,e=>Math.floor(e/Na));HA.range;function uo(e){return Dt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*an)/uv)}const Xh=uo(0),Ef=uo(1),uW=uo(2),dW=uo(3),ys=uo(4),fW=uo(5),hW=uo(6);Xh.range;Ef.range;uW.range;dW.range;ys.range;fW.range;hW.range;function fo(e){return Dt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/uv)}const Jh=fo(0),Of=fo(1),pW=fo(2),mW=fo(3),xs=fo(4),gW=fo(5),yW=fo(6);Jh.range;Of.range;pW.range;mW.range;xs.range;gW.range;yW.range;const mv=Dt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());mv.range;const gv=Dt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gv.range;const Sa=Dt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Sa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Sa.range;const Aa=Dt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Aa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Aa.range;function KA(e,t,r,n,a,o){const s=[[Fi,1,fa],[Fi,5,5*fa],[Fi,15,15*fa],[Fi,30,30*fa],[o,1,an],[o,5,5*an],[o,15,15*an],[o,30,30*an],[a,1,ha],[a,3,3*ha],[a,6,6*ha],[a,12,12*ha],[n,1,Na],[n,2,2*Na],[r,1,uv],[t,1,v2],[t,3,3*v2],[e,1,_m]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),y=p?p.range(u,+f+1):[];return h?y.reverse():y}function c(u,f,d){const h=Math.abs(f-u)/d,p=Qx(([,,x])=>x).right(s,h);if(p===s.length)return e.every(b0(u/_m,f/_m,d));if(p===0)return Pf.every(Math.max(b0(u,f,d),1));const[y,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return y.every(m)}return[l,c]}const[xW,vW]=KA(Aa,gv,Jh,HA,pv,fv),[bW,wW]=KA(Sa,mv,Xh,pu,hv,dv);function Tm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $m(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function jW(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=Pl(a),f=El(a),d=Pl(o),h=El(o),p=Pl(s),y=El(s),m=Pl(l),x=El(l),g=Pl(c),v=El(c),b={a:Q,A:R,b:W,B:Z,c:null,d:S2,e:S2,f:HW,g:tV,G:nV,H:WW,I:VW,j:UW,L:qA,m:KW,M:qW,p:ie,q:ee,Q:P2,s:E2,S:GW,u:YW,U:XW,V:JW,w:QW,W:ZW,x:null,X:null,y:eV,Y:rV,Z:aV,"%":C2},k={a:fe,A:ke,b:De,B:ze,c:null,d:A2,e:A2,f:lV,g:xV,G:bV,H:iV,I:oV,j:sV,L:YA,m:cV,M:uV,p:et,q:Ct,Q:P2,s:E2,S:dV,u:fV,U:hV,V:pV,w:mV,W:gV,x:null,X:null,y:yV,Y:vV,Z:wV,"%":C2},w={a:M,A:_,b:T,B:L,c:K,d:k2,e:k2,f:RW,g:j2,G:w2,H:N2,I:N2,j:MW,L:LW,m:$W,M:IW,p:E,q:TW,Q:BW,s:zW,S:DW,u:CW,U:PW,V:EW,w:AW,W:OW,x:q,X:G,y:j2,Y:w2,Z:_W,"%":FW};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),k.x=N(r,k),k.X=N(n,k),k.c=N(t,k);function N(le,pe){return function(ae){var te=[],Ce=-1,Ne=0,tt=le.length,He,rt,Pt;for(ae instanceof Date||(ae=new Date(+ae));++Ce<tt;)le.charCodeAt(Ce)===37&&(te.push(le.slice(Ne,Ce)),(rt=b2[He=le.charAt(++Ce)])!=null?He=le.charAt(++Ce):rt=He==="e"?" ":"0",(Pt=pe[He])&&(He=Pt(ae,rt)),te.push(He),Ne=Ce+1);return te.push(le.slice(Ne,Ce)),te.join("")}}function A(le,pe){return function(ae){var te=Cl(1900,void 0,1),Ce=P(te,le,ae+="",0),Ne,tt;if(Ce!=ae.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(pe&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Ne=$m(Cl(te.y,0,1)),tt=Ne.getUTCDay(),Ne=tt>4||tt===0?Of.ceil(Ne):Of(Ne),Ne=Yh.offset(Ne,(te.V-1)*7),te.y=Ne.getUTCFullYear(),te.m=Ne.getUTCMonth(),te.d=Ne.getUTCDate()+(te.w+6)%7):(Ne=Tm(Cl(te.y,0,1)),tt=Ne.getDay(),Ne=tt>4||tt===0?Ef.ceil(Ne):Ef(Ne),Ne=pu.offset(Ne,(te.V-1)*7),te.y=Ne.getFullYear(),te.m=Ne.getMonth(),te.d=Ne.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),tt="Z"in te?$m(Cl(te.y,0,1)).getUTCDay():Tm(Cl(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(tt+5)%7:te.w+te.U*7-(tt+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,$m(te)):Tm(te)}}function P(le,pe,ae,te){for(var Ce=0,Ne=pe.length,tt=ae.length,He,rt;Ce<Ne;){if(te>=tt)return-1;if(He=pe.charCodeAt(Ce++),He===37){if(He=pe.charAt(Ce++),rt=w[He in b2?pe.charAt(Ce++):He],!rt||(te=rt(le,ae,te))<0)return-1}else if(He!=ae.charCodeAt(te++))return-1}return te}function E(le,pe,ae){var te=u.exec(pe.slice(ae));return te?(le.p=f.get(te[0].toLowerCase()),ae+te[0].length):-1}function M(le,pe,ae){var te=p.exec(pe.slice(ae));return te?(le.w=y.get(te[0].toLowerCase()),ae+te[0].length):-1}function _(le,pe,ae){var te=d.exec(pe.slice(ae));return te?(le.w=h.get(te[0].toLowerCase()),ae+te[0].length):-1}function T(le,pe,ae){var te=g.exec(pe.slice(ae));return te?(le.m=v.get(te[0].toLowerCase()),ae+te[0].length):-1}function L(le,pe,ae){var te=m.exec(pe.slice(ae));return te?(le.m=x.get(te[0].toLowerCase()),ae+te[0].length):-1}function K(le,pe,ae){return P(le,t,pe,ae)}function q(le,pe,ae){return P(le,r,pe,ae)}function G(le,pe,ae){return P(le,n,pe,ae)}function Q(le){return s[le.getDay()]}function R(le){return o[le.getDay()]}function W(le){return c[le.getMonth()]}function Z(le){return l[le.getMonth()]}function ie(le){return a[+(le.getHours()>=12)]}function ee(le){return 1+~~(le.getMonth()/3)}function fe(le){return s[le.getUTCDay()]}function ke(le){return o[le.getUTCDay()]}function De(le){return c[le.getUTCMonth()]}function ze(le){return l[le.getUTCMonth()]}function et(le){return a[+(le.getUTCHours()>=12)]}function Ct(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var pe=N(le+="",b);return pe.toString=function(){return le},pe},parse:function(le){var pe=A(le+="",!1);return pe.toString=function(){return le},pe},utcFormat:function(le){var pe=N(le+="",k);return pe.toString=function(){return le},pe},utcParse:function(le){var pe=A(le+="",!0);return pe.toString=function(){return le},pe}}}var b2={"-":"",_:" ",0:"0"},Kt=/^\s*\d+/,kW=/^%/,NW=/[\\^$*+?|[\]().{}]/g;function Te(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function SW(e){return e.replace(NW,"\\$&")}function Pl(e){return new RegExp("^(?:"+e.map(SW).join("|")+")","i")}function El(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function AW(e,t,r){var n=Kt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function CW(e,t,r){var n=Kt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function PW(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function EW(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function OW(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function w2(e,t,r){var n=Kt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function j2(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _W(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function TW(e,t,r){var n=Kt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $W(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function k2(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function MW(e,t,r){var n=Kt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function N2(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function IW(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function DW(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function LW(e,t,r){var n=Kt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function RW(e,t,r){var n=Kt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function FW(e,t,r){var n=kW.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function BW(e,t,r){var n=Kt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function zW(e,t,r){var n=Kt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function S2(e,t){return Te(e.getDate(),t,2)}function WW(e,t){return Te(e.getHours(),t,2)}function VW(e,t){return Te(e.getHours()%12||12,t,2)}function UW(e,t){return Te(1+pu.count(Sa(e),e),t,3)}function qA(e,t){return Te(e.getMilliseconds(),t,3)}function HW(e,t){return qA(e,t)+"000"}function KW(e,t){return Te(e.getMonth()+1,t,2)}function qW(e,t){return Te(e.getMinutes(),t,2)}function GW(e,t){return Te(e.getSeconds(),t,2)}function YW(e){var t=e.getDay();return t===0?7:t}function XW(e,t){return Te(Xh.count(Sa(e)-1,e),t,2)}function GA(e){var t=e.getDay();return t>=4||t===0?ys(e):ys.ceil(e)}function JW(e,t){return e=GA(e),Te(ys.count(Sa(e),e)+(Sa(e).getDay()===4),t,2)}function QW(e){return e.getDay()}function ZW(e,t){return Te(Ef.count(Sa(e)-1,e),t,2)}function eV(e,t){return Te(e.getFullYear()%100,t,2)}function tV(e,t){return e=GA(e),Te(e.getFullYear()%100,t,2)}function rV(e,t){return Te(e.getFullYear()%1e4,t,4)}function nV(e,t){var r=e.getDay();return e=r>=4||r===0?ys(e):ys.ceil(e),Te(e.getFullYear()%1e4,t,4)}function aV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Te(t/60|0,"0",2)+Te(t%60,"0",2)}function A2(e,t){return Te(e.getUTCDate(),t,2)}function iV(e,t){return Te(e.getUTCHours(),t,2)}function oV(e,t){return Te(e.getUTCHours()%12||12,t,2)}function sV(e,t){return Te(1+Yh.count(Aa(e),e),t,3)}function YA(e,t){return Te(e.getUTCMilliseconds(),t,3)}function lV(e,t){return YA(e,t)+"000"}function cV(e,t){return Te(e.getUTCMonth()+1,t,2)}function uV(e,t){return Te(e.getUTCMinutes(),t,2)}function dV(e,t){return Te(e.getUTCSeconds(),t,2)}function fV(e){var t=e.getUTCDay();return t===0?7:t}function hV(e,t){return Te(Jh.count(Aa(e)-1,e),t,2)}function XA(e){var t=e.getUTCDay();return t>=4||t===0?xs(e):xs.ceil(e)}function pV(e,t){return e=XA(e),Te(xs.count(Aa(e),e)+(Aa(e).getUTCDay()===4),t,2)}function mV(e){return e.getUTCDay()}function gV(e,t){return Te(Of.count(Aa(e)-1,e),t,2)}function yV(e,t){return Te(e.getUTCFullYear()%100,t,2)}function xV(e,t){return e=XA(e),Te(e.getUTCFullYear()%100,t,2)}function vV(e,t){return Te(e.getUTCFullYear()%1e4,t,4)}function bV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xs(e):xs.ceil(e),Te(e.getUTCFullYear()%1e4,t,4)}function wV(){return"+0000"}function C2(){return"%"}function P2(e){return+e}function E2(e){return Math.floor(+e/1e3)}var Co,JA,QA;jV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jV(e){return Co=jW(e),JA=Co.format,Co.parse,QA=Co.utcFormat,Co.utcParse,Co}function kV(e){return new Date(e)}function NV(e){return e instanceof Date?+e:+new Date(+e)}function yv(e,t,r,n,a,o,s,l,c,u){var f=nv(),d=f.invert,h=f.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),x=u("%I %p"),g=u("%a %d"),v=u("%b %d"),b=u("%B"),k=u("%Y");function w(N){return(c(N)<N?p:l(N)<N?y:s(N)<N?m:o(N)<N?x:n(N)<N?a(N)<N?g:v:r(N)<N?b:k)(N)}return f.invert=function(N){return new Date(d(N))},f.domain=function(N){return arguments.length?h(Array.from(N,NV)):h().map(kV)},f.ticks=function(N){var A=h();return e(A[0],A[A.length-1],N??10)},f.tickFormat=function(N,A){return A==null?w:u(A)},f.nice=function(N){var A=h();return(!N||typeof N.range!="function")&&(N=t(A[0],A[A.length-1],N??10)),N?h(RA(A,N)):f},f.copy=function(){return hu(f,yv(e,t,r,n,a,o,s,l,c,u))},f}function SV(){return fn.apply(yv(bW,wW,Sa,mv,Xh,pu,hv,dv,Fi,JA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function AV(){return fn.apply(yv(xW,vW,Aa,gv,Jh,Yh,pv,fv,Fi,QA).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qh(){var e=0,t=1,r,n,a,o,s=fr,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:s(a===0?.5:(d=(o(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(s=d,u):s};function f(d){return function(h){var p,y;return arguments.length?([p,y]=h,s=d(p,y),u):[s(0),s(1)]}}return u.range=f(Ys),u.rangeRound=f(rv),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),u}}function pi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ZA(){var e=hi(Qh()(fr));return e.copy=function(){return pi(e,ZA())},_a.apply(e,arguments)}function eC(){var e=ov(Qh()).domain([1,10]);return e.copy=function(){return pi(e,eC()).base(e.base())},_a.apply(e,arguments)}function tC(){var e=sv(Qh());return e.copy=function(){return pi(e,tC()).constant(e.constant())},_a.apply(e,arguments)}function xv(){var e=lv(Qh());return e.copy=function(){return pi(e,xv()).exponent(e.exponent())},_a.apply(e,arguments)}function CV(){return xv.apply(null,arguments).exponent(.5)}function rC(){var e=[],t=fr;function r(n){if(n!=null&&!isNaN(n=+n))return t((du(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ai),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>hz(e,o/n))},r.copy=function(){return rC(t).domain(e)},_a.apply(r,arguments)}function Zh(){var e=0,t=.5,r=1,n=1,a,o,s,l,c,u=fr,f,d=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+f(m))-o)*(n*m<n*o?l:c),u(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=f(e=+e),o=f(t=+t),s=f(r=+r),l=a===o?0:.5/(o-a),c=o===s?0:.5/(s-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(x){var g,v,b;return arguments.length?([g,v,b]=x,u=Fz(m,[g,v,b]),p):[u(0),u(.5),u(1)]}}return p.range=y(Ys),p.rangeRound=y(rv),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return f=m,a=m(e),o=m(t),s=m(r),l=a===o?0:.5/(o-a),c=o===s?0:.5/(s-o),n=o<a?-1:1,p}}function nC(){var e=hi(Zh()(fr));return e.copy=function(){return pi(e,nC())},_a.apply(e,arguments)}function aC(){var e=ov(Zh()).domain([.1,1,10]);return e.copy=function(){return pi(e,aC()).base(e.base())},_a.apply(e,arguments)}function iC(){var e=sv(Zh());return e.copy=function(){return pi(e,iC()).constant(e.constant())},_a.apply(e,arguments)}function vv(){var e=lv(Zh());return e.copy=function(){return pi(e,vv()).exponent(e.exponent())},_a.apply(e,arguments)}function PV(){return vv.apply(null,arguments).exponent(.5)}const O2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ec,scaleDiverging:nC,scaleDivergingLog:aC,scaleDivergingPow:vv,scaleDivergingSqrt:PV,scaleDivergingSymlog:iC,scaleIdentity:LA,scaleImplicit:w0,scaleLinear:Cf,scaleLog:FA,scaleOrdinal:Zx,scalePoint:Ql,scalePow:cv,scaleQuantile:WA,scaleQuantize:VA,scaleRadial:zA,scaleSequential:ZA,scaleSequentialLog:eC,scaleSequentialPow:xv,scaleSequentialQuantile:rC,scaleSequentialSqrt:CV,scaleSequentialSymlog:tC,scaleSqrt:lW,scaleSymlog:BA,scaleThreshold:UA,scaleTime:SV,scaleUtc:AV,tickFormat:DA},Symbol.toStringTag,{value:"Module"}));var EV=Bs;function OV(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],s=t(o);if(s!=null&&(l===void 0?s===s&&!EV(s):r(s,l)))var l=s,c=o}return c}var ep=OV;function _V(e,t){return e>t}var oC=_V,TV=ep,$V=oC,MV=Gs;function IV(e){return e&&e.length?TV(e,MV,$V):void 0}var DV=IV;const Ka=Fe(DV);function LV(e,t){return e<t}var sC=LV,RV=ep,FV=sC,BV=Gs;function zV(e){return e&&e.length?RV(e,BV,FV):void 0}var WV=zV;const tp=Fe(WV);var VV=$x,UV=Gn,HV=mA,KV=Er;function qV(e,t){var r=KV(e)?VV:HV;return r(e,UV(t))}var GV=qV,YV=hA,XV=GV;function JV(e,t){return YV(XV(e,t),1)}var QV=JV;const ZV=Fe(QV);var eU=Gx;function tU(e,t){return eU(e,t)}var rU=tU;const ro=Fe(rU);var Xs=1e9,nU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wv,dt=!0,un="[DecimalError] ",Hi=un+"Invalid argument: ",bv=un+"Exponent out of range: ",Js=Math.floor,Oi=Math.pow,aU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dr,Ft=1e7,ot=7,lC=9007199254740991,_f=Js(lC/ot),de={};de.absoluteValue=de.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};de.comparedTo=de.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};de.decimalPlaces=de.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};de.dividedBy=de.div=function(e){return xa(this,new this.constructor(e))};de.dividedToIntegerBy=de.idiv=function(e){var t=this,r=t.constructor;return qe(xa(t,new r(e),0,1),r.precision)};de.equals=de.eq=function(e){return!this.cmp(e)};de.exponent=function(){return At(this)};de.greaterThan=de.gt=function(e){return this.cmp(e)>0};de.greaterThanOrEqualTo=de.gte=function(e){return this.cmp(e)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(e){return this.cmp(e)<0};de.lessThanOrEqualTo=de.lte=function(e){return this.cmp(e)<1};de.logarithm=de.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Dr))throw Error(un+"NaN");if(r.s<1)throw Error(un+(r.s?"NaN":"-Infinity"));return r.eq(Dr)?new n(0):(dt=!1,t=xa(Mc(r,o),Mc(e,o),o),dt=!0,qe(t,a))};de.minus=de.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dC(t,e):cC(t,(e.s=-e.s,e))};de.modulo=de.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(un+"NaN");return r.s?(dt=!1,t=xa(r,e,0,1).times(e),dt=!0,r.minus(t)):qe(new n(r),a)};de.naturalExponential=de.exp=function(){return uC(this)};de.naturalLogarithm=de.ln=function(){return Mc(this)};de.negated=de.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};de.plus=de.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cC(t,e):dC(t,(e.s=-e.s,e))};de.precision=de.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hi+e);if(t=At(a)+1,n=a.d.length-1,r=n*ot+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};de.squareRoot=de.sqrt=function(){var e,t,r,n,a,o,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(un+"NaN")}for(e=At(l),dt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ln(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Js((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(o=n,n=o.plus(xa(l,o,s+2)).times(.5),Ln(o.d).slice(0,s)===(t=Ln(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(qe(o,r+1,0),o.times(o).eq(l)){n=o;break}}else if(t!="9999")break;s+=4}return dt=!0,qe(n,r)};de.times=de.mul=function(e){var t,r,n,a,o,s,l,c,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=p.length,c<u&&(o=h,h=p,p=o,s=c,c=u,u=s),o=[],s=c+u,n=s;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=o[a]+p[n]*h[a-n-1]+t,o[a--]=l%Ft|0,t=l/Ft|0;o[a]=(o[a]+t)%Ft|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,dt?qe(e,d.precision):e};de.toDecimalPlaces=de.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Hn(e,0,Xs),t===void 0?t=n.rounding:Hn(t,0,8),qe(r,e+At(r)+1,t))};de.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=no(n,!0):(Hn(e,0,Xs),t===void 0?t=a.rounding:Hn(t,0,8),n=qe(new a(n),e+1,t),r=no(n,!0,e+1)),r};de.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?no(a):(Hn(e,0,Xs),t===void 0?t=o.rounding:Hn(t,0,8),n=qe(new o(a),e+At(a)+1,t),r=no(n.abs(),!1,e+At(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};de.toInteger=de.toint=function(){var e=this,t=e.constructor;return qe(new t(e),At(e)+1,t.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(e){var t,r,n,a,o,s,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Dr);if(l=new c(l),!l.s){if(e.s<1)throw Error(un+"Infinity");return l}if(l.eq(Dr))return l;if(n=c.precision,e.eq(Dr))return qe(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,o=l.s,s){if((r=f<0?-f:f)<=lC){for(a=new c(Dr),t=Math.ceil(n/ot+4),dt=!1;r%2&&(a=a.times(l),T2(a.d,t)),r=Js(r/2),r!==0;)l=l.times(l),T2(l.d,t);return dt=!0,e.s<0?new c(Dr).div(a):qe(a,n)}}else if(o<0)throw Error(un+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,dt=!1,a=e.times(Mc(l,n+u)),dt=!0,a=uC(a),a.s=o,a};de.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=At(a),n=no(a,r<=o.toExpNeg||r>=o.toExpPos)):(Hn(e,1,Xs),t===void 0?t=o.rounding:Hn(t,0,8),a=qe(new o(a),e,t),r=At(a),n=no(a,e<=r||r<=o.toExpNeg,e)),n};de.toSignificantDigits=de.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Hn(e,1,Xs),t===void 0?t=n.rounding:Hn(t,0,8)),qe(new n(r),e,t)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=At(e),r=e.constructor;return no(e,t<=r.toExpNeg||t>=r.toExpPos)};function cC(e,t){var r,n,a,o,s,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),dt?qe(t,d):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),o=s-a,o){for(o<0?(n=c,o=-o,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(d/ot),l=s>l?s+1:l+1,o>l&&(o=l,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(l=c.length,o=u.length,l-o<0&&(o=l,n=u,u=c,c=n),r=0;o;)r=(c[--o]=c[o]+u[o]+r)/Ft|0,c[o]%=Ft;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,dt?qe(t,d):t}function Hn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Hi+e)}function Ln(e){var t,r,n,a=e.length-1,o="",s=e[0];if(a>0){for(o+=s,t=1;t<a;t++)n=e[t]+"",r=ot-n.length,r&&(o+=Ba(r)),o+=n;s=e[t],n=s+"",r=ot-n.length,r&&(o+=Ba(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var xa=function(){function e(n,a){var o,s=0,l=n.length;for(n=n.slice();l--;)o=n[l]*a+s,n[l]=o%Ft|0,s=o/Ft|0;return s&&n.unshift(s),n}function t(n,a,o,s){var l,c;if(o!=s)c=o>s?1:-1;else for(l=c=0;l<o;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,o){for(var s=0;o--;)n[o]-=s,s=n[o]<a[o]?1:0,n[o]=s*Ft+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,s){var l,c,u,f,d,h,p,y,m,x,g,v,b,k,w,N,A,P,E=n.constructor,M=n.s==a.s?1:-1,_=n.d,T=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(un+"Division by zero");for(c=n.e-a.e,A=T.length,w=_.length,p=new E(M),y=p.d=[],u=0;T[u]==(_[u]||0);)++u;if(T[u]>(_[u]||0)&&--c,o==null?v=o=E.precision:s?v=o+(At(n)-At(a))+1:v=o,v<0)return new E(0);if(v=v/ot+2|0,u=0,A==1)for(f=0,T=T[0],v++;(u<w||f)&&v--;u++)b=f*Ft+(_[u]||0),y[u]=b/T|0,f=b%T|0;else{for(f=Ft/(T[0]+1)|0,f>1&&(T=e(T,f),_=e(_,f),A=T.length,w=_.length),k=A,m=_.slice(0,A),x=m.length;x<A;)m[x++]=0;P=T.slice(),P.unshift(0),N=T[0],T[1]>=Ft/2&&++N;do f=0,l=t(T,m,A,x),l<0?(g=m[0],A!=x&&(g=g*Ft+(m[1]||0)),f=g/N|0,f>1?(f>=Ft&&(f=Ft-1),d=e(T,f),h=d.length,x=m.length,l=t(d,m,h,x),l==1&&(f--,r(d,A<h?P:T,h))):(f==0&&(l=f=1),d=T.slice()),h=d.length,h<x&&d.unshift(0),r(m,d,x),l==-1&&(x=m.length,l=t(T,m,A,x),l<1&&(f++,r(m,A<x?P:T,x))),x=m.length):l===0&&(f++,m=[0]),y[u++]=f,l&&m[0]?m[x++]=_[k]||0:(m=[_[k]],x=1);while((k++<w||m[0]!==void 0)&&v--)}return y[0]||y.shift(),p.e=c,qe(p,s?o+At(p)+1:o)}}();function uC(e,t){var r,n,a,o,s,l,c=0,u=0,f=e.constructor,d=f.precision;if(At(e)>16)throw Error(bv+At(e));if(!e.s)return new f(Dr);for(t==null?(dt=!1,l=d):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Oi(2,u))/Math.LN10*2+5|0,l+=n,r=a=o=new f(Dr),f.precision=l;;){if(a=qe(a.times(e),l),r=r.times(++c),s=o.plus(xa(a,r,l)),Ln(s.d).slice(0,l)===Ln(o.d).slice(0,l)){for(;u--;)o=qe(o.times(o),l);return f.precision=d,t==null?(dt=!0,qe(o,d)):o}o=s}}function At(e){for(var t=e.e*ot,r=e.d[0];r>=10;r/=10)t++;return t}function Mm(e,t,r){if(t>e.LN10.sd())throw dt=!0,r&&(e.precision=r),Error(un+"LN10 precision limit exceeded");return qe(new e(e.LN10),t)}function Ba(e){for(var t="";e--;)t+="0";return t}function Mc(e,t){var r,n,a,o,s,l,c,u,f,d=1,h=10,p=e,y=p.d,m=p.constructor,x=m.precision;if(p.s<1)throw Error(un+(p.s?"NaN":"-Infinity"));if(p.eq(Dr))return new m(0);if(t==null?(dt=!1,u=x):u=t,p.eq(10))return t==null&&(dt=!0),Mm(m,u);if(u+=h,m.precision=u,r=Ln(y),n=r.charAt(0),o=At(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ln(p.d),n=r.charAt(0),d++;o=At(p),n>1?(p=new m("0."+r),o++):p=new m(n+"."+r.slice(1))}else return c=Mm(m,u+2,x).times(o+""),p=Mc(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=x,t==null?(dt=!0,qe(p,x)):p;for(l=s=p=xa(p.minus(Dr),p.plus(Dr),u),f=qe(p.times(p),u),a=3;;){if(s=qe(s.times(f),u),c=l.plus(xa(s,new m(a),u)),Ln(c.d).slice(0,u)===Ln(l.d).slice(0,u))return l=l.times(2),o!==0&&(l=l.plus(Mm(m,u+2,x).times(o+""))),l=xa(l,new m(d),u),m.precision=x,t==null?(dt=!0,qe(l,x)):l;l=c,a+=2}}function _2(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Js(r/ot),e.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ot;n<a;)e.d.push(+t.slice(n,n+=ot));t=t.slice(n),n=ot-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),dt&&(e.e>_f||e.e<-_f))throw Error(bv+r)}else e.s=0,e.e=0,e.d=[0];return e}function qe(e,t,r){var n,a,o,s,l,c,u,f,d=e.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(n=t-s,n<0)n+=ot,a=t,u=d[f=0];else{if(f=Math.ceil((n+1)/ot),o=d.length,f>=o)return e;for(u=o=d[f],s=1;o>=10;o/=10)s++;n%=ot,a=n-ot+s}if(r!==void 0&&(o=Oi(10,s-a-1),l=u/o%10|0,c=t<0||d[f+1]!==void 0||u%o,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Oi(10,s-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(o=At(e),d.length=1,t=t-o-1,d[0]=Oi(10,(ot-t%ot)%ot),e.e=Js(-t/ot)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,o=1,f--):(d.length=f+1,o=Oi(10,ot-n),d[f]=a>0?(u/Oi(10,s-a)%Oi(10,a)|0)*o:0),c)for(;;)if(f==0){(d[0]+=o)==Ft&&(d[0]=1,++e.e);break}else{if(d[f]+=o,d[f]!=Ft)break;d[f--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(dt&&(e.e>_f||e.e<-_f))throw Error(bv+At(e));return e}function dC(e,t){var r,n,a,o,s,l,c,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),dt?qe(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(f=s<0,f?(r=c,s=-s,l=d.length):(r=d,n=u,l=c.length),a=Math.max(Math.ceil(p/ot),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){f=c[a]<d[a];break}s=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>s;){if(c[--a]<d[a]){for(o=a;o&&c[--o]===0;)c[o]=Ft-1;--c[o],c[a]+=Ft}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,dt?qe(t,p):t):new h(0)}function no(e,t,r){var n,a=At(e),o=Ln(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ba(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Ba(-a-1)+o,r&&(n=r-s)>0&&(o+=Ba(n))):a>=s?(o+=Ba(a+1-s),r&&(n=r-a-1)>0&&(o=o+"."+Ba(n))):((n=a+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(o+="."),o+=Ba(n))),e.s<0?"-"+o:o}function T2(e,t){if(e.length>t)return e.length=t,!0}function fC(e){var t,r,n;function a(o){var s=this;if(!(s instanceof a))return new a(o);if(s.constructor=a,o instanceof a){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Hi+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return _2(s,o.toString())}else if(typeof o!="string")throw Error(Hi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,aU.test(o))_2(s,o);else throw Error(Hi+o)}if(a.prototype=de,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=fC,a.config=a.set=iU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function iU(e){if(!e||typeof e!="object")throw Error(un+"Object expected");var t,r,n,a=["precision",1,Xs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Js(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Hi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Hi+r+": "+n);return this}var wv=fC(nU);Dr=new wv(1);const Ve=wv;function oU(e){return uU(e)||cU(e)||lU(e)||sU()}function sU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lU(e,t){if(e){if(typeof e=="string")return S0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S0(e,t)}}function cU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function uU(e){if(Array.isArray(e))return S0(e)}function S0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dU=function(t){return t},hC={"@@functional/placeholder":!0},pC=function(t){return t===hC},$2=function(t){return function r(){return arguments.length===0||arguments.length===1&&pC(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},fU=function e(t,r){return t===1?r:$2(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var s=a.filter(function(l){return l!==hC}).length;return s>=t?r.apply(void 0,a):e(t-s,$2(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(d){return pC(d)?c.shift():d});return r.apply(void 0,oU(f).concat(c))}))})},rp=function(t){return fU(t.length,t)},A0=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},hU=rp(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),pU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return dU;var a=r.reverse(),o=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},C0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},mC=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r&&o.every(function(l,c){return l===r[c]})||(r=o,n=t.apply(void 0,o)),n}};function mU(e){var t;return e===0?t=1:t=Math.floor(new Ve(e).abs().log(10).toNumber())+1,t}function gU(e,t,r){for(var n=new Ve(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var yU=rp(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),xU=rp(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),vU=rp(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const np={rangeStep:gU,getDigitCount:mU,interpolateNumber:yU,uninterpolateNumber:xU,uninterpolateTruncation:vU};function P0(e){return jU(e)||wU(e)||gC(e)||bU()}function bU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jU(e){if(Array.isArray(e))return E0(e)}function Ic(e,t){return SU(e)||NU(e,t)||gC(e,t)||kU()}function kU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gC(e,t){if(e){if(typeof e=="string")return E0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E0(e,t)}}function E0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NU(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,o=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw o}}return r}}function SU(e){if(Array.isArray(e))return e}function yC(e){var t=Ic(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function xC(e,t,r){if(e.lte(0))return new Ve(0);var n=np.getDigitCount(e.toNumber()),a=new Ve(10).pow(n),o=e.div(a),s=n!==1?.05:.1,l=new Ve(Math.ceil(o.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?c:new Ve(Math.ceil(c))}function AU(e,t,r){var n=1,a=new Ve(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Ve(10).pow(np.getDigitCount(e)-1),a=new Ve(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Ve(Math.floor(e)))}else e===0?a=new Ve(Math.floor((t-1)/2)):r||(a=new Ve(Math.floor(e)));var s=Math.floor((t-1)/2),l=pU(hU(function(c){return a.add(new Ve(c-s).mul(n)).toNumber()}),A0);return l(0,t)}function vC(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ve(0),tickMin:new Ve(0),tickMax:new Ve(0)};var o=xC(new Ve(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Ve(0):(s=new Ve(e).add(t).div(2),s=s.sub(new Ve(s).mod(o)));var l=Math.ceil(s.sub(e).div(o).toNumber()),c=Math.ceil(new Ve(t).sub(s).div(o).toNumber()),u=l+c+1;return u>r?vC(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:o,tickMin:s.sub(new Ve(l).mul(o)),tickMax:s.add(new Ve(c).mul(o))})}function CU(e){var t=Ic(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=yC([r,n]),c=Ic(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(P0(A0(0,a-1).map(function(){return 1/0}))):[].concat(P0(A0(0,a-1).map(function(){return-1/0})),[f]);return r>n?C0(d):d}if(u===f)return AU(u,a,o);var h=vC(u,f,s,o),p=h.step,y=h.tickMin,m=h.tickMax,x=np.rangeStep(y,m.add(new Ve(.1).mul(p)),p);return r>n?C0(x):x}function PU(e,t){var r=Ic(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=yC([n,a]),l=Ic(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(t,2),d=xC(new Ve(u).sub(c).div(f-1),o,0),h=[].concat(P0(np.rangeStep(new Ve(c),new Ve(u).sub(new Ve(.99).mul(d)),d)),[u]);return n>a?C0(h):h}var EU=mC(CU),OU=mC(PU),_U=!0,Im="Invariant failed";function ao(e,t){if(!e){if(_U)throw new Error(Im);var r=typeof t=="function"?t():t,n=r?"".concat(Im,": ").concat(r):Im;throw new Error(n)}}var TU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function Tf(){return Tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tf.apply(this,arguments)}function $U(e,t){return LU(e)||DU(e,t)||IU(e,t)||MU()}function MU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IU(e,t){if(e){if(typeof e=="string")return M2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M2(e,t)}}function M2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function LU(e){if(Array.isArray(e))return e}function RU(e,t){if(e==null)return{};var r=FU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jC(n.key),n)}}function zU(e,t,r){return t&&I2(e.prototype,t),r&&I2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WU(e,t,r){return t=$f(t),VU(e,bC()?Reflect.construct(t,r||[],$f(e).constructor):t.apply(e,r))}function VU(e,t){if(t&&(vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UU(e)}function UU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bC=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(e)}function HU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O0(e,t)}function O0(e,t){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O0(e,t)}function wC(e,t,r){return t=jC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jC(e){var t=KU(e,"string");return vs(t)=="symbol"?t:t+""}function KU(e,t){if(vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mu=function(e){function t(){return BU(this,t),WU(this,t,arguments)}return HU(t,e),zU(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=RU(n,TU),p=he(h,!1);this.props.direction==="x"&&f.type!=="number"&&ao(!1);var y=c.map(function(m){var x=u(m,l),g=x.x,v=x.y,b=x.value,k=x.errorVal;if(!k)return null;var w=[],N,A;if(Array.isArray(k)){var P=$U(k,2);N=P[0],A=P[1]}else N=A=k;if(o==="vertical"){var E=f.scale,M=v+a,_=M+s,T=M-s,L=E(b-N),K=E(b+A);w.push({x1:K,y1:_,x2:K,y2:T}),w.push({x1:L,y1:M,x2:K,y2:M}),w.push({x1:L,y1:_,x2:L,y2:T})}else if(o==="horizontal"){var q=d.scale,G=g+a,Q=G-s,R=G+s,W=q(b-N),Z=q(b+A);w.push({x1:Q,y1:Z,x2:R,y2:Z}),w.push({x1:G,y1:W,x2:G,y2:Z}),w.push({x1:Q,y1:W,x2:R,y2:W})}return O.createElement(Se,Tf({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},p),w.map(function(ie){return O.createElement("line",Tf({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return O.createElement(Se,{className:"recharts-errorBars"},y)}}])}(O.Component);wC(mu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});wC(mu,"displayName","ErrorBar");function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function D2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(r),!0).forEach(function(n){qU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qU(e,t,r){return t=GU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GU(e){var t=YU(e,"string");return Dc(t)=="symbol"?t:t+""}function YU(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kC=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,s=Mr(r,Cn);if(!s)return null;var l=Cn.defaultProps,c=l!==void 0?ji(ji({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,y=p.sectors||p.data||[];return f.concat(y.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?ji(ji({},h),d.props):{},y=p.dataKey,m=p.name,x=p.legendType,g=p.hide;return{inactive:g,dataKey:y,type:c.iconType||x||"square",color:jv(d),value:m||y,payload:p}}),ji(ji(ji({},c),Cn.getWithHeight(s,a)),{},{payload:u,item:s})};function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function L2(e){return ZU(e)||QU(e)||JU(e)||XU()}function XU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JU(e,t){if(e){if(typeof e=="string")return _0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _0(e,t)}}function QU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZU(e){if(Array.isArray(e))return _0(e)}function _0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(r),!0).forEach(function(n){ns(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ns(e,t,r){return t=eH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eH(e){var t=tH(e,"string");return Lc(t)=="symbol"?t:t+""}function tH(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vt(e,t,r){return xe(e)||xe(t)?r:It(t)?Fr(e,t,r):ge(t)?t(e):r}function Zl(e,t,r,n){var a=ZV(e,function(l){return vt(l,t)});if(r==="number"){var o=a.filter(function(l){return re(l)||parseFloat(l)});return o.length?[tp(o),Ka(o)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!xe(l)}):a;return s.map(function(l){return It(l)||l instanceof Date?l:""})}var rH=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,d=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(cr(d-f)!==cr(h-d)){var y=[];if(cr(h-d)===cr(c[1]-c[0])){p=h;var m=d+c[1]-c[0];y[0]=Math.min(m,(m+f)/2),y[1]=Math.max(m,(m+f)/2)}else{p=f;var x=h+c[1]-c[0];y[0]=Math.min(d,(x+d)/2),y[1]=Math.max(d,(x+d)/2)}var g=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>g[0]&&t<=g[1]||t>=y[0]&&t<=y[1]){s=a[u].index;break}}else{var v=Math.min(f,h),b=Math.max(f,h);if(t>(v+d)/2&&t<=(b+d)/2){s=a[u].index;break}}}else for(var k=0;k<l;k++)if(k===0&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<l-1&&t>(n[k].coordinate+n[k-1].coordinate)/2&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k===l-1&&t>(n[k].coordinate+n[k-1].coordinate)/2){s=n[k].index;break}return s},jv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?gt(gt({},t.type.defaultProps),t.props):t.props,s=o.stroke,l=o.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},nH=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var s={},l=Object.keys(o),c=0,u=l.length;c<u;c++)for(var f=o[l[c]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var y=f[d[h]],m=y.items,x=y.cateAxisId,g=m.filter(function(A){return ya(A.type).indexOf("Bar")>=0});if(g&&g.length){var v=g[0].type.defaultProps,b=v!==void 0?gt(gt({},v),g[0].props):g[0].props,k=b.barSize,w=b[x];s[w]||(s[w]=[]);var N=xe(k)?r:k;s[w].push({item:g[0],stackList:g.slice(1),barSize:xe(N)?void 0:ur(N,n,0)})}}return s},aH=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,s=o===void 0?[]:o,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=ur(r,a,0,!0),f,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/c,y=s.reduce(function(k,w){return k+w.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(h=!0,p*=.9,y=c*p);var m=(a-y)/2>>0,x={offset:m-u,size:0};f=s.reduce(function(k,w){var N={item:w.item,position:{offset:x.offset+x.size+u,size:h?p:w.barSize}},A=[].concat(L2(k),[N]);return x=A[A.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){A.push({item:P,position:x})}),A},d)}else{var g=ur(n,a,0,!0);a-2*g-(c-1)*u<=0&&(u=0);var v=(a-2*g-(c-1)*u)/c;v>1&&(v>>=0);var b=l===+l?Math.min(v,l):v;f=s.reduce(function(k,w,N){var A=[].concat(L2(k),[{item:w.item,position:{offset:g+(v+u)*N+(v-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},d)}return f},iH=function(t,r,n,a){var o=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=kC({children:o,legendWidth:c});if(u){var f=a||{},d=f.width,h=f.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&re(t[p]))return gt(gt({},t),{},ns({},p,t[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&re(t[y]))return gt(gt({},t),{},ns({},y,t[y]+(h||0)))}return t},oH=function(t,r,n){return xe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},NC=function(t,r,n,a,o){var s=r.props.children,l=Br(s,mu).filter(function(u){return oH(a,o,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=vt(f,n);if(xe(d))return u;var h=Array.isArray(d)?[tp(d),Ka(d)]:[d,d],p=c.reduce(function(y,m){var x=vt(f,m,0),g=h[0]-Math.abs(Array.isArray(x)?x[0]:x),v=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(g,y[0]),Math.max(v,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},sH=function(t,r,n,a,o){var s=r.map(function(l){return NC(t,l,n,o,a)}).filter(function(l){return!xe(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},SC=function(t,r,n,a,o){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&NC(t,c,u,a)||Zl(t,u,n,o)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},AC=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},CC=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var o,s,l=t.map(function(c){return c.coordinate===r&&(o=!0),c.coordinate===n&&(s=!0),c.coordinate});return o||l.push(r),s||l.push(n),l},pa=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?cr(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return f.filter(function(d){return!Hs(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:o?o[d]:d,index:h,offset:u}})},Dm=new WeakMap,ad=function(t,r){if(typeof r!="function")return t;Dm.has(t)||Dm.set(t,new WeakMap);var n=Dm.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},PC=function(t,r,n){var a=t.scale,o=t.type,s=t.layout,l=t.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Ec(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Cf(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ql(),realScaleType:"point"}:o==="category"?{scale:Ec(),realScaleType:"band"}:{scale:Cf(),realScaleType:"linear"};if(Zi(a)){var c="scale".concat(zh(a));return{scale:(O2[c]||Ql)(),realScaleType:O2[c]?c:"point"}}return ge(a)?{scale:a}:{scale:Ql(),realScaleType:"point"}},F2=1e-4,EC=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-F2,s=Math.max(a[0],a[1])+F2,l=t(r[0]),c=t(r[n-1]);(l<o||l>s||c<o||c>s)&&t.domain([r[0],r[n-1]])}},lH=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},cH=function(t,r){if(!r||r.length!==2||!re(r[0])||!re(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!re(t[0])||t[0]<n)&&(o[0]=n),(!re(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},uH=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,s=0,l=0;l<r;++l){var c=Hs(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},dH=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,s=0;s<r;++s){var l=Hs(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},fH={sign:uH,expand:MI,none:ds,silhouette:II,wiggle:DI,positive:dH},hH=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),o=fH[n],s=$I().keys(a).value(function(l,c){return+vt(l,c,0)}).order(r0).offset(o);return s(t)},pH=function(t,r,n,a,o,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(d,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?gt(gt({},h.type.defaultProps),h.props):h.props,m=y.stackId,x=y.hide;if(x)return d;var g=y[n],v=d[g]||{hasStack:!1,stackGroups:{}};if(It(m)){var b=v.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),v.hasStack=!0,v.stackGroups[m]=b}else v.stackGroups[co("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return gt(gt({},d),{},ns({},g,v))},c),f={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,x){var g=p.stackGroups[x];return gt(gt({},m),{},ns({},x,{numericAxisId:n,cateAxisId:a,items:g.items,stackedData:hH(t,g.items,o)}))},y)}return gt(gt({},d),{},ns({},h,p))},f)},OC=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=EU(u,o,l);return t.domain([tp(f),Ka(f)]),{niceTicks:f}}if(o&&a==="number"){var d=t.domain(),h=OU(d,o,l);return{niceTicks:h}}return null};function Mf(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xe(a[t.dataKey])){var l=of(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var c=vt(a,xe(s)?t.dataKey:s);return xe(c)?null:t.scale(c)}var B2=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=vt(s,r.dataKey,r.domain[l]);return xe(c)?null:r.scale(c)-o/2+a},mH=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},gH=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?gt(gt({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(It(o)){var s=r[o];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},yH=function(t){return t.reduce(function(r,n){return[tp(n.concat([r[0]]).filter(re)),Ka(n.concat([r[1]]).filter(re))]},[1/0,-1/0])},_C=function(t,r,n){return Object.keys(t).reduce(function(a,o){var s=t[o],l=s.stackedData,c=l.reduce(function(u,f){var d=yH(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},z2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,T0=function(t,r,n){if(ge(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(re(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(z2.test(t[0])){var o=+z2.exec(t[0])[1];a[0]=r[0]-o}else ge(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(re(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(W2.test(t[1])){var s=+W2.exec(t[1])[1];a[1]=r[1]+s}else ge(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},If=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=Xx(r,function(d){return d.coordinate}),s=1/0,l=1,c=o.length;l<c;l++){var u=o[l],f=o[l-1];s=Math.min((u.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},V2=function(t,r,n){return!t||!t.length||ro(t,Fr(n,"type.defaultProps.domain"))?r:t},TC=function(t,r){var n=t.type.defaultProps?gt(gt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return gt(gt({},he(t,!1)),{},{dataKey:a,unit:s,formatter:l,name:o||a,color:jv(t),value:vt(r,a),type:c,payload:r,chartType:u,hide:f})};function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){$C(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $C(e,t,r){return t=xH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xH(e){var t=vH(e,"string");return Rc(t)=="symbol"?t:t+""}function vH(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bH(e,t){return NH(e)||kH(e,t)||jH(e,t)||wH()}function wH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jH(e,t){if(e){if(typeof e=="string")return H2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H2(e,t)}}function H2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function NH(e){if(Array.isArray(e))return e}var Df=Math.PI/180,SH=function(t){return t*180/Math.PI},Ze=function(t,r,n,a){return{x:t+Math.cos(-Df*a)*n,y:r+Math.sin(-Df*a)*n}},MC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},AH=function(t,r,n,a,o){var s=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=ur(t.cx,s,s/2),d=ur(t.cy,l,l/2),h=MC(s,l,n),p=ur(t.innerRadius,h,0),y=ur(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(x,g){var v=r[g],b=v.domain,k=v.reversed,w;if(xe(v.range))a==="angleAxis"?w=[c,u]:a==="radiusAxis"&&(w=[p,y]),k&&(w=[w[1],w[0]]);else{w=v.range;var N=w,A=bH(N,2);c=A[0],u=A[1]}var P=PC(v,o),E=P.realScaleType,M=P.scale;M.domain(b).range(w),EC(M);var _=OC(M,sa(sa({},v),{},{realScaleType:E})),T=sa(sa(sa({},v),_),{},{range:w,radius:y,realScaleType:E,scale:M,cx:f,cy:d,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return sa(sa({},x),{},$C({},g,T))},{})},CH=function(t,r){var n=t.x,a=t.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-s,2))},PH=function(t,r){var n=t.x,a=t.y,o=r.cx,s=r.cy,l=CH({x:n,y:a},{x:o,y:s});if(l<=0)return{radius:l};var c=(n-o)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:SH(u),angleInRadian:u}},EH=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(a,o);return{startAngle:r-s*360,endAngle:n-s*360}},OH=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(o,s);return t+l*360},K2=function(t,r){var n=t.x,a=t.y,o=PH({x:n,y:a},r),s=o.radius,l=o.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var f=EH(r),d=f.startAngle,h=f.endAngle,p=l,y;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=d}return y?sa(sa({},r),{},{radius:s,angle:OH(p,r)}):null},IC=function(t){return!S.isValidElement(t)&&!ge(t)&&typeof t!="boolean"?t.className:""};function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}var _H=["offset"];function TH(e){return DH(e)||IH(e)||MH(e)||$H()}function $H(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MH(e,t){if(e){if(typeof e=="string")return $0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $0(e,t)}}function IH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DH(e){if(Array.isArray(e))return $0(e)}function $0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LH(e,t){if(e==null)return{};var r=RH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(r),!0).forEach(function(n){FH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FH(e,t,r){return t=BH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BH(e){var t=zH(e,"string");return Fc(t)=="symbol"?t:t+""}function zH(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bc.apply(this,arguments)}var WH=function(t){var r=t.value,n=t.formatter,a=xe(t.children)?r:t.children;return ge(n)?n(a):a},VH=function(t,r){var n=cr(r-t),a=Math.min(Math.abs(r-t),360);return n*a},UH=function(t,r,n){var a=t.position,o=t.viewBox,s=t.offset,l=t.className,c=o,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,m=c.clockWise,x=(d+h)/2,g=VH(p,y),v=g>=0?1:-1,b,k;a==="insideStart"?(b=p+v*s,k=m):a==="insideEnd"?(b=y-v*s,k=!m):a==="end"&&(b=y+v*s,k=m),k=g<=0?k:!k;var w=Ze(u,f,x,b),N=Ze(u,f,x,b+(k?1:-1)*359),A="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(N.x,",").concat(N.y),P=xe(t.id)?co("recharts-radial-line-"):t.id;return O.createElement("text",Bc({},n,{dominantBaseline:"central",className:be("recharts-radial-bar-label",l)}),O.createElement("defs",null,O.createElement("path",{id:P,d:A})),O.createElement("textPath",{xlinkHref:"#".concat(P)},r))},HH=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,s=o.cx,l=o.cy,c=o.innerRadius,u=o.outerRadius,f=o.startAngle,d=o.endAngle,h=(f+d)/2;if(a==="outside"){var p=Ze(s,l,u+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,g=Ze(s,l,x,h),v=g.x,b=g.y;return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},KH=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,s=r,l=s.x,c=s.y,u=s.width,f=s.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",y=d>0?"start":"end",m=u>=0?1:-1,x=m*a,g=m>0?"end":"start",v=m>0?"start":"end";if(o==="top"){var b={x:l+u/2,y:c-d*a,textAnchor:"middle",verticalAnchor:p};return _t(_t({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(o==="bottom"){var k={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:y};return _t(_t({},k),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(o==="left"){var w={x:l-x,y:c+f/2,textAnchor:g,verticalAnchor:"middle"};return _t(_t({},w),n?{width:Math.max(w.x-n.x,0),height:f}:{})}if(o==="right"){var N={x:l+u+x,y:c+f/2,textAnchor:v,verticalAnchor:"middle"};return _t(_t({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:f}:{})}var A=n?{width:u,height:f}:{};return o==="insideLeft"?_t({x:l+x,y:c+f/2,textAnchor:v,verticalAnchor:"middle"},A):o==="insideRight"?_t({x:l+u-x,y:c+f/2,textAnchor:g,verticalAnchor:"middle"},A):o==="insideTop"?_t({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},A):o==="insideBottom"?_t({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:p},A):o==="insideTopLeft"?_t({x:l+x,y:c+h,textAnchor:v,verticalAnchor:y},A):o==="insideTopRight"?_t({x:l+u-x,y:c+h,textAnchor:g,verticalAnchor:y},A):o==="insideBottomLeft"?_t({x:l+x,y:c+f-h,textAnchor:v,verticalAnchor:p},A):o==="insideBottomRight"?_t({x:l+u-x,y:c+f-h,textAnchor:g,verticalAnchor:p},A):zs(o)&&(re(o.x)||Li(o.x))&&(re(o.y)||Li(o.y))?_t({x:l+ur(o.x,u),y:c+ur(o.y,f),textAnchor:"end",verticalAnchor:"end"},A):_t({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},qH=function(t){return"cx"in t&&re(t.cx)};function zt(e){var t=e.offset,r=t===void 0?5:t,n=LH(e,_H),a=_t({offset:r},n),o=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!o||xe(l)&&xe(c)&&!S.isValidElement(u)&&!ge(u))return null;if(S.isValidElement(u))return S.cloneElement(u,a);var p;if(ge(u)){if(p=S.createElement(u,a),S.isValidElement(p))return p}else p=WH(a);var y=qH(o),m=he(a,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return UH(a,p,m);var x=y?HH(a):KH(a);return O.createElement(to,Bc({className:be("recharts-label",d)},m,x,{breakAll:h}),p)}zt.displayName="Label";var DC=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,y=t.left,m=t.width,x=t.height,g=t.clockWise,v=t.labelViewBox;if(v)return v;if(re(m)&&re(x)){if(re(d)&&re(h))return{x:d,y:h,width:m,height:x};if(re(p)&&re(y))return{x:p,y,width:m,height:x}}return re(d)&&re(h)?{x:d,y:h,width:0,height:0}:re(r)&&re(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},GH=function(t,r){return t?t===!0?O.createElement(zt,{key:"label-implicit",viewBox:r}):It(t)?O.createElement(zt,{key:"label-implicit",viewBox:r,value:t}):S.isValidElement(t)?t.type===zt?S.cloneElement(t,{key:"label-implicit",viewBox:r}):O.createElement(zt,{key:"label-implicit",content:t,viewBox:r}):ge(t)?O.createElement(zt,{key:"label-implicit",content:t,viewBox:r}):zs(t)?O.createElement(zt,Bc({viewBox:r},t,{key:"label-implicit"})):null:null},YH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=DC(t),s=Br(a,zt).map(function(c,u){return S.cloneElement(c,{viewBox:r||o,key:"label-".concat(u)})});if(!n)return s;var l=GH(t.label,r||o);return[l].concat(TH(s))};zt.parseViewBox=DC;zt.renderCallByParent=YH;function XH(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var JH=XH;const QH=Fe(JH);function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}var ZH=["valueAccessor"],eK=["data","dataKey","clockWise","id","textBreakAll"];function tK(e){return iK(e)||aK(e)||nK(e)||rK()}function rK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nK(e,t){if(e){if(typeof e=="string")return M0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M0(e,t)}}function aK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iK(e){if(Array.isArray(e))return M0(e)}function M0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(this,arguments)}function G2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(r),!0).forEach(function(n){oK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oK(e,t,r){return t=sK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=lK(e,"string");return zc(t)=="symbol"?t:t+""}function lK(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X2(e,t){if(e==null)return{};var r=cK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var uK=function(t){return Array.isArray(t.value)?QH(t.value):t.value};function Wn(e){var t=e.valueAccessor,r=t===void 0?uK:t,n=X2(e,ZH),a=n.data,o=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=X2(n,eK);return!a||!a.length?null:O.createElement(Se,{className:"recharts-label-list"},a.map(function(f,d){var h=xe(o)?r(f,d):vt(f&&f.payload,o),p=xe(l)?{}:{id:"".concat(l,"-").concat(d)};return O.createElement(zt,Lf({},he(f,!0),u,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:zt.parseViewBox(xe(s)?f:Y2(Y2({},f),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Wn.displayName="LabelList";function dK(e,t){return e?e===!0?O.createElement(Wn,{key:"labelList-implicit",data:t}):O.isValidElement(e)||ge(e)?O.createElement(Wn,{key:"labelList-implicit",data:t,content:e}):zs(e)?O.createElement(Wn,Lf({data:t},e,{key:"labelList-implicit"})):null:null}function fK(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Br(n,Wn).map(function(s,l){return S.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var o=dK(e.label,t);return[o].concat(tK(a))}Wn.renderCallByParent=fK;function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(this,arguments)}function J2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(r),!0).forEach(function(n){hK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hK(e,t,r){return t=pK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=mK(e,"string");return Wc(t)=="symbol"?t:t+""}function mK(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gK=function(t,r){var n=cr(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},id=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+a,d=Math.asin(c/f)/Df,h=u?o:o+s*d,p=Ze(r,n,f,h),y=Ze(r,n,a,h),m=u?o-s*d:o,x=Ze(r,n,f*Math.cos(d*Df),m);return{center:p,circleTangency:y,lineTangency:x,theta:d}},LC=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,s=t.startAngle,l=t.endAngle,c=gK(s,l),u=s+c,f=Ze(r,n,o,s),d=Ze(r,n,o,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Ze(r,n,a,s),y=Ze(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},yK=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=cr(f-u),h=id({cx:r,cy:n,radius:o,angle:u,sign:d,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,m=h.theta,x=id({cx:r,cy:n,radius:o,angle:f,sign:-d,cornerRadius:s,cornerIsExternal:c}),g=x.circleTangency,v=x.lineTangency,b=x.theta,k=c?Math.abs(u-f):Math.abs(u-f)-m-b;if(k<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):LC({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f});var w="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(k>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var N=id({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=N.circleTangency,P=N.lineTangency,E=N.theta,M=id({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),_=M.circleTangency,T=M.lineTangency,L=M.theta,K=c?Math.abs(u-f):Math.abs(u-f)-E-L;if(K<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(K>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},xK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RC=function(t){var r=Q2(Q2({},xK),t),n=r.cx,a=r.cy,o=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(s<o||f===d)return null;var p=be("recharts-sector",h),y=s-o,m=ur(l,y,0,!0),x;return m>0&&Math.abs(f-d)<360?x=yK({cx:n,cy:a,innerRadius:o,outerRadius:s,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):x=LC({cx:n,cy:a,innerRadius:o,outerRadius:s,startAngle:f,endAngle:d}),O.createElement("path",I0({},he(r,!0),{className:p,d:x,role:"img"}))};function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(this,arguments)}function Z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(r),!0).forEach(function(n){vK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vK(e,t,r){return t=bK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bK(e){var t=wK(e,"string");return Vc(t)=="symbol"?t:t+""}function wK(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tj={curveBasisClosed:jI,curveBasisOpen:kI,curveBasis:wI,curveBumpX:sI,curveBumpY:lI,curveLinearClosed:NI,curveLinear:Vh,curveMonotoneX:SI,curveMonotoneY:AI,curveNatural:CI,curveStep:PI,curveStepAfter:OI,curveStepBefore:EI},od=function(t){return t.x===+t.x&&t.y===+t.y},Ol=function(t){return t.x},_l=function(t){return t.y},jK=function(t,r){if(ge(t))return t;var n="curve".concat(zh(t));return(n==="curveMonotone"||n==="curveBump")&&r?tj["".concat(n).concat(r==="vertical"?"Y":"X")]:tj[n]||Vh},kK=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=jK(n,l),d=u?o.filter(function(m){return od(m)}):o,h;if(Array.isArray(s)){var p=u?s.filter(function(m){return od(m)}):s,y=d.map(function(m,x){return ej(ej({},m),{},{base:p[x]})});return l==="vertical"?h=Xu().y(_l).x1(Ol).x0(function(m){return m.base.x}):h=Xu().x(Ol).y1(_l).y0(function(m){return m.base.y}),h.defined(od).curve(f),h(y)}return l==="vertical"&&re(s)?h=Xu().y(_l).x1(Ol).x0(s):re(s)?h=Xu().x(Ol).y1(_l).y0(s):h=T5().x(Ol).y(_l),h.defined(od).curve(f),h(d)},Ki=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?kK(t):a;return S.createElement("path",D0({},he(t,!1),sf(t),{className:be("recharts-curve",r),d:s,ref:o}))},FC={exports:{}},NK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SK=NK,AK=SK;function BC(){}function zC(){}zC.resetWarningCache=BC;var CK=function(){function e(n,a,o,s,l,c){if(c!==AK){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zC,resetWarningCache:BC};return r.PropTypes=r,r};FC.exports=CK();var PK=FC.exports;const Ie=Fe(PK);var EK=Object.getOwnPropertyNames,OK=Object.getOwnPropertySymbols,_K=Object.prototype.hasOwnProperty;function rj(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function sd(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var o=a.cache,s=o.get(r),l=o.get(n);if(s&&l)return s===n&&l===r;o.set(r,n),o.set(n,r);var c=e(r,n,a);return o.delete(r),o.delete(n),c}}function TK(e){return e!=null?e[Symbol.toStringTag]:void 0}function nj(e){return EK(e).concat(OK(e))}var $K=Object.hasOwn||function(e,t){return _K.call(e,t)};function ho(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var MK="__v",IK="__o",DK="_owner",aj=Object.getOwnPropertyDescriptor,ij=Object.keys;function LK(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function RK(e,t){return ho(e.getTime(),t.getTime())}function FK(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function BK(e,t){return e===t}function oj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),o=e.entries(),s,l,c=0;(s=o.next())&&!s.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(a[d]){d++;continue}var h=s.value,p=l.value;if(r.equals(h[0],p[0],c,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;c++}return!0}var zK=ho;function WK(e,t,r){var n=ij(e),a=n.length;if(ij(t).length!==a)return!1;for(;a-- >0;)if(!WC(e,t,r,n[a]))return!1;return!0}function Tl(e,t,r){var n=nj(e),a=n.length;if(nj(t).length!==a)return!1;for(var o,s,l;a-- >0;)if(o=n[a],!WC(e,t,r,o)||(s=aj(e,o),l=aj(t,o),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function VK(e,t){return ho(e.valueOf(),t.valueOf())}function UK(e,t){return e.source===t.source&&e.flags===t.flags}function sj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),o=e.values(),s,l;(s=o.next())&&!s.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function HK(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function KK(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function WC(e,t,r,n){return(n===DK||n===IK||n===MK)&&(e.$$typeof||t.$$typeof)?!0:$K(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var qK="[object Arguments]",GK="[object Boolean]",YK="[object Date]",XK="[object Error]",JK="[object Map]",QK="[object Number]",ZK="[object Object]",eq="[object RegExp]",tq="[object Set]",rq="[object String]",nq="[object URL]",aq=Array.isArray,lj=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,cj=Object.assign,iq=Object.prototype.toString.call.bind(Object.prototype.toString);function oq(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,o=e.areMapsEqual,s=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(m,x,g){if(m===x)return!0;if(m==null||x==null)return!1;var v=typeof m;if(v!==typeof x)return!1;if(v!=="object")return v==="number"?s(m,x,g):v==="function"?a(m,x,g):!1;var b=m.constructor;if(b!==x.constructor)return!1;if(b===Object)return l(m,x,g);if(aq(m))return t(m,x,g);if(lj!=null&&lj(m))return d(m,x,g);if(b===Date)return r(m,x,g);if(b===RegExp)return u(m,x,g);if(b===Map)return o(m,x,g);if(b===Set)return f(m,x,g);var k=iq(m);if(k===YK)return r(m,x,g);if(k===eq)return u(m,x,g);if(k===JK)return o(m,x,g);if(k===tq)return f(m,x,g);if(k===ZK)return typeof m.then!="function"&&typeof x.then!="function"&&l(m,x,g);if(k===nq)return h(m,x,g);if(k===XK)return n(m,x,g);if(k===qK)return l(m,x,g);if(k===GK||k===QK||k===rq)return c(m,x,g);if(p){var w=p[k];if(!w){var N=TK(m);N&&(w=p[N])}if(w)return w(m,x,g)}return!1}}function sq(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Tl:LK,areDatesEqual:RK,areErrorsEqual:FK,areFunctionsEqual:BK,areMapsEqual:n?rj(oj,Tl):oj,areNumbersEqual:zK,areObjectsEqual:n?Tl:WK,arePrimitiveWrappersEqual:VK,areRegExpsEqual:UK,areSetsEqual:n?rj(sj,Tl):sj,areTypedArraysEqual:n?Tl:HK,areUrlsEqual:KK,unknownTagComparators:void 0};if(r&&(a=cj({},a,r(a))),t){var o=sd(a.areArraysEqual),s=sd(a.areMapsEqual),l=sd(a.areObjectsEqual),c=sd(a.areSetsEqual);a=cj({},a,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return a}function lq(e){return function(t,r,n,a,o,s,l){return e(t,r,l)}}function cq(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,o=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,p=f.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:o})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var s={cache:void 0,equals:a,meta:void 0,strict:o};return function(c,u){return r(c,u,s)}}var uq=mi();mi({strict:!0});mi({circular:!0});mi({circular:!0,strict:!0});mi({createInternalComparator:function(){return ho}});mi({strict:!0,createInternalComparator:function(){return ho}});mi({circular:!0,createInternalComparator:function(){return ho}});mi({circular:!0,createInternalComparator:function(){return ho},strict:!0});function mi(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,o=e.strict,s=o===void 0?!1:o,l=sq(e),c=oq(l),u=n?n(c):lq(c);return cq({circular:r,comparator:c,createState:a,equals:u,strict:s})}function dq(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function uj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):dq(a)};requestAnimationFrame(n)}function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function fq(e){return gq(e)||mq(e)||pq(e)||hq()}function hq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pq(e,t){if(e){if(typeof e=="string")return dj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dj(e,t)}}function dj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gq(e){if(Array.isArray(e))return e}function yq(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,l=fq(s),c=l[0],u=l.slice(1);if(typeof c=="number"){uj(a.bind(null,u),c);return}a(c),uj(a.bind(null,u));return}L0(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){VC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VC(e,t,r){return t=xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=vq(e,"string");return Uc(t)==="symbol"?t:String(t)}function vq(e,t){if(Uc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bq=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},wq=function(t){return t},jq=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ec=function(t,r){return Object.keys(r).reduce(function(n,a){return hj(hj({},n),{},VC({},a,t(a,r[a])))},{})},pj=function(t,r,n){return t.map(function(a){return"".concat(jq(a)," ").concat(r,"ms ").concat(n)}).join(",")};function kq(e,t){return Aq(e)||Sq(e,t)||UC(e,t)||Nq()}function Nq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Aq(e){if(Array.isArray(e))return e}function Cq(e){return Oq(e)||Eq(e)||UC(e)||Pq()}function Pq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UC(e,t){if(e){if(typeof e=="string")return R0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R0(e,t)}}function Eq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oq(e){if(Array.isArray(e))return R0(e)}function R0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rf=1e-4,HC=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},KC=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},mj=function(t,r){return function(n){var a=HC(t,r);return KC(a,n)}},_q=function(t,r){return function(n){var a=HC(t,r),o=[].concat(Cq(a.map(function(s,l){return s*l}).slice(1)),[0]);return KC(o,n)}},gj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,s=1,l=1;break;case"ease":a=.25,o=.1,s=.25,l=1;break;case"ease-in":a=.42,o=0,s=1,l=1;break;case"ease-out":a=.42,o=0,s=.58,l=1;break;case"ease-in-out":a=0,o=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=kq(u,4);a=f[0],o=f[1],s=f[2],l=f[3]}}}var d=mj(a,s),h=mj(o,l),p=_q(a,s),y=function(g){return g>1?1:g<0?0:g},m=function(g){for(var v=g>1?1:g,b=v,k=0;k<8;++k){var w=d(b)-v,N=p(b);if(Math.abs(w-v)<Rf||N<Rf)return h(b);b=y(b-w/N)}return h(b)};return m.isStepper=!1,m},Tq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,s=t.dt,l=s===void 0?17:s,c=function(f,d,h){var p=-(f-d)*n,y=h*o,m=h+(p-y)*l/1e3,x=h*l/1e3+f;return Math.abs(x-d)<Rf&&Math.abs(m)<Rf?[d,0]:[x,m]};return c.isStepper=!0,c.dt=l,c},$q=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gj(a);case"spring":return Tq();default:if(a.split("(")[0]==="cubic-bezier")return gj(a)}return typeof a=="function"?a:null};function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function yj(e){return Dq(e)||Iq(e)||qC(e)||Mq()}function Mq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dq(e){if(Array.isArray(e))return B0(e)}function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){F0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F0(e,t,r){return t=Lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=Rq(e,"string");return Hc(t)==="symbol"?t:String(t)}function Rq(e,t){if(Hc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fq(e,t){return Wq(e)||zq(e,t)||qC(e,t)||Bq()}function Bq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qC(e,t){if(e){if(typeof e=="string")return B0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B0(e,t)}}function B0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Wq(e){if(Array.isArray(e))return e}var Ff=function(t,r,n){return t+(r-t)*n},z0=function(t){var r=t.from,n=t.to;return r!==n},Vq=function e(t,r,n){var a=ec(function(o,s){if(z0(s)){var l=t(s.from,s.to,s.velocity),c=Fq(l,2),u=c[0],f=c[1];return Yt(Yt({},s),{},{from:u,velocity:f})}return s},r);return n<1?ec(function(o,s){return z0(s)?Yt(Yt({},s),{},{velocity:Ff(s.velocity,a[o].velocity,n),from:Ff(s.from,a[o].from,n)}):s},r):e(t,a,n-1)};const Uq=function(e,t,r,n,a){var o=bq(e,t),s=o.reduce(function(x,g){return Yt(Yt({},x),{},F0({},g,[e[g],t[g]]))},{}),l=o.reduce(function(x,g){return Yt(Yt({},x),{},F0({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return ec(function(g,v){return v.from},l)},p=function(){return!Object.values(l).filter(z0).length},y=function(g){u||(u=g);var v=g-u,b=v/r.dt;l=Vq(r,l,b),a(Yt(Yt(Yt({},e),t),h())),u=g,p()||(c=requestAnimationFrame(d))},m=function(g){f||(f=g);var v=(g-f)/n,b=ec(function(w,N){return Ff.apply(void 0,yj(N).concat([r(v)]))},s);if(a(Yt(Yt(Yt({},e),t),b)),v<1)c=requestAnimationFrame(d);else{var k=ec(function(w,N){return Ff.apply(void 0,yj(N).concat([r(1)]))},s);a(Yt(Yt(Yt({},e),t),k))}};return d=r.isStepper?y:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}var Hq=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Kq(e,t){if(e==null)return{};var r=qq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qq(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Lm(e){return Jq(e)||Xq(e)||Yq(e)||Gq()}function Gq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yq(e,t){if(e){if(typeof e=="string")return W0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W0(e,t)}}function Xq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jq(e){if(Array.isArray(e))return W0(e)}function W0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(r),!0).forEach(function(n){Bl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bl(e,t,r){return t=GC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GC(n.key),n)}}function Zq(e,t,r){return t&&bj(e.prototype,t),r&&bj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GC(e){var t=eG(e,"string");return bs(t)==="symbol"?t:String(t)}function eG(e,t){if(bs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V0(e,t)}function V0(e,t){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V0(e,t)}function rG(e){var t=nG();return function(){var n=Bf(e),a;if(t){var o=Bf(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return U0(this,a)}}function U0(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H0(e)}function H0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}var ap=function(e){tG(r,e);var t=rG(r);function r(n,a){var o;Qq(this,r),o=t.call(this,n,a);var s=o.props,l=s.isActive,c=s.attributeName,u=s.from,f=s.to,d=s.steps,h=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(H0(o)),o.changeStyle=o.changeStyle.bind(H0(o)),!l||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),U0(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},U0(o);o.state={style:c?Bl({},c,u):u}}else o.state={style:{}};return o}return Zq(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,s=a.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,s=o.isActive,l=o.canBegin,c=o.attributeName,u=o.shouldReAnimate,f=o.to,d=o.from,h=this.state.style;if(l){if(!s){var p={style:c?Bl({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(p);return}if(!(uq(a.to,f)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?d:a.to;if(this.state&&h){var x={style:c?Bl({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(x)}this.runAnimation(gn(gn({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,s=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=Uq(s,l,$q(u),c,this.changeStyle),y=function(){o.stopJSAnimation=p()};this.manager.start([h,f,y,c,d])}},{key:"runStepAnimation",value:function(a){var o=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],f=u.style,d=u.duration,h=d===void 0?0:d,p=function(m,x,g){if(g===0)return m;var v=x.duration,b=x.easing,k=b===void 0?"ease":b,w=x.style,N=x.properties,A=x.onAnimationEnd,P=g>0?s[g-1]:x,E=N||Object.keys(w);if(typeof k=="function"||k==="spring")return[].concat(Lm(m),[o.runJSAnimation.bind(o,{from:P.style,to:w,duration:v,easing:k}),v]);var M=pj(E,v,k),_=gn(gn(gn({},P.style),w),{},{transition:M});return[].concat(Lm(m),[_,v,A]).filter(wq)};return this.manager.start([c].concat(Lm(s.reduce(p,[f,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=yq());var o=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?Bl({},l,c):c,x=pj(Object.keys(m),s,u);y.start([f,o,gn(gn({},m),{},{transition:x}),s,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Kq(a,Hq),u=S.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!l||u===0||s<=0)return o;var d=function(p){var y=p.props,m=y.style,x=m===void 0?{}:m,g=y.className,v=S.cloneElement(p,gn(gn({},c),{},{style:gn(gn({},x),f),className:g}));return v};return u===1?d(S.Children.only(o)):O.createElement("div",null,S.Children.map(o,function(h){return d(h)}))}}]),r}(S.PureComponent);ap.displayName="Animate";ap.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ap.propTypes={from:Ie.oneOfType([Ie.object,Ie.string]),to:Ie.oneOfType([Ie.object,Ie.string]),attributeName:Ie.string,duration:Ie.number,begin:Ie.number,easing:Ie.oneOfType([Ie.string,Ie.func]),steps:Ie.arrayOf(Ie.shape({duration:Ie.number.isRequired,style:Ie.object.isRequired,easing:Ie.oneOfType([Ie.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ie.func]),properties:Ie.arrayOf("string"),onAnimationEnd:Ie.func})),children:Ie.oneOfType([Ie.node,Ie.func]),isActive:Ie.bool,canBegin:Ie.bool,onAnimationEnd:Ie.func,shouldReAnimate:Ie.bool,onAnimationStart:Ie.func,onAnimationReStart:Ie.func};const li=ap;function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zf.apply(this,arguments)}function aG(e,t){return lG(e)||sG(e,t)||oG(e,t)||iG()}function iG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oG(e,t){if(e){if(typeof e=="string")return wj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wj(e,t)}}function wj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function lG(e){if(Array.isArray(e))return e}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){cG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cG(e,t,r){return t=uG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e){var t=dG(e,"string");return Kc(t)=="symbol"?t:t+""}function dG(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nj=function(t,r,n,a,o){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(s>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>s?s:o[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+a-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+a)),f+="L ".concat(t+c*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*d[3])),f+="Z"}else if(s>0&&o===+o&&o>0){var y=Math.min(s,o);f="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},fG=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(o,o+l),f=Math.max(o,o+l),d=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=f&&a>=d&&a<=h}return!1},hG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kv=function(t){var r=kj(kj({},hG),t),n=S.useRef(),a=S.useState(-1),o=aG(a,2),s=o[0],l=o[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&l(k)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,x=r.animationBegin,g=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var b=be("recharts-rectangle",p);return v?O.createElement(li,{canBegin:s>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:m,animationEasing:y,isActive:v},function(k){var w=k.width,N=k.height,A=k.x,P=k.y;return O.createElement(li,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:g,easing:y},O.createElement("path",zf({},he(r,!0),{className:b,d:Nj(A,P,w,N,h),ref:n})))}):O.createElement("path",zf({},he(r,!0),{className:b,d:Nj(c,u,f,d,h)}))},pG=["points","className","baseLinePoints","connectNulls"];function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ho.apply(this,arguments)}function mG(e,t){if(e==null)return{};var r=gG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sj(e){return bG(e)||vG(e)||xG(e)||yG()}function yG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xG(e,t){if(e){if(typeof e=="string")return K0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K0(e,t)}}function vG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bG(e){if(Array.isArray(e))return K0(e)}function K0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Aj=function(t){return t&&t.x===+t.x&&t.y===+t.y},wG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Aj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Aj(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},tc=function(t,r){var n=wG(t);r&&(n=[n.reduce(function(o,s){return[].concat(Sj(o),Sj(s))},[])]);var a=n.map(function(o){return o.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},jG=function(t,r,n){var a=tc(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(tc(r.reverse(),n).slice(1))},kG=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,o=t.connectNulls,s=mG(t,pG);if(!r||!r.length)return null;var l=be("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=jG(r,a,o);return O.createElement("g",{className:l},O.createElement("path",Ho({},he(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?O.createElement("path",Ho({},he(s,!0),{fill:"none",d:tc(r,o)})):null,c?O.createElement("path",Ho({},he(s,!0),{fill:"none",d:tc(a,o)})):null)}var f=tc(r,o);return O.createElement("path",Ho({},he(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",className:l,d:f}))};function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(this,arguments)}var gu=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,s=be("recharts-dot",o);return r===+r&&n===+n&&a===+a?S.createElement("circle",q0({},he(t,!1),sf(t),{className:s,cx:r,cy:n,r:a})):null};function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}var NG=["x","y","top","left","width","height","className"];function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(this,arguments)}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){AG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AG(e,t,r){return t=CG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=PG(e,"string");return qc(t)=="symbol"?t:t+""}function PG(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EG(e,t){if(e==null)return{};var r=OG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _G=function(t,r,n,a,o,s){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},TG=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,y=t.className,m=EG(t,NG),x=SG({x:n,y:o,top:l,left:u,width:d,height:p},m);return!re(n)||!re(o)||!re(d)||!re(p)||!re(l)||!re(u)?null:O.createElement("path",G0({},he(x,!0),{className:be("recharts-cross",y),d:_G(n,o,d,p,l,u)}))},$G=ep,MG=oC,IG=Gn;function DG(e,t){return e&&e.length?$G(e,IG(t),MG):void 0}var LG=DG;const RG=Fe(LG);var FG=ep,BG=Gn,zG=sC;function WG(e,t){return e&&e.length?FG(e,BG(t),zG):void 0}var VG=WG;const UG=Fe(VG);var HG=["cx","cy","angle","ticks","axisLine"],KG=["ticks","tick","angle","tickFormatter","stroke"];function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){ip(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ej(e,t){if(e==null)return{};var r=qG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XC(n.key),n)}}function YG(e,t,r){return t&&Oj(e.prototype,t),r&&Oj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XG(e,t,r){return t=Wf(t),JG(e,YC()?Reflect.construct(t,r||[],Wf(e).constructor):t.apply(e,r))}function JG(e,t){if(t&&(ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QG(e)}function QG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YC=function(){return!!e})()}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wf(e)}function ZG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y0(e,t)}function Y0(e,t){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y0(e,t)}function ip(e,t,r){return t=XC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XC(e){var t=eY(e,"string");return ws(t)=="symbol"?t:t+""}function eY(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var op=function(e){function t(){return GG(this,t),XG(this,t,arguments)}return ZG(t,e),YG(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,o=this.props,s=o.angle,l=o.cx,c=o.cy;return Ze(l,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,o=n.cy,s=n.angle,l=n.ticks,c=RG(l,function(f){return f.coordinate||0}),u=UG(l,function(f){return f.coordinate||0});return{cx:a,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,o=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=Ej(n,HG),f=l.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),d=Ze(a,o,f[0],s),h=Ze(a,o,f[1],s),p=ki(ki(ki({},he(u,!1)),{},{fill:"none"},he(c,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return O.createElement("line",rc({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,o=a.ticks,s=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,f=Ej(a,KG),d=this.getTickTextAnchor(),h=he(f,!1),p=he(s,!1),y=o.map(function(m,x){var g=n.getTickValueCoord(m),v=ki(ki(ki(ki({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},g),{},{payload:m});return O.createElement(Se,rc({className:be("recharts-polar-radius-axis-tick",IC(s)),key:"tick-".concat(m.coordinate)},eo(n.props,m,x)),t.renderTickItem(s,v,c?c(m.value,x):m.value))});return O.createElement(Se,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,o=n.axisLine,s=n.tick;return!a||!a.length?null:O.createElement(Se,{className:be("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),zt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,o){var s;return O.isValidElement(n)?s=O.cloneElement(n,a):ge(n)?s=n(a):s=O.createElement(to,rc({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(S.PureComponent);ip(op,"displayName","PolarRadiusAxis");ip(op,"axisType","radiusAxis");ip(op,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(this,arguments)}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){sp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QC(n.key),n)}}function rY(e,t,r){return t&&Tj(e.prototype,t),r&&Tj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nY(e,t,r){return t=Vf(t),aY(e,JC()?Reflect.construct(t,r||[],Vf(e).constructor):t.apply(e,r))}function aY(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iY(e)}function iY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JC=function(){return!!e})()}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vf(e)}function oY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X0(e,t)}function X0(e,t){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X0(e,t)}function sp(e,t,r){return t=QC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QC(e){var t=sY(e,"string");return js(t)=="symbol"?t:t+""}function sY(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lY=Math.PI/180,$j=1e-5,lp=function(e){function t(){return tY(this,t),nY(this,t,arguments)}return oY(t,e),rY(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.cx,s=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,f=u||8,d=Ze(o,s,l,n.coordinate),h=Ze(o,s,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,o=Math.cos(-n.coordinate*lY),s;return o>$j?s=a==="outer"?"start":"end":o<-$j?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,o=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=Ni(Ni({},he(this.props,!1)),{},{fill:"none"},he(l,!1));if(c==="circle")return O.createElement(gu,_i({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:o,r:s}));var f=this.props.ticks,d=f.map(function(h){return Ze(a,o,s,h.coordinate)});return O.createElement(kG,_i({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,o=a.ticks,s=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,f=he(this.props,!1),d=he(s,!1),h=Ni(Ni({},f),{},{fill:"none"},he(l,!1)),p=o.map(function(y,m){var x=n.getTickLineCoord(y),g=n.getTickTextAnchor(y),v=Ni(Ni(Ni({textAnchor:g},f),{},{stroke:"none",fill:u},d),{},{index:m,payload:y,x:x.x2,y:x.y2});return O.createElement(Se,_i({className:be("recharts-polar-angle-axis-tick",IC(s)),key:"tick-".concat(y.coordinate)},eo(n.props,y,m)),l&&O.createElement("line",_i({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&t.renderTickItem(s,v,c?c(y.value,m):y.value))});return O.createElement(Se,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,o=n.radius,s=n.axisLine;return o<=0||!a||!a.length?null:O.createElement(Se,{className:be("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,o){var s;return O.isValidElement(n)?s=O.cloneElement(n,a):ge(n)?s=n(a):s=O.createElement(to,_i({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(S.PureComponent);sp(lp,"displayName","PolarAngleAxis");sp(lp,"axisType","angleAxis");sp(lp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var cY=rA,uY=cY(Object.getPrototypeOf,Object),dY=uY,fY=Ea,hY=dY,pY=Oa,mY="[object Object]",gY=Function.prototype,yY=Object.prototype,ZC=gY.toString,xY=yY.hasOwnProperty,vY=ZC.call(Object);function bY(e){if(!pY(e)||fY(e)!=mY)return!1;var t=hY(e);if(t===null)return!0;var r=xY.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ZC.call(r)==vY}var wY=bY;const jY=Fe(wY);var kY=Ea,NY=Oa,SY="[object Boolean]";function AY(e){return e===!0||e===!1||NY(e)&&kY(e)==SY}var CY=AY;const PY=Fe(CY);function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uf.apply(this,arguments)}function EY(e,t){return $Y(e)||TY(e,t)||_Y(e,t)||OY()}function OY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Y(e,t){if(e){if(typeof e=="string")return Mj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mj(e,t)}}function Mj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function $Y(e){if(Array.isArray(e))return e}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){MY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MY(e,t,r){return t=IY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IY(e){var t=DY(e,"string");return Gc(t)=="symbol"?t:t+""}function DY(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lj=function(t,r,n,a,o){var s=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+o),l+="L ".concat(t+n-s/2-a,",").concat(r+o),l+="L ".concat(t,",").concat(r," Z"),l},LY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RY=function(t){var r=Dj(Dj({},LY),t),n=S.useRef(),a=S.useState(-1),o=EY(a,2),s=o[0],l=o[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,x=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var v=be("recharts-trapezoid",p);return g?O.createElement(li,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:g},function(b){var k=b.upperWidth,w=b.lowerWidth,N=b.height,A=b.x,P=b.y;return O.createElement(li,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:y},O.createElement("path",Uf({},he(r,!0),{className:v,d:Lj(A,P,k,w,N),ref:n})))}):O.createElement("g",null,O.createElement("path",Uf({},he(r,!0),{className:v,d:Lj(c,u,f,d,h)})))},FY=["option","shapeType","propTransformer","activeClassName","isActive"];function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function BY(e,t){if(e==null)return{};var r=zY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){WY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WY(e,t,r){return t=VY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VY(e){var t=UY(e,"string");return Yc(t)=="symbol"?t:t+""}function UY(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HY(e,t){return Hf(Hf({},t),e)}function KY(e,t){return e==="symbols"}function Fj(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return O.createElement(kv,r);case"trapezoid":return O.createElement(RY,r);case"sector":return O.createElement(RC,r);case"symbols":if(KY(t))return O.createElement(Wx,r);break;default:return null}}function qY(e){return S.isValidElement(e)?e.props:e}function e3(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?HY:n,o=e.activeClassName,s=o===void 0?"recharts-active-shape":o,l=e.isActive,c=BY(e,FY),u;if(S.isValidElement(t))u=S.cloneElement(t,Hf(Hf({},c),qY(t)));else if(ge(t))u=t(c);else if(jY(t)&&!PY(t)){var f=a(t,c);u=O.createElement(Fj,{shapeType:r,elementProps:f})}else{var d=c;u=O.createElement(Fj,{shapeType:r,elementProps:d})}return l?O.createElement(Se,{className:s},u):u}function cp(e,t){return t!=null&&"trapezoids"in e.props}function up(e,t){return t!=null&&"sectors"in e.props}function Xc(e,t){return t!=null&&"points"in e.props}function GY(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function YY(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function XY(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function JY(e,t){var r;return cp(e,t)?r=GY:up(e,t)?r=YY:Xc(e,t)&&(r=XY),r}function QY(e,t){var r;return cp(e,t)?r="trapezoids":up(e,t)?r="sectors":Xc(e,t)&&(r="points"),r}function ZY(e,t){if(cp(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(up(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Xc(e,t)?t.payload:{}}function eX(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=QY(r,t),o=ZY(r,t),s=n.filter(function(c,u){var f=ro(o,c),d=r.props[a].filter(function(y){var m=JY(r,t);return m(y,t)}),h=r.props[a].indexOf(d[d.length-1]),p=u===h;return f&&p}),l=n.indexOf(s[s.length-1]);return l}var Ed;function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ko.apply(this,arguments)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){rn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r3(n.key),n)}}function rX(e,t,r){return t&&zj(e.prototype,t),r&&zj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nX(e,t,r){return t=Kf(t),aX(e,t3()?Reflect.construct(t,r||[],Kf(e).constructor):t.apply(e,r))}function aX(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iX(e)}function iX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t3=function(){return!!e})()}function Kf(e){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kf(e)}function oX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J0(e,t)}function J0(e,t){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J0(e,t)}function rn(e,t,r){return t=r3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r3(e){var t=sX(e,"string");return ks(t)=="symbol"?t:t+""}function sX(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yn=function(e){function t(r){var n;return tX(this,t),n=nX(this,t,[r]),rn(n,"pieRef",null),rn(n,"sectorRefs",[]),rn(n,"id",co("recharts-pie-")),rn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ge(a)&&a()}),rn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ge(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return oX(t,e),rX(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,l=o.labelLine,c=o.dataKey,u=o.valueKey,f=he(this.props,!1),d=he(s,!1),h=he(l,!1),p=s&&s.offsetRadius||20,y=n.map(function(m,x){var g=(m.startAngle+m.endAngle)/2,v=Ze(m.cx,m.cy,m.outerRadius+p,g),b=Xe(Xe(Xe(Xe({},f),m),{},{stroke:"none"},d),{},{index:x,textAnchor:t.getTextAnchor(v.x,m.cx)},v),k=Xe(Xe(Xe(Xe({},f),m),{},{fill:"none",stroke:m.fill},h),{},{index:x,points:[Ze(m.cx,m.cy,m.outerRadius,g),v]}),w=c;return xe(c)&&xe(u)?w="value":xe(c)&&(w=u),O.createElement(Se,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,k,"line"),t.renderLabelItem(s,b,vt(m,w)))});return O.createElement(Se,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,o=this.props,s=o.activeShape,l=o.blendStroke,c=o.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=a.isActiveIndex(f),h=c&&a.hasActiveIndex()?c:null,p=d?s:h,y=Xe(Xe({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return O.createElement(Se,Ko({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},eo(a.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),O.createElement(e3,Ko({option:p,isActive:d,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,o=a.sectors,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return O.createElement(li,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,x=[],g=o&&o[0],v=g.startAngle;return o.forEach(function(b,k){var w=h&&h[k],N=k>0?Fr(b,"paddingAngle",0):0;if(w){var A=$t(w.endAngle-w.startAngle,b.endAngle-b.startAngle),P=Xe(Xe({},b),{},{startAngle:v+N,endAngle:v+A(m)+N});x.push(P),v=P.endAngle}else{var E=b.endAngle,M=b.startAngle,_=$t(0,E-M),T=_(m),L=Xe(Xe({},b),{},{startAngle:v+N,endAngle:v+T+N});x.push(L),v=L.endAngle}}),O.createElement(Se,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,o=n.isAnimationActive,s=this.state.prevSectors;return o&&a&&a.length&&(!s||!ro(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,o=a.hide,s=a.sectors,l=a.className,c=a.label,u=a.cx,f=a.cy,d=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,y=this.state.isAnimationFinished;if(o||!s||!s.length||!re(u)||!re(f)||!re(d)||!re(h))return null;var m=be("recharts-pie",l);return O.createElement(Se,{tabIndex:this.props.rootTabIndex,className:m,ref:function(g){n.pieRef=g}},this.renderSectors(),c&&this.renderLabels(s),zt.renderCallByParent(this.props,null,!1),(!p||y)&&Wn.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,o){if(O.isValidElement(n))return O.cloneElement(n,a);if(ge(n))return n(a);var s=be("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return O.createElement(Ki,Ko({},a,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,o){if(O.isValidElement(n))return O.cloneElement(n,a);var s=o;if(ge(n)&&(s=n(a),O.isValidElement(s)))return s;var l=be("recharts-pie-label-text",typeof n!="boolean"&&!ge(n)?n.className:"");return O.createElement(to,Ko({},a,{alignmentBaseline:"middle",className:l}),s)}}])}(S.PureComponent);Ed=Yn;rn(Yn,"displayName","Pie");rn(Yn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Pn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});rn(Yn,"parseDeltaAngle",function(e,t){var r=cr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});rn(Yn,"getRealPieData",function(e){var t=e.data,r=e.children,n=he(e,!1),a=Br(r,uu);return t&&t.length?t.map(function(o,s){return Xe(Xe(Xe({payload:o},n),o),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(o){return Xe(Xe({},n),o.props)}):[]});rn(Yn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,o=t.height,s=MC(a,o),l=n+ur(e.cx,a,a/2),c=r+ur(e.cy,o,o/2),u=ur(e.innerRadius,s,0),f=ur(e.outerRadius,s,s*.8),d=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}});rn(Yn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Xe(Xe({},t.type.defaultProps),t.props):t.props,a=Ed.getRealPieData(n);if(!a||!a.length)return null;var o=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,d=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=Ed.parseCoordinateOfPie(n,r),m=Ed.parseDeltaAngle(s,l),x=Math.abs(m),g=u;xe(u)&&xe(d)?(An(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):xe(u)&&(An(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=d);var v=a.filter(function(P){return vt(P,g,0)!==0}).length,b=(x>=360?v:v-1)*c,k=x-v*p-b,w=a.reduce(function(P,E){var M=vt(E,g,0);return P+(re(M)?M:0)},0),N;if(w>0){var A;N=a.map(function(P,E){var M=vt(P,g,0),_=vt(P,f,E),T=(re(M)?M:0)/w,L;E?L=A.endAngle+cr(m)*c*(M!==0?1:0):L=s;var K=L+cr(m)*((M!==0?p:0)+T*k),q=(L+K)/2,G=(y.innerRadius+y.outerRadius)/2,Q=[{name:_,value:M,payload:P,dataKey:g,type:h}],R=Ze(y.cx,y.cy,G,q);return A=Xe(Xe(Xe({percent:T,cornerRadius:o,name:_,tooltipPayload:Q,midAngle:q,middleRadius:G,tooltipPosition:R},P),y),{},{value:vt(P,g),startAngle:L,endAngle:K,payload:P,paddingAngle:cr(m)*c}),A})}return Xe(Xe({},y),{},{sectors:N,data:a})});var lX=Math.ceil,cX=Math.max;function uX(e,t,r,n){for(var a=-1,o=cX(lX((t-e)/(r||1)),0),s=Array(o);o--;)s[n?o:++a]=e,e+=r;return s}var dX=uX,fX=wA,Wj=1/0,hX=17976931348623157e292;function pX(e){if(!e)return e===0?e:0;if(e=fX(e),e===Wj||e===-Wj){var t=e<0?-1:1;return t*hX}return e===e?e:0}var n3=pX,mX=dX,gX=qh,Rm=n3;function yX(e){return function(t,r,n){return n&&typeof n!="number"&&gX(t,r,n)&&(r=n=void 0),t=Rm(t),r===void 0?(r=t,t=0):r=Rm(r),n=n===void 0?t<r?1:-1:Rm(n),mX(t,r,n,e)}}var xX=yX,vX=xX,bX=vX(),wX=bX;const qf=Fe(wX);function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){a3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a3(e,t,r){return t=jX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jX(e){var t=kX(e,"string");return Jc(t)=="symbol"?t:t+""}function kX(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NX=["Webkit","Moz","O","ms"],SX=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=NX.reduce(function(o,s){return Uj(Uj({},o),{},a3({},s+n,r))},{});return a[t]=r,a};function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gf.apply(this,arguments)}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){Tr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o3(n.key),n)}}function CX(e,t,r){return t&&Kj(e.prototype,t),r&&Kj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PX(e,t,r){return t=Yf(t),EX(e,i3()?Reflect.construct(t,r||[],Yf(e).constructor):t.apply(e,r))}function EX(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OX(e)}function OX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i3=function(){return!!e})()}function Yf(e){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yf(e)}function _X(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q0(e,t)}function Q0(e,t){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q0(e,t)}function Tr(e,t,r){return t=o3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o3(e){var t=TX(e,"string");return Ns(t)=="symbol"?t:t+""}function TX(e,t){if(Ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $X=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Ql().domain(qf(0,c)).range([o,o+s-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},qj=function(t){return t.changedTouches&&!!t.changedTouches.length},Ss=function(e){function t(r){var n;return AX(this,t),n=PX(this,t,[r]),Tr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Tr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Tr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:o,startIndex:l})}),n.detachDragEndListener()}),Tr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Tr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Tr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Tr(n,"handleSlideDragStart",function(a){var o=qj(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _X(t,e),CX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(s,d),y=t.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:y===f?f:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,s=a.tickFormatter,l=a.dataKey,c=vt(o[n],l,n);return ge(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,m=n.pageX-o;m>0?m=Math.min(m,u+f-d-l,u+f-d-s):m<0&&(m=Math.max(m,u-s,u-l));var x=this.getIndex({startX:s+m,endX:l+m});(x.startIndex!==h||x.endIndex!==p)&&y&&y(x),this.setState({startX:s+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=qj(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,y=f.onChange,m=f.gap,x=f.data,g={startX:this.state.startX,endX:this.state.endX},v=n.pageX-o;v>0?v=Math.min(v,d+h-p-u):v<0&&(v=Math.max(v,d-u)),g[s]=u+v;var b=this.getIndex(g),k=b.startIndex,w=b.endIndex,N=function(){var P=x.length-1;return s==="startX"&&(l>c?k%m===0:w%m===0)||l<c&&w===P||s==="endX"&&(l>c?w%m===0:k%m===0)||l>c&&w===P};this.setState(Tr(Tr({},s,u+v),"brushMoveStartX",n.pageX),function(){y&&N()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,f=this.state[a],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Tr({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return O.createElement("rect",{stroke:u,fill:c,x:a,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,s=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=S.Children.only(u);return d?O.cloneElement(d,{x:a,y:o,width:s,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,s,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,m=c.startIndex,x=c.endIndex,g=Math.max(n,this.props.x),v=Fm(Fm({},he(this.props,!1)),{},{x:g,y:u,width:f,height:d}),b=p||"Min value: ".concat((o=y[m])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=y[x])===null||s===void 0?void 0:s.name);return O.createElement(Se,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,a){var o=this.props,s=o.y,l=o.height,c=o.stroke,u=o.travellerWidth,f=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return O.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:s,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,y={pointerEvents:"none",fill:u};return O.createElement(Se,{className:"recharts-brush-texts"},O.createElement(to,Gf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+l/2},y),this.getTextOfTick(a)),O.createElement(to,Gf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+p,y:s+l/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,s=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,x=h.isSlideMoving,g=h.isTravellerMoving,v=h.isTravellerFocused;if(!a||!a.length||!re(l)||!re(c)||!re(u)||!re(f)||u<=0||f<=0)return null;var b=be("recharts-brush",o),k=O.Children.count(s)===1,w=SX("userSelect","none");return O.createElement(Se,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||x||g||v||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(o+l/2)-1;return O.createElement(O.Fragment,null,O.createElement("rect",{x:a,y:o,width:s,height:l,fill:c,stroke:"none"}),O.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),O.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return O.isValidElement(n)?o=O.cloneElement(n,a):ge(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(o!==a.prevData||u!==a.prevUpdateId)return Fm({prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},o&&o.length?$X({data:o,width:s,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,s=0,l=o-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])}(S.PureComponent);Tr(Ss,"displayName","Brush");Tr(Ss,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var MX=Yx;function IX(e,t){var r;return MX(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var DX=IX,LX=G5,RX=Gn,FX=DX,BX=Er,zX=qh;function WX(e,t,r){var n=BX(e)?LX:FX;return r&&zX(e,t,r)&&(t=void 0),n(e,RX(t))}var VX=WX;const UX=Fe(VX);var Vn=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Gj=gA;function HX(e,t,r){t=="__proto__"&&Gj?Gj(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var KX=HX,qX=KX,GX=pA,YX=Gn;function XX(e,t){var r={};return t=YX(t),GX(e,function(n,a,o){qX(r,a,t(n,a,o))}),r}var JX=XX;const QX=Fe(JX);function ZX(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var eJ=ZX,tJ=Yx;function rJ(e,t){var r=!0;return tJ(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var nJ=rJ,aJ=eJ,iJ=nJ,oJ=Gn,sJ=Er,lJ=qh;function cJ(e,t,r){var n=sJ(e)?aJ:iJ;return r&&lJ(e,t,r)&&(t=void 0),n(e,oJ(t))}var uJ=cJ;const s3=Fe(uJ);var dJ=["x","y"];function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(this,arguments)}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){fJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fJ(e,t,r){return t=hJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hJ(e){var t=pJ(e,"string");return Qc(t)=="symbol"?t:t+""}function pJ(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mJ(e,t){if(e==null)return{};var r=gJ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yJ(e,t){var r=e.x,n=e.y,a=mJ(e,dJ),o="".concat(r),s=parseInt(o,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),f=parseInt(u,10),d="".concat(t.width||a.width),h=parseInt(d,10);return $l($l($l($l($l({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function Xj(e){return O.createElement(e3,Z0({shapeType:"rectangle",propTransformer:yJ,activeClassName:"recharts-active-bar"},e))}var xJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=re(n)||q$(n);return o?t(n,a):(o||ao(!1),r)}},vJ=["value","background"],l3;function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function bJ(e,t){if(e==null)return{};var r=wJ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xf.apply(this,arguments)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u3(n.key),n)}}function kJ(e,t,r){return t&&Qj(e.prototype,t),r&&Qj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NJ(e,t,r){return t=Jf(t),SJ(e,c3()?Reflect.construct(t,r||[],Jf(e).constructor):t.apply(e,r))}function SJ(e,t){if(t&&(As(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AJ(e)}function AJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c3=function(){return!!e})()}function Jf(e){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jf(e)}function CJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}function ey(e,t){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ey(e,t)}function qa(e,t,r){return t=u3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u3(e){var t=PJ(e,"string");return As(t)=="symbol"?t:t+""}function PJ(e,t){if(As(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var on=function(e){function t(){var r;jJ(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=NJ(this,t,[].concat(a)),qa(r,"state",{isAnimationFinished:!1}),qa(r,"id",co("recharts-bar-")),qa(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),qa(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return CJ(t,e),kJ(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,s=o.shape,l=o.dataKey,c=o.activeIndex,u=o.activeBar,f=he(this.props,!1);return n&&n.map(function(d,h){var p=h===c,y=p?u:s,m=jt(jt(jt({},f),d),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return O.createElement(Se,Xf({className:"recharts-bar-rectangle"},eo(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),O.createElement(Xj,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return O.createElement(li,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=o.map(function(x,g){var v=h&&h[g];if(v){var b=$t(v.x,x.x),k=$t(v.y,x.y),w=$t(v.width,x.width),N=$t(v.height,x.height);return jt(jt({},x),{},{x:b(y),y:k(y),width:w(y),height:N(y)})}if(s==="horizontal"){var A=$t(0,x.height),P=A(y);return jt(jt({},x),{},{y:x.y+x.height-P,height:P})}var E=$t(0,x.width),M=E(y);return jt(jt({},x),{},{width:M})});return O.createElement(Se,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,s=this.state.prevData;return o&&a&&a.length&&(!s||!ro(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,s=a.dataKey,l=a.activeIndex,c=he(this.props.background,!1);return o.map(function(u,f){u.value;var d=u.background,h=bJ(u,vJ);if(!d)return null;var p=jt(jt(jt(jt(jt({},h),{},{fill:"#eee"},d),c),eo(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return O.createElement(Xj,Xf({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,l=o.xAxis,c=o.yAxis,u=o.layout,f=o.children,d=Br(f,mu);if(!d)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(x,g){var v=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:v,errorVal:vt(x,g)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement(Se,y,d.map(function(m){return O.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,g=be("recharts-bar",s),v=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,k=v||b,w=xe(m)?this.id:m;return O.createElement(Se,{className:g},v||b?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(w)},O.createElement("rect",{x:v?u:u-d/2,y:b?f:f-h/2,width:v?d:d*2,height:b?h:h*2}))):null,O.createElement(Se,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(w,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,w),(!p||x)&&Wn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(S.PureComponent);l3=on;qa(on,"displayName","Bar");qa(on,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qa(on,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=lH(n,r);if(!p)return null;var y=t.layout,m=r.type.defaultProps,x=m!==void 0?jt(jt({},m),r.props):r.props,g=x.dataKey,v=x.children,b=x.minPointSize,k=y==="horizontal"?s:o,w=u?k.scale.domain():null,N=mH({numericAxis:k}),A=Br(v,uu),P=d.map(function(E,M){var _,T,L,K,q,G;u?_=cH(u[f+M],w):(_=vt(E,g),Array.isArray(_)||(_=[N,_]));var Q=xJ(b,l3.defaultProps.minPointSize)(_[1],M);if(y==="horizontal"){var R,W=[s.scale(_[0]),s.scale(_[1])],Z=W[0],ie=W[1];T=B2({axis:o,ticks:l,bandSize:a,offset:p.offset,entry:E,index:M}),L=(R=ie??Z)!==null&&R!==void 0?R:void 0,K=p.size;var ee=Z-ie;if(q=Number.isNaN(ee)?0:ee,G={x:T,y:s.y,width:K,height:s.height},Math.abs(Q)>0&&Math.abs(q)<Math.abs(Q)){var fe=cr(q||Q)*(Math.abs(Q)-Math.abs(q));L-=fe,q+=fe}}else{var ke=[o.scale(_[0]),o.scale(_[1])],De=ke[0],ze=ke[1];if(T=De,L=B2({axis:s,ticks:c,bandSize:a,offset:p.offset,entry:E,index:M}),K=ze-De,q=p.size,G={x:o.x,y:L,width:o.width,height:q},Math.abs(Q)>0&&Math.abs(K)<Math.abs(Q)){var et=cr(K||Q)*(Math.abs(Q)-Math.abs(K));K+=et}}return jt(jt(jt({},E),{},{x:T,y:L,width:K,height:q,value:u?_:_[1],payload:E,background:G},A&&A[M]&&A[M].props),{},{tooltipPayload:[TC(r,E)],tooltipPosition:{x:T+K/2,y:L+q/2}})});return jt({data:P,layout:y},h)});function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function EJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d3(n.key),n)}}function OJ(e,t,r){return t&&Zj(e.prototype,t),r&&Zj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){dp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dp(e,t,r){return t=d3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d3(e){var t=_J(e,"string");return Zc(t)=="symbol"?t:t+""}function _J(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nv=function(t,r,n,a,o){var s=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Mr(u,on);return f.reduce(function(p,y){var m=r[y],x=m.orientation,g=m.domain,v=m.padding,b=v===void 0?{}:v,k=m.mirror,w=m.reversed,N="".concat(x).concat(k?"Mirror":""),A,P,E,M,_;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var T=g[1]-g[0],L=1/0,K=m.categoricalDomain.sort(X$);if(K.forEach(function(ke,De){De>0&&(L=Math.min((ke||0)-(K[De-1]||0),L))}),Number.isFinite(L)){var q=L/T,G=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(A=q*G/2),m.padding==="no-gap"){var Q=ur(t.barCategoryGap,q*G),R=q*G/2;A=R-Q-(R-Q)/G*Q}}}a==="xAxis"?P=[n.left+(b.left||0)+(A||0),n.left+n.width-(b.right||0)-(A||0)]:a==="yAxis"?P=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(A||0),n.top+n.height-(b.bottom||0)-(A||0)]:P=m.range,w&&(P=[P[1],P[0]]);var W=PC(m,o,h),Z=W.scale,ie=W.realScaleType;Z.domain(g).range(P),EC(Z);var ee=OC(Z,vn(vn({},m),{},{realScaleType:ie}));a==="xAxis"?(_=x==="top"&&!k||x==="bottom"&&k,E=n.left,M=d[N]-_*m.height):a==="yAxis"&&(_=x==="left"&&!k||x==="right"&&k,E=d[N]-_*m.width,M=n.top);var fe=vn(vn(vn({},m),ee),{},{realScaleType:ie,x:E,y:M,scale:Z,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return fe.bandSize=If(fe,ee),!m.hide&&a==="xAxis"?d[N]+=(_?-1:1)*fe.height:m.hide||(d[N]+=(_?-1:1)*fe.width),vn(vn({},p),{},dp({},y,fe))},{})},f3=function(t,r){var n=t.x,a=t.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(a,s),width:Math.abs(o-n),height:Math.abs(s-a)}},TJ=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return f3({x:r,y:n},{x:a,y:o})},h3=function(){function e(t){EJ(this,e),this.scale=t}return OJ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();dp(h3,"EPS",1e-4);var Sv=function(t){var r=Object.keys(t).reduce(function(n,a){return vn(vn({},n),{},dp({},a,h3.create(t[a])))},{});return vn(vn({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,l=o.position;return QX(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return s3(a,function(o,s){return r[s].isInRange(o)})}})};function $J(e){return(e%180+180)%180}var MJ=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=$J(a),s=o*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},IJ=Gn,DJ=cu,LJ=Hh;function RJ(e){return function(t,r,n){var a=Object(t);if(!DJ(t)){var o=IJ(r);t=LJ(t),r=function(l){return o(a[l],l,a)}}var s=e(t,r,n);return s>-1?a[o?t[s]:s]:void 0}}var FJ=RJ,BJ=n3;function zJ(e){var t=BJ(e),r=t%1;return t===t?r?t-r:t:0}var WJ=zJ,VJ=lA,UJ=Gn,HJ=WJ,KJ=Math.max;function qJ(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:HJ(r);return a<0&&(a=KJ(n+a,0)),VJ(e,UJ(t),a)}var GJ=qJ,YJ=FJ,XJ=GJ,JJ=YJ(XJ),QJ=JJ;const ZJ=Fe(QJ);var eQ=JT(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Av=S.createContext(void 0),Cv=S.createContext(void 0),p3=S.createContext(void 0),m3=S.createContext({}),g3=S.createContext(void 0),y3=S.createContext(0),x3=S.createContext(0),tk=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,f=eQ(o);return O.createElement(Av.Provider,{value:n},O.createElement(Cv.Provider,{value:a},O.createElement(m3.Provider,{value:o},O.createElement(p3.Provider,{value:f},O.createElement(g3.Provider,{value:s},O.createElement(y3.Provider,{value:u},O.createElement(x3.Provider,{value:c},l)))))))},tQ=function(){return S.useContext(g3)},v3=function(t){var r=S.useContext(Av);r==null&&ao(!1);var n=r[t];return n==null&&ao(!1),n},rQ=function(){var t=S.useContext(Av);return Va(t)},nQ=function(){var t=S.useContext(Cv),r=ZJ(t,function(n){return s3(n.domain,Number.isFinite)});return r||Va(t)},b3=function(t){var r=S.useContext(Cv);r==null&&ao(!1);var n=r[t];return n==null&&ao(!1),n},aQ=function(){var t=S.useContext(p3);return t},iQ=function(){return S.useContext(m3)},Pv=function(){return S.useContext(x3)},Ev=function(){return S.useContext(y3)};function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function oQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j3(n.key),n)}}function sQ(e,t,r){return t&&rk(e.prototype,t),r&&rk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lQ(e,t,r){return t=Qf(t),cQ(e,w3()?Reflect.construct(t,r||[],Qf(e).constructor):t.apply(e,r))}function cQ(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uQ(e)}function uQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w3=function(){return!!e})()}function Qf(e){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qf(e)}function dQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ty(e,t)}function ty(e,t){return ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ty(e,t)}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ak(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){Ov(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ov(e,t,r){return t=j3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j3(e){var t=fQ(e,"string");return Cs(t)=="symbol"?t:t+""}function fQ(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hQ(e,t){return yQ(e)||gQ(e,t)||mQ(e,t)||pQ()}function pQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mQ(e,t){if(e){if(typeof e=="string")return ik(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ik(e,t)}}function ik(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function yQ(e){if(Array.isArray(e))return e}function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(this,arguments)}var xQ=function(t,r){var n;return O.isValidElement(t)?n=O.cloneElement(t,r):ge(t)?n=t(r):n=O.createElement("line",ry({},r,{className:"recharts-reference-line-line"})),n},vQ=function(t,r,n,a,o,s,l,c,u){var f=o.x,d=o.y,h=o.width,p=o.height;if(n){var y=u.y,m=t.y.apply(y,{position:s});if(Vn(u,"discard")&&!t.y.isInRange(m))return null;var x=[{x:f+h,y:m},{x:f,y:m}];return c==="left"?x.reverse():x}if(r){var g=u.x,v=t.x.apply(g,{position:s});if(Vn(u,"discard")&&!t.x.isInRange(v))return null;var b=[{x:v,y:d+p},{x:v,y:d}];return l==="top"?b.reverse():b}if(a){var k=u.segment,w=k.map(function(N){return t.apply(N,{position:s})});return Vn(u,"discard")&&UX(w,function(N){return!t.isInRange(N)})?null:w}return null};function bQ(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=tQ(),f=v3(a),d=b3(o),h=aQ();if(!u||!h)return null;An(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Sv({x:f.scale,y:d.scale}),y=It(t),m=It(r),x=n&&n.length===2,g=vQ(p,y,m,x,h,e.position,f.orientation,d.orientation,e);if(!g)return null;var v=hQ(g,2),b=v[0],k=b.x,w=b.y,N=v[1],A=N.x,P=N.y,E=Vn(e,"hidden")?"url(#".concat(u,")"):void 0,M=ak(ak({clipPath:E},he(e,!0)),{},{x1:k,y1:w,x2:A,y2:P});return O.createElement(Se,{className:be("recharts-reference-line",l)},xQ(s,M),zt.renderCallByParent(e,TJ({x1:k,y1:w,x2:A,y2:P})))}var _v=function(e){function t(){return oQ(this,t),lQ(this,t,arguments)}return dQ(t,e),sQ(t,[{key:"render",value:function(){return O.createElement(bQ,this.props)}}])}(O.Component);Ov(_v,"displayName","ReferenceLine");Ov(_v,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ny.apply(this,arguments)}function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){fp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N3(n.key),n)}}function jQ(e,t,r){return t&&lk(e.prototype,t),r&&lk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kQ(e,t,r){return t=Zf(t),NQ(e,k3()?Reflect.construct(t,r||[],Zf(e).constructor):t.apply(e,r))}function NQ(e,t){if(t&&(Ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SQ(e)}function SQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k3=function(){return!!e})()}function Zf(e){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zf(e)}function AQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ay(e,t)}function ay(e,t){return ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ay(e,t)}function fp(e,t,r){return t=N3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N3(e){var t=CQ(e,"string");return Ps(t)=="symbol"?t:t+""}function CQ(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PQ=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,s=Sv({x:a.scale,y:o.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return Vn(t,"discard")&&!s.isInRange(l)?null:l},hp=function(e){function t(){return wQ(this,t),kQ(this,t,arguments)}return AQ(t,e),jQ(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=It(a),f=It(o);if(An(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=PQ(this.props);if(!d)return null;var h=d.x,p=d.y,y=this.props,m=y.shape,x=y.className,g=Vn(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=sk(sk({clipPath:g},he(this.props,!0)),{},{cx:h,cy:p});return O.createElement(Se,{className:be("recharts-reference-dot",x)},t.renderDot(m,v),zt.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(O.Component);fp(hp,"displayName","ReferenceDot");fp(hp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});fp(hp,"renderDot",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):ge(e)?r=e(t):r=O.createElement(gu,ny({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iy.apply(this,arguments)}function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){pp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A3(n.key),n)}}function OQ(e,t,r){return t&&dk(e.prototype,t),r&&dk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Q(e,t,r){return t=eh(t),TQ(e,S3()?Reflect.construct(t,r||[],eh(e).constructor):t.apply(e,r))}function TQ(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Q(e)}function $Q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S3=function(){return!!e})()}function eh(e){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eh(e)}function MQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oy(e,t)}function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oy(e,t)}function pp(e,t,r){return t=A3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A3(e){var t=IQ(e,"string");return Es(t)=="symbol"?t:t+""}function IQ(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DQ=function(t,r,n,a,o){var s=o.x1,l=o.x2,c=o.y1,u=o.y2,f=o.xAxis,d=o.yAxis;if(!f||!d)return null;var h=Sv({x:f.scale,y:d.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Vn(o,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:f3(p,y)},mp=function(e){function t(){return EQ(this,t),_Q(this,t,arguments)}return MQ(t,e),OQ(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;An(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=It(a),h=It(o),p=It(s),y=It(l),m=this.props.shape;if(!d&&!h&&!p&&!y&&!m)return null;var x=DQ(d,h,p,y,this.props);if(!x&&!m)return null;var g=Vn(this.props,"hidden")?"url(#".concat(f,")"):void 0;return O.createElement(Se,{className:be("recharts-reference-area",c)},t.renderRect(m,uk(uk({clipPath:g},he(this.props,!0)),x)),zt.renderCallByParent(this.props,x))}}])}(O.Component);pp(mp,"displayName","ReferenceArea");pp(mp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});pp(mp,"renderRect",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):ge(e)?r=e(t):r=O.createElement(kv,iy({},t,{className:"recharts-reference-area-rect"})),r});function C3(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)if(r===void 0||r(e[a])===!0)n.push(e[a]);else return;return n}function LQ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return MJ(n,r)}function RQ(e,t,r){var n=r==="width",a=e.x,o=e.y,s=e.width,l=e.height;return t===1?{start:n?a:o,end:n?a+s:o+l}:{start:n?a+s:o+l,end:n?a:o}}function th(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function FQ(e,t){return C3(e,t+1)}function BQ(e,t,r,n,a){for(var o=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,f=s,d=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:C3(n,u)};var m=c,x,g=function(){return x===void 0&&(x=r(y,m)),x},v=y.coordinate,b=c===0||th(e,v,g,f,l);b||(c=0,f=s,u+=1),b&&(f=v+e*(g()/2+a),c+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){zQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zQ(e,t,r){return t=WQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=VQ(e,"string");return eu(t)=="symbol"?t:t+""}function VQ(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UQ(e,t,r,n,a){for(var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end,u=function(h){var p=o[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===s-1){var x=e*(p.coordinate+e*m()/2-c);o[h]=p=rr(rr({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else o[h]=p=rr(rr({},p),{},{tickCoord:p.coordinate});var g=th(e,p.tickCoord,m,l,c);g&&(c=p.tickCoord-e*(m()/2+a),o[h]=rr(rr({},p),{},{isShow:!0}))},f=s-1;f>=0;f--)u(f);return o}function HQ(e,t,r,n,a,o){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(o){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);s[l-1]=f=rr(rr({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=th(e,f.tickCoord,function(){return d},c,u);p&&(u=f.tickCoord-e*(d/2+a),s[l-1]=rr(rr({},f),{},{isShow:!0}))}for(var y=o?l-1:l,m=function(v){var b=s[v],k,w=function(){return k===void 0&&(k=r(b,v)),k};if(v===0){var N=e*(b.coordinate-e*w()/2-c);s[v]=b=rr(rr({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else s[v]=b=rr(rr({},b),{},{tickCoord:b.coordinate});var A=th(e,b.tickCoord,w,c,u);A&&(c=b.tickCoord+e*(w()/2+a),s[v]=rr(rr({},b),{},{isShow:!0}))},x=0;x<y;x++)m(x);return s}function Tv(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(re(c)||Pn.isSsr)return FQ(a,typeof c=="number"&&re(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=f&&p==="width"?Jl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,k){var w=ge(u)?u(b.value,k):b.value;return p==="width"?LQ(Jl(w,{fontSize:t,letterSpacing:r}),y,d):Jl(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?cr(a[1].coordinate-a[0].coordinate):1,g=RQ(o,x,p);return c==="equidistantPreserveStart"?BQ(x,g,m,a,s):(c==="preserveStart"||c==="preserveStartEnd"?h=HQ(x,g,m,a,s,c==="preserveStartEnd"):h=UQ(x,g,m,a,s),h.filter(function(v){return v.isShow}))}var KQ=["viewBox"],qQ=["viewBox"],GQ=["ticks"];function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qo.apply(this,arguments)}function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(n){$v(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bm(e,t){if(e==null)return{};var r=YQ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E3(n.key),n)}}function JQ(e,t,r){return t&&pk(e.prototype,t),r&&pk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QQ(e,t,r){return t=rh(t),ZQ(e,P3()?Reflect.construct(t,r||[],rh(e).constructor):t.apply(e,r))}function ZQ(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eZ(e)}function eZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P3=function(){return!!e})()}function rh(e){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rh(e)}function tZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sy(e,t)}function sy(e,t){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sy(e,t)}function $v(e,t,r){return t=E3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E3(e){var t=rZ(e,"string");return Os(t)=="symbol"?t:t+""}function rZ(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qs=function(e){function t(r){var n;return XQ(this,t),n=QQ(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return tZ(t,e),JQ(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,s=Bm(n,KQ),l=this.props,c=l.viewBox,u=Bm(l,qQ);return!ts(o,c)||!ts(s,u)||!ts(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,y,m,x,g,v,b=d?-1:1,k=n.tickSize||f,w=re(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,x=s+ +!d*c,m=x-b*k,v=m-b*h,g=w;break;case"left":m=x=n.coordinate,y=o+ +!d*l,p=y-b*k,g=p-b*h,v=w;break;case"right":m=x=n.coordinate,y=o+ +d*l,p=y+b*k,g=p+b*h,v=w;break;default:p=y=n.coordinate,x=s+ +d*c,m=x+b*k,v=m+b*h,g=w;break}return{line:{x1:p,y1:m,x2:y,y2:x},tick:{x:g,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,s;switch(a){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=Ot(Ot(Ot({},he(this.props,!1)),he(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=Ot(Ot({},d),{},{x1:a,y1:o+h*l,x2:a+s,y2:o+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=Ot(Ot({},d),{},{x1:a+p*s,y1:o,x2:a+p*s,y2:o+l})}return O.createElement("line",qo({},d,{className:be("recharts-cartesian-axis-line",Fr(f,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var s=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,p=Tv(Ot(Ot({},this.props),{},{ticks:n}),a,o),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=he(this.props,!1),g=he(f,!1),v=Ot(Ot({},x),{},{fill:"none"},he(c,!1)),b=p.map(function(k,w){var N=s.getTickLineCoord(k),A=N.line,P=N.tick,E=Ot(Ot(Ot(Ot({textAnchor:y,verticalAnchor:m},x),{},{stroke:"none",fill:u},g),P),{},{index:w,payload:k,visibleTicksCount:p.length,tickFormatter:d});return O.createElement(Se,qo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},eo(s.props,k,w)),c&&O.createElement("line",qo({},v,A,{className:be("recharts-cartesian-axis-tick-line",Fr(c,"className"))})),f&&t.renderTickItem(f,E,"".concat(ge(d)?d(k.value,w):k.value).concat(h||"")))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=Bm(d,GQ),y=h;return ge(c)&&(y=h&&h.length>0?c(this.props):c(p)),s<=0||l<=0||!y||!y.length?null:O.createElement(Se,{className:be("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),zt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var s,l=be(a.className,"recharts-cartesian-axis-tick-value");return O.isValidElement(n)?s=O.cloneElement(n,Ot(Ot({},a),{},{className:l})):ge(n)?s=n(Ot(Ot({},a),{},{className:l})):s=O.createElement(to,qo({},a,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(S.Component);$v(Qs,"displayName","CartesianAxis");$v(Qs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nZ=["x1","y1","x2","y2","key"],aZ=["offset"];function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(n){iZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iZ(e,t,r){return t=oZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oZ(e){var t=sZ(e,"string");return io(t)=="symbol"?t:t+""}function sZ(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(this,arguments)}function gk(e,t){if(e==null)return{};var r=lZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cZ=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.ry;return O.createElement("rect",{x:a,y:o,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function O3(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(ge(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,s=t.y2,l=t.key,c=gk(t,nZ),u=he(c,!1);u.offset;var f=gk(u,aZ);r=O.createElement("line",Bi({},f,{x1:n,y1:a,x2:o,y2:s,fill:"none",key:l}))}return r}function uZ(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var s=o.map(function(l,c){var u=ar(ar({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return O3(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function dZ(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var s=o.map(function(l,c){var u=ar(ar({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return O3(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function fZ(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],m=y?a+s-h:f[p+1]-h;if(m<=0)return null;var x=p%t.length;return O.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:o,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function hZ(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],m=y?o+l-h:f[p+1]-h;if(m<=0)return null;var x=p%n.length;return O.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var pZ=function(t,r){var n=t.xAxis,a=t.width,o=t.height,s=t.offset;return CC(Tv(ar(ar(ar({},Qs.defaultProps),n),{},{ticks:pa(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),s.left,s.left+s.width,r)},mZ=function(t,r){var n=t.yAxis,a=t.width,o=t.height,s=t.offset;return CC(Tv(ar(ar(ar({},Qs.defaultProps),n),{},{ticks:pa(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),s.top,s.top+s.height,r)},Po={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Sr(e){var t,r,n,a,o,s,l=Pv(),c=Ev(),u=iQ(),f=ar(ar({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Po.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Po.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Po.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Po.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Po.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Po.verticalFill,x:re(e.x)?e.x:u.left,y:re(e.y)?e.y:u.top,width:re(e.width)?e.width:u.width,height:re(e.height)?e.height:u.height}),d=f.x,h=f.y,p=f.width,y=f.height,m=f.syncWithTicks,x=f.horizontalValues,g=f.verticalValues,v=rQ(),b=nQ();if(!re(p)||p<=0||!re(y)||y<=0||!re(d)||d!==+d||!re(h)||h!==+h)return null;var k=f.verticalCoordinatesGenerator||pZ,w=f.horizontalCoordinatesGenerator||mZ,N=f.horizontalPoints,A=f.verticalPoints;if((!N||!N.length)&&ge(w)){var P=x&&x.length,E=w({yAxis:b?ar(ar({},b),{},{ticks:P?x:b.ticks}):void 0,width:l,height:c,offset:u},P?!0:m);An(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(io(E),"]")),Array.isArray(E)&&(N=E)}if((!A||!A.length)&&ge(k)){var M=g&&g.length,_=k({xAxis:v?ar(ar({},v),{},{ticks:M?g:v.ticks}):void 0,width:l,height:c,offset:u},M?!0:m);An(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(io(_),"]")),Array.isArray(_)&&(A=_)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(cZ,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),O.createElement(uZ,Bi({},f,{offset:u,horizontalPoints:N,xAxis:v,yAxis:b})),O.createElement(dZ,Bi({},f,{offset:u,verticalPoints:A,xAxis:v,yAxis:b})),O.createElement(fZ,Bi({},f,{horizontalPoints:N})),O.createElement(hZ,Bi({},f,{verticalPoints:A})))}Sr.displayName="CartesianGrid";var gZ=["type","layout","connectNulls","ref"],yZ=["key"];function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function yk(e,t){if(e==null)return{};var r=xZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nc.apply(this,arguments)}function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(n){bn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eo(e){return jZ(e)||wZ(e)||bZ(e)||vZ()}function vZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bZ(e,t){if(e){if(typeof e=="string")return ly(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ly(e,t)}}function wZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jZ(e){if(Array.isArray(e))return ly(e)}function ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T3(n.key),n)}}function NZ(e,t,r){return t&&vk(e.prototype,t),r&&vk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SZ(e,t,r){return t=nh(t),AZ(e,_3()?Reflect.construct(t,r||[],nh(e).constructor):t.apply(e,r))}function AZ(e,t){if(t&&(_s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CZ(e)}function CZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_3=function(){return!!e})()}function nh(e){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nh(e)}function PZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cy(e,t)}function cy(e,t){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cy(e,t)}function bn(e,t,r){return t=T3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T3(e){var t=EZ(e,"string");return _s(t)=="symbol"?t:t+""}function EZ(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yu=function(e){function t(){var r;kZ(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=SZ(this,t,[].concat(a)),bn(r,"state",{isAnimationFinished:!0,totalLength:0}),bn(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),bn(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(g,v){return g+v});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var f=Math.floor(s/u),d=s%u,h=l-s,p=[],y=0,m=0;y<c.length;m+=c[y],++y)if(m+c[y]>d){p=[].concat(Eo(c.slice(0,y)),[d-m]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Eo(t.repeat(c,f)),Eo(p),x).map(function(g){return"".concat(g,"px")}).join(", ")}),bn(r,"id",co("recharts-line-")),bn(r,"pathRef",function(s){r.mainCurve=s}),bn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),bn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return PZ(t,e),NZ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,l=o.xAxis,c=o.yAxis,u=o.layout,f=o.children,d=Br(f,mu);if(!d)return null;var h=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:vt(m.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement(Se,p,d.map(function(y){return O.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=he(this.props,!1),h=he(c,!0),p=u.map(function(m,x){var g=_r(_r(_r({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:m.x,cy:m.y,value:m.value,dataKey:f,payload:m.payload,points:u});return t.renderDotItem(c,g)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return O.createElement(Se,nc({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,a,o,s){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=yk(l,gZ),h=_r(_r(_r({},he(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:f});return O.createElement(Ki,nc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,f=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,y=s.animateNewValues,m=s.width,x=s.height,g=this.state,v=g.prevPoints,b=g.totalLength;return O.createElement(li,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var w=k.t;if(v){var N=v.length/l.length,A=l.map(function(T,L){var K=Math.floor(L*N);if(v[K]){var q=v[K],G=$t(q.x,T.x),Q=$t(q.y,T.y);return _r(_r({},T),{},{x:G(w),y:Q(w)})}if(y){var R=$t(m*2,T.x),W=$t(x/2,T.y);return _r(_r({},T),{},{x:R(w),y:W(w)})}return _r(_r({},T),{},{x:T.x,y:T.y})});return o.renderCurveStatically(A,n,a)}var P=$t(0,b),E=P(w),M;if(c){var _="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});M=o.getStrokeDasharray(E,b,_)}else M=o.generateSimpleStrokeDasharray(b,E);return o.renderCurveStatically(l,n,a,{strokeDasharray:M})})}},{key:"renderCurve",value:function(n,a){var o=this.props,s=o.points,l=o.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&s&&s.length&&(!u&&f>0||!ro(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,s=a.dot,l=a.points,c=a.className,u=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,y=a.height,m=a.isAnimationActive,x=a.id;if(o||!l||!l.length)return null;var g=this.state.isAnimationFinished,v=l.length===1,b=be("recharts-line",c),k=u&&u.allowDataOverflow,w=f&&f.allowDataOverflow,N=k||w,A=xe(x)?this.id:x,P=(n=he(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=P.r,M=E===void 0?3:E,_=P.strokeWidth,T=_===void 0?2:_,L=v5(s)?s:{},K=L.clipDot,q=K===void 0?!0:K,G=M*2+T;return O.createElement(Se,{className:b},k||w?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(A)},O.createElement("rect",{x:k?h:h-p/2,y:w?d:d-y/2,width:k?p:p*2,height:w?y:y*2})),!q&&O.createElement("clipPath",{id:"clipPath-dots-".concat(A)},O.createElement("rect",{x:h-G/2,y:d-G/2,width:p+G,height:y+G}))):null,!v&&this.renderCurve(N,A),this.renderErrorBar(N,A),(v||s)&&this.renderDots(N,q,A),(!m||g)&&Wn.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Eo(n),[0]):n,s=[],l=0;l<a;++l)s=[].concat(Eo(s),Eo(o));return s}},{key:"renderDotItem",value:function(n,a){var o;if(O.isValidElement(n))o=O.cloneElement(n,a);else if(ge(n))o=n(a);else{var s=a.key,l=yk(a,yZ),c=be("recharts-line-dot",typeof n!="boolean"?n.className:"");o=O.createElement(gu,nc({key:s},l,{className:c}))}return o}}])}(S.PureComponent);bn(yu,"displayName","Line");bn(yu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});bn(yu,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,p){var y=vt(h,s);return f==="horizontal"?{x:Mf({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:xe(y)?null:n.scale(y),value:y,payload:h}:{x:xe(y)?null:r.scale(y),y:Mf({axis:n,ticks:o,bandSize:l,entry:h,index:p}),value:y,payload:h}});return _r({points:d,layout:f},u)});var OZ=["layout","type","stroke","connectNulls","isRange","ref"],_Z=["key"],$3;function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function M3(e,t){if(e==null)return{};var r=TZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zi.apply(this,arguments)}function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(n){Rn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D3(n.key),n)}}function MZ(e,t,r){return t&&wk(e.prototype,t),r&&wk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IZ(e,t,r){return t=ah(t),DZ(e,I3()?Reflect.construct(t,r||[],ah(e).constructor):t.apply(e,r))}function DZ(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LZ(e)}function LZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!e})()}function ah(e){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ah(e)}function RZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uy(e,t)}function uy(e,t){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uy(e,t)}function Rn(e,t,r){return t=D3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D3(e){var t=FZ(e,"string");return Ts(t)=="symbol"?t:t+""}function FZ(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ht=function(e){function t(){var r;$Z(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=IZ(this,t,[].concat(a)),Rn(r,"state",{isAnimationFinished:!0}),Rn(r,"id",co("recharts-area-")),Rn(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ge(s)&&s()}),Rn(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ge(s)&&s()}),r}return RZ(t,e),MZ(t,[{key:"renderDots",value:function(n,a,o){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,u=c.dot,f=c.points,d=c.dataKey,h=he(this.props,!1),p=he(u,!0),y=f.map(function(x,g){var v=La(La(La({key:"dot-".concat(g),r:3},h),p),{},{index:g,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:f});return t.renderDotItem(u,v)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return O.createElement(Se,zi({className:"recharts-area-dots"},m),y)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].x,u=s[s.length-1].x,f=n*Math.abs(c-u),d=Ka(s.map(function(h){return h.y||0}));return re(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Ka(o.map(function(h){return h.y||0})),d)),re(d)?O.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(d+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].y,u=s[s.length-1].y,f=n*Math.abs(c-u),d=Ka(s.map(function(h){return h.x||0}));return re(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Ka(o.map(function(h){return h.x||0})),d)),re(d)?O.createElement("rect",{x:0,y:c<u?c:c-f,width:d+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,s){var l=this.props,c=l.layout,u=l.type,f=l.stroke,d=l.connectNulls,h=l.isRange;l.ref;var p=M3(l,OZ);return O.createElement(Se,{clipPath:o?"url(#clipPath-".concat(s,")"):null},O.createElement(Ki,zi({},he(p,!0),{points:n,connectNulls:d,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&O.createElement(Ki,zi({},he(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&O.createElement(Ki,zi({},he(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,s=this.props,l=s.points,c=s.baseLine,u=s.isAnimationActive,f=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,y=this.state,m=y.prevPoints,x=y.prevBaseLine;return O.createElement(li,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t;if(m){var b=m.length/l.length,k=l.map(function(P,E){var M=Math.floor(E*b);if(m[M]){var _=m[M],T=$t(_.x,P.x),L=$t(_.y,P.y);return La(La({},P),{},{x:T(v),y:L(v)})}return P}),w;if(re(c)&&typeof c=="number"){var N=$t(x,c);w=N(v)}else if(xe(c)||Hs(c)){var A=$t(x,0);w=A(v)}else w=c.map(function(P,E){var M=Math.floor(E*b);if(x[M]){var _=x[M],T=$t(_.x,P.x),L=$t(_.y,P.y);return La(La({},P),{},{x:T(v),y:L(v)})}return P});return o.renderAreaStatically(k,w,n,a)}return O.createElement(Se,null,O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(v))),O.createElement(Se,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,u=this.state,f=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!f&&h>0||!ro(f,s)||!ro(d,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,l,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,s=a.dot,l=a.points,c=a.className,u=a.top,f=a.left,d=a.xAxis,h=a.yAxis,p=a.width,y=a.height,m=a.isAnimationActive,x=a.id;if(o||!l||!l.length)return null;var g=this.state.isAnimationFinished,v=l.length===1,b=be("recharts-area",c),k=d&&d.allowDataOverflow,w=h&&h.allowDataOverflow,N=k||w,A=xe(x)?this.id:x,P=(n=he(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=P.r,M=E===void 0?3:E,_=P.strokeWidth,T=_===void 0?2:_,L=v5(s)?s:{},K=L.clipDot,q=K===void 0?!0:K,G=M*2+T;return O.createElement(Se,{className:b},k||w?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(A)},O.createElement("rect",{x:k?f:f-p/2,y:w?u:u-y/2,width:k?p:p*2,height:w?y:y*2})),!q&&O.createElement("clipPath",{id:"clipPath-dots-".concat(A)},O.createElement("rect",{x:f-G/2,y:u-G/2,width:p+G,height:y+G}))):null,v?null:this.renderArea(N,A),(s||v)&&this.renderDots(N,q,A),(!m||g)&&Wn.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(S.PureComponent);$3=Ht;Rn(Ht,"displayName","Area");Rn(Ht,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Pn.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Rn(Ht,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,s=t.props.baseValue,l=s??o;if(re(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return l==="dataMin"?d:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Rn(Ht,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,y=u&&u.length,m=$3.getBaseValue(t,r,n,a),x=p==="horizontal",g=!1,v=d.map(function(k,w){var N;y?N=u[f+w]:(N=vt(k,c),Array.isArray(N)?g=!0:N=[m,N]);var A=N[1]==null||y&&vt(k,c)==null;return x?{x:Mf({axis:n,ticks:o,bandSize:l,entry:k,index:w}),y:A?null:a.scale(N[1]),value:N,payload:k}:{x:A?null:n.scale(N[1]),y:Mf({axis:a,ticks:s,bandSize:l,entry:k,index:w}),value:N,payload:k}}),b;return y||g?b=v.map(function(k){var w=Array.isArray(k.value)?k.value[0]:null;return x?{x:k.x,y:w!=null&&k.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:k.y}}):b=x?a.scale(m):n.scale(m),La({points:v,baseLine:b,layout:p,isRange:g},h)});Rn(Ht,"renderDotItem",function(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(ge(e))r=e(t);else{var n=be("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=M3(t,_Z);r=O.createElement(gu,zi({},o,{key:a,className:n}))}return r});function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function BZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F3(n.key),n)}}function zZ(e,t,r){return t&&jk(e.prototype,t),r&&jk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WZ(e,t,r){return t=ih(t),VZ(e,L3()?Reflect.construct(t,r||[],ih(e).constructor):t.apply(e,r))}function VZ(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UZ(e)}function UZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L3=function(){return!!e})()}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(e)}function HZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dy(e,t)}function dy(e,t){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dy(e,t)}function R3(e,t,r){return t=F3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F3(e){var t=KZ(e,"string");return $s(t)=="symbol"?t:t+""}function KZ(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(this,arguments)}function qZ(e){var t=e.xAxisId,r=Pv(),n=Ev(),a=v3(t);return a==null?null:S.createElement(Qs,fy({},a,{className:be("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return pa(s,!0)}}))}var Wt=function(e){function t(){return BZ(this,t),WZ(this,t,arguments)}return HZ(t,e),zZ(t,[{key:"render",value:function(){return S.createElement(qZ,this.props)}}])}(S.Component);R3(Wt,"displayName","XAxis");R3(Wt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function GZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W3(n.key),n)}}function YZ(e,t,r){return t&&kk(e.prototype,t),r&&kk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XZ(e,t,r){return t=oh(t),JZ(e,B3()?Reflect.construct(t,r||[],oh(e).constructor):t.apply(e,r))}function JZ(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QZ(e)}function QZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B3=function(){return!!e})()}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oh(e)}function ZZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hy(e,t)}function hy(e,t){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hy(e,t)}function z3(e,t,r){return t=W3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W3(e){var t=eee(e,"string");return Ms(t)=="symbol"?t:t+""}function eee(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(this,arguments)}var tee=function(t){var r=t.yAxisId,n=Pv(),a=Ev(),o=b3(r);return o==null?null:S.createElement(Qs,py({},o,{className:be("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return pa(l,!0)}}))},Vt=function(e){function t(){return GZ(this,t),XZ(this,t,arguments)}return ZZ(t,e),YZ(t,[{key:"render",value:function(){return S.createElement(tee,this.props)}}])}(S.Component);z3(Vt,"displayName","YAxis");z3(Vt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Nk(e){return iee(e)||aee(e)||nee(e)||ree()}function ree(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nee(e,t){if(e){if(typeof e=="string")return my(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return my(e,t)}}function aee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iee(e){if(Array.isArray(e))return my(e)}function my(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gy=function(t,r,n,a,o){var s=Br(t,_v),l=Br(t,hp),c=[].concat(Nk(s),Nk(l)),u=Br(t,mp),f="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(m,x){if(x.props[f]===n&&Vn(x.props,"extendDomain")&&re(x.props[d])){var g=x.props[d];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},h)),u.length){var p="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(m,x){if(x.props[f]===n&&Vn(x.props,"extendDomain")&&re(x.props[p])&&re(x.props[y])){var g=x.props[p],v=x.props[y];return[Math.min(m[0],g,v),Math.max(m[1],g,v)]}return m},h)}return o&&o.length&&(h=o.reduce(function(m,x){return re(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},h)),h},V3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function o(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,y=new Array(p);h<p;h++)y[h]=d[h].fn;return y},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,p,y){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],g=arguments.length,v,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,d),!0;case 4:return x.fn.call(x.context,f,d,h),!0;case 5:return x.fn.call(x.context,f,d,h,p),!0;case 6:return x.fn.call(x.context,f,d,h,p,y),!0}for(b=1,v=new Array(g-1);b<g;b++)v[b-1]=arguments[b];x.fn.apply(x.context,v)}else{var k=x.length,w;for(b=0;b<k;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),g){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,f);break;case 3:x[b].fn.call(x[b].context,f,d);break;case 4:x[b].fn.call(x[b].context,f,d,h);break;default:if(!v)for(w=1,v=new Array(g-1);w<g;w++)v[w-1]=arguments[w];x[b].fn.apply(x[b].context,v)}}return!0},l.prototype.on=function(u,f,d){return o(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return o(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===f&&(!h||y.once)&&(!d||y.context===d)&&s(this,p);else{for(var m=0,x=[],g=y.length;m<g;m++)(y[m].fn!==f||h&&!y[m].once||d&&y[m].context!==d)&&x.push(y[m]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(V3);var oee=V3.exports;const see=Fe(oee);var zm=new see,Wm="recharts.syncMouseEvents";function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function lee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U3(n.key),n)}}function cee(e,t,r){return t&&Sk(e.prototype,t),r&&Sk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vm(e,t,r){return t=U3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U3(e){var t=uee(e,"string");return tu(t)=="symbol"?t:t+""}function uee(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dee=function(){function e(){lee(this,e),Vm(this,"activeIndex",0),Vm(this,"coordinateList",[]),Vm(this,"layout","horizontal")}return cee(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+c+u,h=s+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function fee(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&re(n)&&re(a))return!0}return!1}function hee(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function H3(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,s=Ze(t,r,n,a),l=Ze(t,r,n,o);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function pee(e,t,r){var n,a,o,s;if(e==="horizontal")n=t.x,o=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=Ze(l,c,u,d),p=Ze(l,c,f,d);n=h.x,a=h.y,o=p.x,s=p.y}else return H3(t);return[{x:n,y:a},{x:o,y:s}]}function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(n){mee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mee(e,t,r){return t=gee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gee(e){var t=yee(e,"string");return ru(t)=="symbol"?t:t+""}function yee(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xee(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!s||h!=="ScatterChart"&&a!=="axis")return null;var y,m=Ki;if(h==="ScatterChart")y=s,m=TG;else if(h==="BarChart")y=hee(d,s,c,f),m=kv;else if(d==="radial"){var x=H3(s),g=x.cx,v=x.cy,b=x.radius,k=x.startAngle,w=x.endAngle;y={cx:g,cy:v,startAngle:k,endAngle:w,innerRadius:b,outerRadius:b},m=RC}else y={points:pee(d,s,c)},m=Ki;var N=ld(ld(ld(ld({stroke:"#ccc",pointerEvents:"none"},c),y),he(p,!1)),{},{payload:l,payloadIndex:u,className:be("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,N):S.createElement(m,N)}var vee=["item"],bee=["children","className","width","height","style","compact","title","desc"];function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Go.apply(this,arguments)}function Ck(e,t){return kee(e)||jee(e,t)||q3(e,t)||wee()}function wee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function kee(e){if(Array.isArray(e))return e}function Pk(e,t){if(e==null)return{};var r=Nee(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function See(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ek(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G3(n.key),n)}}function Aee(e,t,r){return t&&Ek(e.prototype,t),r&&Ek(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cee(e,t,r){return t=sh(t),Pee(e,K3()?Reflect.construct(t,r||[],sh(e).constructor):t.apply(e,r))}function Pee(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eee(e)}function Eee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K3=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sh(e)}function Oee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yy(e,t)}function yy(e,t){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yy(e,t)}function Ds(e){return $ee(e)||Tee(e)||q3(e)||_ee()}function _ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q3(e,t){if(e){if(typeof e=="string")return xy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xy(e,t)}}function Tee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ee(e){if(Array.isArray(e))return xy(e)}function xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(n){me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function me(e,t,r){return t=G3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G3(e){var t=Mee(e,"string");return Is(t)=="symbol"?t:t+""}function Mee(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iee={xAxis:["bottom","top"],yAxis:["left","right"]},Dee={width:"100%",height:"100%"},Y3={x:0,y:0};function cd(e){return e}var Lee=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Ree=function(t,r,n,a){var o=r.find(function(f){return f&&f.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var s=o.coordinate,l=a.radius;return X(X(X({},a),Ze(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=o.coordinate,u=a.angle;return X(X(X({},a),Ze(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Y3},gp=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ds(l),Ds(u)):l},[]);return s.length>0?s:t&&t.length&&re(a)&&re(o)?t.slice(a,o+1):[]};function X3(e){return e==="number"?[0,"auto"]:void 0}var vy=function(t,r,n,a){var o=t.graphicalItems,s=t.tooltipAxis,l=gp(r,t);return n<0||!o||!o.length||n>=l.length?null:o.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?l:d;h=of(p,s.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(Ds(c),[TC(u,h)]):c},[])},_k=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},s=Lee(o,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=rH(s,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=vy(t,r,f,d),p=Ree(n,l,f,o);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},Fee=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=AC(f,o);return n.reduce(function(y,m){var x,g=m.type.defaultProps!==void 0?X(X({},m.type.defaultProps),m.props):m.props,v=g.type,b=g.dataKey,k=g.allowDataOverflow,w=g.allowDuplicatedCategory,N=g.scale,A=g.ticks,P=g.includeHidden,E=g[s];if(y[E])return y;var M=gp(t.data,{graphicalItems:a.filter(function(ee){var fe,ke=s in ee.props?ee.props[s]:(fe=ee.type.defaultProps)===null||fe===void 0?void 0:fe[s];return ke===E}),dataStartIndex:c,dataEndIndex:u}),_=M.length,T,L,K;fee(g.domain,k,v)&&(T=T0(g.domain,null,k),p&&(v==="number"||N!=="auto")&&(K=Zl(M,b,"category")));var q=X3(v);if(!T||T.length===0){var G,Q=(G=g.domain)!==null&&G!==void 0?G:q;if(b){if(T=Zl(M,b,v),v==="category"&&p){var R=Y$(T);w&&R?(L=T,T=qf(0,_)):w||(T=V2(Q,T,m).reduce(function(ee,fe){return ee.indexOf(fe)>=0?ee:[].concat(Ds(ee),[fe])},[]))}else if(v==="category")w?T=T.filter(function(ee){return ee!==""&&!xe(ee)}):T=V2(Q,T,m).reduce(function(ee,fe){return ee.indexOf(fe)>=0||fe===""||xe(fe)?ee:[].concat(Ds(ee),[fe])},[]);else if(v==="number"){var W=sH(M,a.filter(function(ee){var fe,ke,De=s in ee.props?ee.props[s]:(fe=ee.type.defaultProps)===null||fe===void 0?void 0:fe[s],ze="hide"in ee.props?ee.props.hide:(ke=ee.type.defaultProps)===null||ke===void 0?void 0:ke.hide;return De===E&&(P||!ze)}),b,o,f);W&&(T=W)}p&&(v==="number"||N!=="auto")&&(K=Zl(M,b,"category"))}else p?T=qf(0,_):l&&l[E]&&l[E].hasStack&&v==="number"?T=h==="expand"?[0,1]:_C(l[E].stackGroups,c,u):T=SC(M,a.filter(function(ee){var fe=s in ee.props?ee.props[s]:ee.type.defaultProps[s],ke="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return fe===E&&(P||!ke)}),v,f,!0);if(v==="number")T=gy(d,T,E,o,A),Q&&(T=T0(Q,T,k));else if(v==="category"&&Q){var Z=Q,ie=T.every(function(ee){return Z.indexOf(ee)>=0});ie&&(T=Z)}}return X(X({},y),{},me({},E,X(X({},g),{},{axisType:o,domain:T,categoricalDomain:K,duplicateDomain:L,originalDomain:(x=g.domain)!==null&&x!==void 0?x:q,isCategorical:p,layout:f})))},{})},Bee=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=gp(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=AC(f,o),m=-1;return n.reduce(function(x,g){var v=g.type.defaultProps!==void 0?X(X({},g.type.defaultProps),g.props):g.props,b=v[s],k=X3("number");if(!x[b]){m++;var w;return y?w=qf(0,p):l&&l[b]&&l[b].hasStack?(w=_C(l[b].stackGroups,c,u),w=gy(d,w,b,o)):(w=T0(k,SC(h,n.filter(function(N){var A,P,E=s in N.props?N.props[s]:(A=N.type.defaultProps)===null||A===void 0?void 0:A[s],M="hide"in N.props?N.props.hide:(P=N.type.defaultProps)===null||P===void 0?void 0:P.hide;return E===b&&!M}),"number",f),a.defaultProps.allowDataOverflow),w=gy(d,w,b,o)),X(X({},x),{},me({},b,X(X({axisType:o},a.defaultProps),{},{hide:!0,orientation:Fr(Iee,"".concat(o,".").concat(m%2),null),domain:w,originalDomain:k,isCategorical:y,layout:f})))}return x},{})},zee=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=Br(f,o),p={};return h&&h.length?p=Fee(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=Bee(t,{Axis:o,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Wee=function(t){var r=Va(t),n=pa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Xx(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:If(r,n)}},Tk=function(t){var r=t.children,n=t.defaultShowTooltip,a=Mr(r,Ss),o=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Vee=function(t){return!t||!t.length?!1:t.some(function(r){var n=ya(r&&r.type);return n&&n.indexOf("Bar")>=0})},$k=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Uee=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,s=o===void 0?{}:o,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},p=Mr(d,Ss),y=Mr(d,Cn),m=Object.keys(c).reduce(function(w,N){var A=c[N],P=A.orientation;return!A.mirror&&!A.hide?X(X({},w),{},me({},P,w[P]+A.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(w,N){var A=s[N],P=A.orientation;return!A.mirror&&!A.hide?X(X({},w),{},me({},P,Fr(w,"".concat(P))+A.height)):w},{top:h.top||0,bottom:h.bottom||0}),g=X(X({},x),m),v=g.bottom;p&&(g.bottom+=p.props.height||Ss.defaultProps.height),y&&r&&(g=iH(g,a,n,r));var b=u-g.left-g.right,k=f-g.top-g.bottom;return X(X({brushBottom:v},g),{},{width:Math.max(b,0),height:Math.max(k,0)})},Hee=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},yp=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(g,v){var b=v.graphicalItems,k=v.stackGroups,w=v.offset,N=v.updateId,A=v.dataStartIndex,P=v.dataEndIndex,E=g.barSize,M=g.layout,_=g.barGap,T=g.barCategoryGap,L=g.maxBarSize,K=$k(M),q=K.numericAxisName,G=K.cateAxisName,Q=Vee(b),R=[];return b.forEach(function(W,Z){var ie=gp(g.data,{graphicalItems:[W],dataStartIndex:A,dataEndIndex:P}),ee=W.type.defaultProps!==void 0?X(X({},W.type.defaultProps),W.props):W.props,fe=ee.dataKey,ke=ee.maxBarSize,De=ee["".concat(q,"Id")],ze=ee["".concat(G,"Id")],et={},Ct=c.reduce(function(Me,qt){var or=v["".concat(qt.axisType,"Map")],gr=ee["".concat(qt.axisType,"Id")];or&&or[gr]||qt.axisType==="zAxis"||ao(!1);var ve=or[gr];return X(X({},Me),{},me(me({},qt.axisType,ve),"".concat(qt.axisType,"Ticks"),pa(ve)))},et),le=Ct[G],pe=Ct["".concat(G,"Ticks")],ae=k&&k[De]&&k[De].hasStack&&gH(W,k[De].stackGroups),te=ya(W.type).indexOf("Bar")>=0,Ce=If(le,pe),Ne=[],tt=Q&&nH({barSize:E,stackGroups:k,totalSize:Hee(Ct,G)});if(te){var He,rt,Pt=xe(ke)?L:ke,Lt=(He=(rt=If(le,pe,!0))!==null&&rt!==void 0?rt:Pt)!==null&&He!==void 0?He:0;Ne=aH({barGap:_,barCategoryGap:T,bandSize:Lt!==Ce?Lt:Ce,sizeList:tt[ze],maxBarSize:Pt}),Lt!==Ce&&(Ne=Ne.map(function(Me){return X(X({},Me),{},{position:X(X({},Me.position),{},{offset:Me.position.offset-Lt/2})})}))}var We=W&&W.type&&W.type.getComposedData;We&&R.push({props:X(X({},We(X(X({},Ct),{},{displayedData:ie,props:g,dataKey:fe,item:W,bandSize:Ce,barPosition:Ne,offset:w,stackedData:ae,layout:M,dataStartIndex:A,dataEndIndex:P}))),{},me(me(me({key:W.key||"item-".concat(Z)},q,Ct[q]),G,Ct[G]),"animationId",N)),childIndex:sM(W,g.children),item:W})}),R},p=function(g,v){var b=g.props,k=g.dataStartIndex,w=g.dataEndIndex,N=g.updateId;if(!$1({props:b}))return null;var A=b.children,P=b.layout,E=b.stackOffset,M=b.data,_=b.reverseStackOrder,T=$k(P),L=T.numericAxisName,K=T.cateAxisName,q=Br(A,n),G=pH(M,q,"".concat(L,"Id"),"".concat(K,"Id"),E,_),Q=c.reduce(function(ee,fe){var ke="".concat(fe.axisType,"Map");return X(X({},ee),{},me({},ke,zee(b,X(X({},fe),{},{graphicalItems:q,stackGroups:fe.axisType===L&&G,dataStartIndex:k,dataEndIndex:w}))))},{}),R=Uee(X(X({},Q),{},{props:b,graphicalItems:q}),v==null?void 0:v.legendBBox);Object.keys(Q).forEach(function(ee){Q[ee]=f(b,Q[ee],R,ee.replace("Map",""),r)});var W=Q["".concat(K,"Map")],Z=Wee(W),ie=h(b,X(X({},Q),{},{dataStartIndex:k,dataEndIndex:w,updateId:N,graphicalItems:q,stackGroups:G,offset:R}));return X(X({formattedGraphicalItems:ie,graphicalItems:q,offset:R,stackGroups:G},Z),Q)},y=function(x){function g(v){var b,k,w;return See(this,g),w=Cee(this,g,[v]),me(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),me(w,"accessibilityManager",new dee),me(w,"handleLegendBBoxUpdate",function(N){if(N){var A=w.state,P=A.dataStartIndex,E=A.dataEndIndex,M=A.updateId;w.setState(X({legendBBox:N},p({props:w.props,dataStartIndex:P,dataEndIndex:E,updateId:M},X(X({},w.state),{},{legendBBox:N}))))}}),me(w,"handleReceiveSyncEvent",function(N,A,P){if(w.props.syncId===N){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(A)}}),me(w,"handleBrushChange",function(N){var A=N.startIndex,P=N.endIndex;if(A!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var E=w.state.updateId;w.setState(function(){return X({dataStartIndex:A,dataEndIndex:P},p({props:w.props,dataStartIndex:A,dataEndIndex:P,updateId:E},w.state))}),w.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),me(w,"handleMouseEnter",function(N){var A=w.getMouseInfo(N);if(A){var P=X(X({},A),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var E=w.props.onMouseEnter;ge(E)&&E(P,N)}}),me(w,"triggeredAfterMouseMove",function(N){var A=w.getMouseInfo(N),P=A?X(X({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var E=w.props.onMouseMove;ge(E)&&E(P,N)}),me(w,"handleItemMouseEnter",function(N){w.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),me(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),me(w,"handleMouseMove",function(N){N.persist(),w.throttleTriggeredAfterMouseMove(N)}),me(w,"handleMouseLeave",function(N){w.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var P=w.props.onMouseLeave;ge(P)&&P(A,N)}),me(w,"handleOuterEvent",function(N){var A=oM(N),P=Fr(w.props,"".concat(A));if(A&&ge(P)){var E,M;/.*touch.*/i.test(A)?M=w.getMouseInfo(N.changedTouches[0]):M=w.getMouseInfo(N),P((E=M)!==null&&E!==void 0?E:{},N)}}),me(w,"handleClick",function(N){var A=w.getMouseInfo(N);if(A){var P=X(X({},A),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var E=w.props.onClick;ge(E)&&E(P,N)}}),me(w,"handleMouseDown",function(N){var A=w.props.onMouseDown;if(ge(A)){var P=w.getMouseInfo(N);A(P,N)}}),me(w,"handleMouseUp",function(N){var A=w.props.onMouseUp;if(ge(A)){var P=w.getMouseInfo(N);A(P,N)}}),me(w,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),me(w,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseDown(N.changedTouches[0])}),me(w,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseUp(N.changedTouches[0])}),me(w,"handleDoubleClick",function(N){var A=w.props.onDoubleClick;if(ge(A)){var P=w.getMouseInfo(N);A(P,N)}}),me(w,"handleContextMenu",function(N){var A=w.props.onContextMenu;if(ge(A)){var P=w.getMouseInfo(N);A(P,N)}}),me(w,"triggerSyncEvent",function(N){w.props.syncId!==void 0&&zm.emit(Wm,w.props.syncId,N,w.eventEmitterSymbol)}),me(w,"applySyncEvent",function(N){var A=w.props,P=A.layout,E=A.syncMethod,M=w.state.updateId,_=N.dataStartIndex,T=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)w.setState(X({dataStartIndex:_,dataEndIndex:T},p({props:w.props,dataStartIndex:_,dataEndIndex:T,updateId:M},w.state)));else if(N.activeTooltipIndex!==void 0){var L=N.chartX,K=N.chartY,q=N.activeTooltipIndex,G=w.state,Q=G.offset,R=G.tooltipTicks;if(!Q)return;if(typeof E=="function")q=E(R,N);else if(E==="value"){q=-1;for(var W=0;W<R.length;W++)if(R[W].value===N.activeLabel){q=W;break}}var Z=X(X({},Q),{},{x:Q.left,y:Q.top}),ie=Math.min(L,Z.x+Z.width),ee=Math.min(K,Z.y+Z.height),fe=R[q]&&R[q].value,ke=vy(w.state,w.props.data,q),De=R[q]?{x:P==="horizontal"?R[q].coordinate:ie,y:P==="horizontal"?ee:R[q].coordinate}:Y3;w.setState(X(X({},N),{},{activeLabel:fe,activeCoordinate:De,activePayload:ke,activeTooltipIndex:q}))}else w.setState(N)}),me(w,"renderCursor",function(N){var A,P=w.state,E=P.isTooltipActive,M=P.activeCoordinate,_=P.activePayload,T=P.offset,L=P.activeTooltipIndex,K=P.tooltipAxisBandSize,q=w.getTooltipEventType(),G=(A=N.props.active)!==null&&A!==void 0?A:E,Q=w.props.layout,R=N.key||"_recharts-cursor";return O.createElement(xee,{key:R,activeCoordinate:M,activePayload:_,activeTooltipIndex:L,chartName:r,element:N,isActive:G,layout:Q,offset:T,tooltipAxisBandSize:K,tooltipEventType:q})}),me(w,"renderPolarAxis",function(N,A,P){var E=Fr(N,"type.axisType"),M=Fr(w.state,"".concat(E,"Map")),_=N.type.defaultProps,T=_!==void 0?X(X({},_),N.props):N.props,L=M&&M[T["".concat(E,"Id")]];return S.cloneElement(N,X(X({},L),{},{className:be(E,L.className),key:N.key||"".concat(A,"-").concat(P),ticks:pa(L,!0)}))}),me(w,"renderPolarGrid",function(N){var A=N.props,P=A.radialLines,E=A.polarAngles,M=A.polarRadius,_=w.state,T=_.radiusAxisMap,L=_.angleAxisMap,K=Va(T),q=Va(L),G=q.cx,Q=q.cy,R=q.innerRadius,W=q.outerRadius;return S.cloneElement(N,{polarAngles:Array.isArray(E)?E:pa(q,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(M)?M:pa(K,!0).map(function(Z){return Z.coordinate}),cx:G,cy:Q,innerRadius:R,outerRadius:W,key:N.key||"polar-grid",radialLines:P})}),me(w,"renderLegend",function(){var N=w.state.formattedGraphicalItems,A=w.props,P=A.children,E=A.width,M=A.height,_=w.props.margin||{},T=E-(_.left||0)-(_.right||0),L=kC({children:P,formattedGraphicalItems:N,legendWidth:T,legendContent:u});if(!L)return null;var K=L.item,q=Pk(L,vee);return S.cloneElement(K,X(X({},q),{},{chartWidth:E,chartHeight:M,margin:_,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),me(w,"renderTooltip",function(){var N,A=w.props,P=A.children,E=A.accessibilityLayer,M=Mr(P,ct);if(!M)return null;var _=w.state,T=_.isTooltipActive,L=_.activeCoordinate,K=_.activePayload,q=_.activeLabel,G=_.offset,Q=(N=M.props.active)!==null&&N!==void 0?N:T;return S.cloneElement(M,{viewBox:X(X({},G),{},{x:G.left,y:G.top}),active:Q,label:q,payload:Q?K:[],coordinate:L,accessibilityLayer:E})}),me(w,"renderBrush",function(N){var A=w.props,P=A.margin,E=A.data,M=w.state,_=M.offset,T=M.dataStartIndex,L=M.dataEndIndex,K=M.updateId;return S.cloneElement(N,{key:N.key||"_recharts-brush",onChange:ad(w.handleBrushChange,N.props.onChange),data:E,x:re(N.props.x)?N.props.x:_.left,y:re(N.props.y)?N.props.y:_.top+_.height+_.brushBottom-(P.bottom||0),width:re(N.props.width)?N.props.width:_.width,startIndex:T,endIndex:L,updateId:"brush-".concat(K)})}),me(w,"renderReferenceElement",function(N,A,P){if(!N)return null;var E=w,M=E.clipPathId,_=w.state,T=_.xAxisMap,L=_.yAxisMap,K=_.offset,q=N.type.defaultProps||{},G=N.props,Q=G.xAxisId,R=Q===void 0?q.xAxisId:Q,W=G.yAxisId,Z=W===void 0?q.yAxisId:W;return S.cloneElement(N,{key:N.key||"".concat(A,"-").concat(P),xAxis:T[R],yAxis:L[Z],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:M})}),me(w,"renderActivePoints",function(N){var A=N.item,P=N.activePoint,E=N.basePoint,M=N.childIndex,_=N.isRange,T=[],L=A.props.key,K=A.item.type.defaultProps!==void 0?X(X({},A.item.type.defaultProps),A.item.props):A.item.props,q=K.activeDot,G=K.dataKey,Q=X(X({index:M,dataKey:G,cx:P.x,cy:P.y,r:4,fill:jv(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},he(q,!1)),sf(q));return T.push(g.renderActiveDot(q,Q,"".concat(L,"-activePoint-").concat(M))),E?T.push(g.renderActiveDot(q,X(X({},Q),{},{cx:E.x,cy:E.y}),"".concat(L,"-basePoint-").concat(M))):_&&T.push(null),T}),me(w,"renderGraphicChild",function(N,A,P){var E=w.filterFormatItem(N,A,P);if(!E)return null;var M=w.getTooltipEventType(),_=w.state,T=_.isTooltipActive,L=_.tooltipAxis,K=_.activeTooltipIndex,q=_.activeLabel,G=w.props.children,Q=Mr(G,ct),R=E.props,W=R.points,Z=R.isRange,ie=R.baseLine,ee=E.item.type.defaultProps!==void 0?X(X({},E.item.type.defaultProps),E.item.props):E.item.props,fe=ee.activeDot,ke=ee.hide,De=ee.activeBar,ze=ee.activeShape,et=!!(!ke&&T&&Q&&(fe||De||ze)),Ct={};M!=="axis"&&Q&&Q.props.trigger==="click"?Ct={onClick:ad(w.handleItemMouseEnter,N.props.onClick)}:M!=="axis"&&(Ct={onMouseLeave:ad(w.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:ad(w.handleItemMouseEnter,N.props.onMouseEnter)});var le=S.cloneElement(N,X(X({},E.props),Ct));function pe(qt){return typeof L.dataKey=="function"?L.dataKey(qt.payload):null}if(et)if(K>=0){var ae,te;if(L.dataKey&&!L.allowDuplicatedCategory){var Ce=typeof L.dataKey=="function"?pe:"payload.".concat(L.dataKey.toString());ae=of(W,Ce,q),te=Z&&ie&&of(ie,Ce,q)}else ae=W==null?void 0:W[K],te=Z&&ie&&ie[K];if(ze||De){var Ne=N.props.activeIndex!==void 0?N.props.activeIndex:K;return[S.cloneElement(N,X(X(X({},E.props),Ct),{},{activeIndex:Ne})),null,null]}if(!xe(ae))return[le].concat(Ds(w.renderActivePoints({item:E,activePoint:ae,basePoint:te,childIndex:K,isRange:Z})))}else{var tt,He=(tt=w.getItemByXY(w.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:le},rt=He.graphicalItem,Pt=rt.item,Lt=Pt===void 0?N:Pt,We=rt.childIndex,Me=X(X(X({},E.props),Ct),{},{activeIndex:We});return[S.cloneElement(Lt,Me),null,null]}return Z?[le,null,null]:[le,null]}),me(w,"renderCustomized",function(N,A,P){return S.cloneElement(N,X(X({key:"recharts-customized-".concat(P)},w.props),w.state))}),me(w,"renderMap",{CartesianGrid:{handler:cd,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:cd},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:cd},YAxis:{handler:cd},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=v.id)!==null&&b!==void 0?b:co("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=jA(w.triggeredAfterMouseMove,(k=v.throttleDelay)!==null&&k!==void 0?k:1e3/60),w.state={},w}return Oee(g,x),Aee(g,[{key:"componentDidMount",value:function(){var b,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,k=b.children,w=b.data,N=b.height,A=b.layout,P=Mr(k,ct);if(P){var E=P.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,_=vy(this.state,w,E,M),T=this.state.tooltipTicks[E].coordinate,L=(this.state.offset.top+N)/2,K=A==="horizontal",q=K?{x:T,y:L}:{y:T,x:L},G=this.state.formattedGraphicalItems.find(function(R){var W=R.item;return W.type.name==="Scatter"});G&&(q=X(X({},q),G.props.points[E].tooltipPosition),_=G.props.points[E].tooltipPayload);var Q={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:M,activePayload:_,activeCoordinate:q};this.setState(Q),this.renderCursor(P),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,N;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){qg([Mr(b.children,ct)],[Mr(this.props.children,ct)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Mr(this.props.children,ct);if(b&&typeof b.props.shared=="boolean"){var k=b.props.shared?"axis":"item";return l.indexOf(k)>=0?k:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var k=this.container,w=k.getBoundingClientRect(),N=OB(w),A={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},P=w.width/k.offsetWidth||1,E=this.inRange(A.chartX,A.chartY,P);if(!E)return null;var M=this.state,_=M.xAxisMap,T=M.yAxisMap,L=this.getTooltipEventType(),K=_k(this.state,this.props.data,this.props.layout,E);if(L!=="axis"&&_&&T){var q=Va(_).scale,G=Va(T).scale,Q=q&&q.invert?q.invert(A.chartX):null,R=G&&G.invert?G.invert(A.chartY):null;return X(X({},A),{},{xValue:Q,yValue:R},K)}return K?X(X({},A),K):null}},{key:"inRange",value:function(b,k){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,A=b/w,P=k/w;if(N==="horizontal"||N==="vertical"){var E=this.state.offset,M=A>=E.left&&A<=E.left+E.width&&P>=E.top&&P<=E.top+E.height;return M?{x:A,y:P}:null}var _=this.state,T=_.angleAxisMap,L=_.radiusAxisMap;if(T&&L){var K=Va(T);return K2({x:A,y:P},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,k=this.getTooltipEventType(),w=Mr(b,ct),N={};w&&k==="axis"&&(w.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=sf(this.props,this.handleOuterEvent);return X(X({},A),N)}},{key:"addListener",value:function(){zm.on(Wm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){zm.removeListener(Wm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,k,w){for(var N=this.state.formattedGraphicalItems,A=0,P=N.length;A<P;A++){var E=N[A];if(E.item===b||E.props.key===b.key||k===ya(E.item.type)&&w===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,k=this.state.offset,w=k.left,N=k.top,A=k.height,P=k.width;return O.createElement("defs",null,O.createElement("clipPath",{id:b},O.createElement("rect",{x:w,y:N,height:A,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(k,w){var N=Ck(w,2),A=N[0],P=N[1];return X(X({},k),{},me({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(k,w){var N=Ck(w,2),A=N[0],P=N[1];return X(X({},k),{},me({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[b])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(b){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[b])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(b){var k=this.state,w=k.formattedGraphicalItems,N=k.activeItem;if(w&&w.length)for(var A=0,P=w.length;A<P;A++){var E=w[A],M=E.props,_=E.item,T=_.type.defaultProps!==void 0?X(X({},_.type.defaultProps),_.props):_.props,L=ya(_.type);if(L==="Bar"){var K=(M.data||[]).find(function(R){return fG(b,R)});if(K)return{graphicalItem:E,payload:K}}else if(L==="RadialBar"){var q=(M.data||[]).find(function(R){return K2(b,R)});if(q)return{graphicalItem:E,payload:q}}else if(cp(E,N)||up(E,N)||Xc(E,N)){var G=eX({graphicalItem:E,activeTooltipItem:N,itemData:T.data}),Q=T.activeIndex===void 0?G:T.activeIndex;return{graphicalItem:X(X({},E),{},{childIndex:Q}),payload:Xc(E,N)?T.data[G]:E.props.data[G]}}}return null}},{key:"render",value:function(){var b=this;if(!$1(this))return null;var k=this.props,w=k.children,N=k.className,A=k.width,P=k.height,E=k.style,M=k.compact,_=k.title,T=k.desc,L=Pk(k,bee),K=he(L,!1);if(M)return O.createElement(tk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement(Yg,Go({},K,{width:A,height:P,title:_,desc:T}),this.renderClipPath(),I1(w,this.renderMap)));if(this.props.accessibilityLayer){var q,G;K.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,K.role=(G=this.props.role)!==null&&G!==void 0?G:"application",K.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},K.onFocus=function(){b.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return O.createElement(tk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement("div",Go({className:be("recharts-wrapper",N),style:X({position:"relative",cursor:"default",width:A,height:P},E)},Q,{ref:function(W){b.container=W}}),O.createElement(Yg,Go({},K,{width:A,height:P,title:_,desc:T,style:Dee}),this.renderClipPath(),I1(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);me(y,"displayName",r),me(y,"defaultProps",X({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),me(y,"getDerivedStateFromProps",function(x,g){var v=x.dataKey,b=x.data,k=x.children,w=x.width,N=x.height,A=x.layout,P=x.stackOffset,E=x.margin,M=g.dataStartIndex,_=g.dataEndIndex;if(g.updateId===void 0){var T=Tk(x);return X(X(X({},T),{},{updateId:0},p(X(X({props:x},T),{},{updateId:0}),g)),{},{prevDataKey:v,prevData:b,prevWidth:w,prevHeight:N,prevLayout:A,prevStackOffset:P,prevMargin:E,prevChildren:k})}if(v!==g.prevDataKey||b!==g.prevData||w!==g.prevWidth||N!==g.prevHeight||A!==g.prevLayout||P!==g.prevStackOffset||!ts(E,g.prevMargin)){var L=Tk(x),K={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},q=X(X({},_k(g,b,A)),{},{updateId:g.updateId+1}),G=X(X(X({},L),K),q);return X(X(X({},G),p(X({props:x},G),g)),{},{prevDataKey:v,prevData:b,prevWidth:w,prevHeight:N,prevLayout:A,prevStackOffset:P,prevMargin:E,prevChildren:k})}if(!qg(k,g.prevChildren)){var Q,R,W,Z,ie=Mr(k,Ss),ee=ie&&(Q=(R=ie.props)===null||R===void 0?void 0:R.startIndex)!==null&&Q!==void 0?Q:M,fe=ie&&(W=(Z=ie.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&W!==void 0?W:_,ke=ee!==M||fe!==_,De=!xe(b),ze=De&&!ke?g.updateId:g.updateId+1;return X(X({updateId:ze},p(X(X({props:x},g),{},{updateId:ze,dataStartIndex:ee,dataEndIndex:fe}),g)),{},{prevChildren:k,dataStartIndex:ee,dataEndIndex:fe})}return null}),me(y,"renderActiveDot",function(x,g,v){var b;return S.isValidElement(x)?b=S.cloneElement(x,g):ge(x)?b=x(g):b=O.createElement(gu,g),O.createElement(Se,{className:"recharts-active-dot",key:v},b)});var m=S.forwardRef(function(g,v){return O.createElement(y,Go({},g,{ref:v}))});return m.displayName=y.displayName,m},Kee=yp({chartName:"LineChart",GraphicalChild:yu,axisComponents:[{axisType:"xAxis",AxisComp:Wt},{axisType:"yAxis",AxisComp:Vt}],formatAxisMap:Nv}),by=yp({chartName:"BarChart",GraphicalChild:on,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Wt},{axisType:"yAxis",AxisComp:Vt}],formatAxisMap:Nv}),J3=yp({chartName:"PieChart",GraphicalChild:Yn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:lp},{axisType:"radiusAxis",AxisComp:op}],formatAxisMap:AH,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Ca=yp({chartName:"AreaChart",GraphicalChild:Ht,axisComponents:[{axisType:"xAxis",AxisComp:Wt},{axisType:"yAxis",AxisComp:Vt}],formatAxisMap:Nv});const Ti=class Ti{constructor(){No(this,"intervals",new Map)}static getInstance(){return Ti.instance||(Ti.instance=new Ti),Ti.instance}startPolling(t,r){this.stopPolling(t);const n=setInterval(async()=>{try{await r.onPoll()}catch(a){console.error(`Polling error for ${t}:`,a)}},r.interval);this.intervals.set(t,n),console.log(` Polling started: ${t} (interval: ${r.interval}ms)`)}stopPolling(t){const r=this.intervals.get(t);r&&(clearInterval(r),this.intervals.delete(t),console.log(` Polling stopped: ${t}`))}stopAllPolling(){this.intervals.forEach(t=>clearInterval(t)),this.intervals.clear(),console.log(" All polling stopped")}getActivePolling(){return Array.from(this.intervals.keys())}isPolling(t){return this.intervals.has(t)}};No(Ti,"instance");let wy=Ti;const kt=wy.getInstance(),ud=({title:e,value:t,trend:r,trendUp:n,icon:a,subValue:o,onClick:s,breakdown:l})=>i.jsxs("div",{onClick:s,className:`bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm transition-all duration-300 group hover:shadow-lg hover:border-primary-500/50 dark:hover:shadow-primary-500/40 ${s?"cursor-pointer":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:e}),i.jsx("div",{className:"p-2 bg-gray-100 dark:bg-dark-700 rounded-lg group-hover:bg-primary-100 dark:group-hover:bg-primary-500/20 transition-colors duration-300",children:i.jsx(a,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-500 transition-colors duration-300"})})]}),i.jsxs("div",{className:"flex items-end justify-between",children:[i.jsxs("div",{className:"w-full",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:t}),r&&i.jsxs("div",{className:`text-xs font-medium ${n?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"} flex items-center`,children:[n?"":""," ",r,i.jsx("span",{className:"text-gray-500 dark:text-gray-500 ml-1",children:"vs last month"})]}),l&&i.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-dark-700 flex justify-between text-xs",children:l.map((c,u)=>i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:c.label}),i.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:c.value})]},u))})]}),o&&i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 mb-1",children:o})]})]}),Mk=({onNavigate:e})=>{const[t,r]=S.useState("This Week"),[n,a]=S.useState(!1),[o,s]=S.useState({users:0,activeDrivers:0,rides:0,revenue:0,pendingDisputes:0,weekly:[],lastWeek:[],monthly:[]});S.useEffect(()=>{let f=!0;return(async()=>{try{const h=await Y.getDashboardData();f&&h&&s(h)}catch(h){console.warn("Failed to load dashboard data",h)}})(),()=>{f=!1}},[]),S.useEffect(()=>(kt.startPolling("admin-dashboard",{interval:1e4,onPoll:async()=>{try{const f=await Y.getDashboardData();s(f||{users:0,activeDrivers:0,rides:0,revenue:0,pendingDisputes:0,weekly:[],lastWeek:[],monthly:[]})}catch(f){console.warn("Polling dashboard data failed",f)}}}),()=>{kt.stopPolling("admin-dashboard")}),[]);const l=()=>{switch(t){case"This Week":return o.weekly;case"Last Week":return o.lastWeek;case"This Month":return o.monthly;default:return o.weekly}},c=()=>{switch(t){case"This Month":return"Monthly revenue history (Last 7 Months)";default:return"Daily revenue performance"}},u=({active:f,payload:d,label:h})=>{var p;return f&&d&&d.length?i.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-300 dark:border-dark-600 p-3 rounded-lg shadow-xl",children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm font-medium mb-1",children:h}),i.jsxs("p",{className:"text-primary-600 dark:text-primary-500 text-lg font-bold",children:["MWK ",(((p=d[0])==null?void 0:p.value)??0).toLocaleString()]})]}):null};return i.jsxs("div",{className:"space-y-6 relative",children:[n&&i.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 backdrop-blur-sm transition-opacity duration-300",onClick:()=>a(!1)}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(ud,{title:"Total Revenue",value:`MWK ${(o.revenue||0).toLocaleString()}`,trend:void 0,trendUp:!0,icon:n5,onClick:()=>e("revenue")}),i.jsx(ud,{title:"Total Rides",value:`${o.rides||0}`,icon:Ue,breakdown:[{label:"Ride Share",value:o!=null&&o.rideShareCount?`${o.rideShareCount}`:""},{label:"For Hire",value:o!=null&&o.forHireCount?`${o.forHireCount}`:""}],onClick:()=>e("total-rides")}),i.jsx(ud,{title:"Active Drivers",value:`${o.activeDrivers||0}`,trend:void 0,trendUp:!1,icon:ka,onClick:()=>e("drivers")}),i.jsx(ud,{title:"Total Users",value:`${o.users||0}`,icon:Sh,breakdown:[{label:"Riders",value:`${o.riderCount||0}`},{label:"Drivers",value:`${o.driverCount||0}`}],onClick:()=>e("riders")})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Revenue Overview"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c()})]}),i.jsxs("div",{className:"flex space-x-2 mt-4 sm:mt-0",children:[i.jsxs("select",{value:t,onChange:f=>r(f.target.value),className:"bg-gray-100 dark:bg-dark-700 border-none text-sm text-gray-900 dark:text-white rounded-lg px-3 py-2 focus:ring-1 focus:ring-primary-500 cursor-pointer outline-none",children:[i.jsx("option",{value:"This Week",children:"This Week"}),i.jsx("option",{value:"Last Week",children:"Last Week"}),i.jsx("option",{value:"This Month",children:"This Month"})]}),i.jsx("button",{className:"p-2 bg-gray-100 dark:bg-dark-700 rounded-lg text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:i.jsx(ri,{className:"h-5 w-5"})})]})]}),i.jsx("div",{className:"h-80 w-full",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(Kee,{data:l(),margin:{top:10,right:10,left:-10,bottom:0},children:[i.jsx(Sr,{strokeDasharray:"3 3",vertical:!1,stroke:"#374151",opacity:.2}),i.jsx(Wt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},dy:10}),i.jsx(Vt,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},tickFormatter:f=>`MWK ${f>=1e3?(f/1e3).toFixed(0)+"k":f}`}),i.jsx(ct,{content:i.jsx(u,{}),cursor:{stroke:"#374151",strokeWidth:2}}),i.jsx(yu,{type:"monotone",dataKey:"value",stroke:"#FACC15",strokeWidth:3,dot:{fill:"#1F2937",stroke:"#FACC15",strokeWidth:2,r:4},activeDot:{r:6,fill:"#FACC15"}})]})})})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Platform Stats"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Key performance indicators"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Active Subscriptions"}),i.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"85%"})]}),i.jsx("div",{className:"w-full bg-gray-100 dark:bg-dark-700 rounded-full h-2",children:i.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:"85%"}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Customer Satisfaction"}),i.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"92%"})]}),i.jsx("div",{className:"w-full bg-gray-100 dark:bg-dark-700 rounded-full h-2",children:i.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"92%"}})})]})]})]})})]})]})},Ik=({status:e})=>{const t="px-3 py-1 text-xs font-medium rounded-full inline-block border",r={Completed:"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800","In Progress":"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-800 animate-pulse",Cancelled:"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800",Scheduled:"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800"};return i.jsx("span",{className:`${t} ${r[e]}`,children:e})},Um=({title:e,value:t,icon:r,color:n,hoverClass:a,onClick:o})=>i.jsxs("div",{onClick:o,className:`bg-white dark:bg-dark-800 p-6 rounded-xl shadow-sm border border-gray-300 dark:border-gray-700 flex items-center hover:shadow-lg transition-all duration-300 ${o?`cursor-pointer ${a}`:""}`,children:[i.jsx("div",{className:`p-3 rounded-full mr-4 ${n} text-white shadow-md`,children:i.jsx(r,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:e}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t})]})]}),qee=({onNavigate:e})=>{const[t,r]=S.useState([]);S.useEffect(()=>{(async()=>{const l=await Y.getRides();r(l)})()},[]);const n=t.length,a=t.filter(s=>s.type==="share").length,o=t.filter(s=>s.type==="hire").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(Um,{title:"Total Rides",value:n,icon:Ue,color:"bg-primary-500",hoverClass:"hover:shadow-primary-500/40 hover:border-primary-500",onClick:()=>e("total-rides")}),i.jsx(Um,{title:"Ride Share",value:a,icon:ka,color:"bg-blue-500",hoverClass:"hover:shadow-blue-500/40 hover:border-blue-500",onClick:()=>e("ride-share")}),i.jsx(Um,{title:"For Hire",value:o,icon:Qi,color:"bg-purple-500",hoverClass:"hover:shadow-purple-500/40 hover:border-purple-500",onClick:()=>e("for-hire")})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 sm:p-6 rounded-lg shadow-sm border border-gray-300 dark:border-gray-700",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 space-y-4 sm:space-y-0",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white w-full sm:w-auto",children:"All Rides"}),i.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:[i.jsx("input",{type:"text",placeholder:"Search rides...",className:"w-full sm:w-64 bg-gray-50 dark:bg-dark-700 text-gray-900 dark:text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 border border-gray-300 dark:border-dark-600 placeholder-gray-500 transition-colors"}),i.jsx("button",{className:"w-full sm:w-auto bg-primary-500 text-black font-bold px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors shadow-sm",children:"Export CSV"})]})]}),i.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden",children:t.map(s=>i.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-dark-700 bg-gray-50 dark:bg-dark-700/30 shadow-sm hover:shadow-md transition-all",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs font-mono font-semibold text-gray-500 dark:text-gray-400",children:["#",s.id]}),i.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-medium uppercase tracking-wide ${s.type==="share"?"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-400":"bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-400"}`,children:s.type==="share"?"Ride Share":"For Hire"})]}),i.jsx("div",{className:"text-xs text-gray-400 mt-1",children:s.date})]}),i.jsx(Ik,{status:s.status})]}),i.jsxs("div",{className:"mb-4 relative pl-3 border-l-2 border-dashed border-gray-300 dark:border-dark-600 ml-1 space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -left-[19px] top-1 w-3 h-3 rounded-full bg-green-500 border-2 border-white dark:border-dark-800"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Origin"}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.origin})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -left-[19px] top-1 w-3 h-3 rounded-full bg-red-500 border-2 border-white dark:border-dark-800"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Destination"}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.destination})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200 dark:border-dark-700",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:s.rider.avatar,alt:"Rider",className:"w-8 h-8 rounded-full border border-gray-200 dark:border-dark-600"}),i.jsx("img",{src:s.driver.avatar,alt:"Driver",className:"w-6 h-6 rounded-full border border-white dark:border-dark-800 absolute -bottom-1 -right-2"})]}),i.jsxs("div",{className:"pl-3",children:[i.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-white",children:s.rider.name}),i.jsxs("p",{className:"text-[10px] text-gray-500",children:["w/ ",s.driver.name]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["MWK ",(s.price||0).toFixed(2)]}),i.jsx("button",{className:"text-xs font-medium text-primary-600 dark:text-primary-500 hover:underline",children:"View Details"})]})]})]},s.id))}),i.jsx("div",{className:"hidden md:block overflow-x-auto no-scrollbar",children:i.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[i.jsx("thead",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase bg-gray-50 dark:bg-dark-700",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ride ID"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Type"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Rider"}),i.jsx("th",{scope:"col",className:"px-6 py-3 hidden lg:table-cell",children:"Driver"}),i.jsx("th",{scope:"col",className:"px-6 py-3 hidden lg:table-cell",children:"Route"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Fare"}),i.jsx("th",{scope:"col",className:"px-6 py-3 hidden xl:table-cell",children:"Date"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{children:t.map(s=>i.jsxs("tr",{className:"bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700 hover:bg-gray-50 dark:hover:bg-dark-700/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 font-medium text-primary-600 dark:text-primary-500 whitespace-nowrap",children:s.id}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.type==="share"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"}`,children:s.type==="share"?"Ride Share":"For Hire"})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{className:"h-8 w-8 rounded-full object-cover ring-2 ring-white dark:ring-dark-800",src:s.rider.avatar,alt:s.rider.name}),i.jsx("div",{className:"pl-3",children:i.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:s.rider.name})})]})}),i.jsx("td",{className:"px-6 py-4 hidden lg:table-cell",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{className:"h-8 w-8 rounded-full object-cover ring-2 ring-white dark:ring-dark-800",src:s.driver.avatar,alt:s.driver.name}),i.jsx("div",{className:"pl-3",children:i.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:s.driver.name})})]})}),i.jsx("td",{className:"px-6 py-4 hidden lg:table-cell",children:i.jsxs("div",{className:"flex flex-col text-xs",children:[i.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:s.origin}),i.jsx("span",{className:"text-gray-400",children:"to"}),i.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:s.destination})]})}),i.jsxs("td",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:["MWK ",(s.price||0).toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 hidden xl:table-cell text-xs text-gray-500",children:s.date}),i.jsx("td",{className:"px-6 py-4",children:i.jsx(Ik,{status:s.status})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("button",{className:"font-medium text-primary-600 dark:text-primary-500 hover:text-primary-700 dark:hover:text-primary-400 transition-colors",children:"Details"})})]},s.id))})]})})]})]})},Kn=Object.create(null);Kn.open="0";Kn.close="1";Kn.ping="2";Kn.pong="3";Kn.message="4";Kn.upgrade="5";Kn.noop="6";const Od=Object.create(null);Object.keys(Kn).forEach(e=>{Od[Kn[e]]=e});const jy={type:"error",data:"parser error"},Q3=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Z3=typeof ArrayBuffer=="function",eP=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Mv=({type:e,data:t},r,n)=>Q3&&t instanceof Blob?r?n(t):Dk(t,n):Z3&&(t instanceof ArrayBuffer||eP(t))?r?n(t):Dk(new Blob([t]),n):n(Kn[e]+(t||"")),Dk=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function Lk(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Hm;function Gee(e,t){if(Q3&&e.data instanceof Blob)return e.data.arrayBuffer().then(Lk).then(t);if(Z3&&(e.data instanceof ArrayBuffer||eP(e.data)))return t(Lk(e.data));Mv(e,!1,r=>{Hm||(Hm=new TextEncoder),t(Hm.encode(r))})}const Rk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Rk.length;e++)zl[Rk.charCodeAt(e)]=e;const Yee=e=>{let t=e.length*.75,r=e.length,n,a=0,o,s,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),f=new Uint8Array(u);for(n=0;n<r;n+=4)o=zl[e.charCodeAt(n)],s=zl[e.charCodeAt(n+1)],l=zl[e.charCodeAt(n+2)],c=zl[e.charCodeAt(n+3)],f[a++]=o<<2|s>>4,f[a++]=(s&15)<<4|l>>2,f[a++]=(l&3)<<6|c&63;return u},Xee=typeof ArrayBuffer=="function",Iv=(e,t)=>{if(typeof e!="string")return{type:"message",data:tP(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Jee(e.substring(1),t)}:Od[r]?e.length>1?{type:Od[r],data:e.substring(1)}:{type:Od[r]}:jy},Jee=(e,t)=>{if(Xee){const r=Yee(e);return tP(r,t)}else return{base64:!0,data:e}},tP=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},rP=String.fromCharCode(30),Qee=(e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((o,s)=>{Mv(o,!1,l=>{n[s]=l,++a===r&&t(n.join(rP))})})},Zee=(e,t)=>{const r=e.split(rP),n=[];for(let a=0;a<r.length;a++){const o=Iv(r[a],t);if(n.push(o),o.type==="error")break}return n};function ete(){return new TransformStream({transform(e,t){Gee(e,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(r)})}})}let Km;function dd(e){return e.reduce((t,r)=>t+r.length,0)}function fd(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function tte(e,t){Km||(Km=new TextDecoder);const r=[];let n=0,a=-1,o=!1;return new TransformStream({transform(s,l){for(r.push(s);;){if(n===0){if(dd(r)<1)break;const c=fd(r,1);o=(c[0]&128)===128,a=c[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(dd(r)<2)break;const c=fd(r,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(dd(r)<8)break;const c=fd(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),f=u.getUint32(0);if(f>Math.pow(2,53-32)-1){l.enqueue(jy);break}a=f*Math.pow(2,32)+u.getUint32(4),n=3}else{if(dd(r)<a)break;const c=fd(r,a);l.enqueue(Iv(o?c:Km.decode(c),t)),n=0}if(a===0||a>e){l.enqueue(jy);break}}}})}const nP=4;function St(e){if(e)return rte(e)}function rte(e){for(var t in St.prototype)e[t]=St.prototype[t];return e}St.prototype.on=St.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};St.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};St.prototype.off=St.prototype.removeListener=St.prototype.removeAllListeners=St.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};St.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};St.prototype.emitReserved=St.prototype.emit;St.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};St.prototype.hasListeners=function(e){return!!this.listeners(e).length};const xp=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0))(),en=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),nte="arraybuffer";function aP(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const ate=en.setTimeout,ite=en.clearTimeout;function vp(e,t){t.useNativeTimers?(e.setTimeoutFn=ate.bind(en),e.clearTimeoutFn=ite.bind(en)):(e.setTimeoutFn=en.setTimeout.bind(en),e.clearTimeoutFn=en.clearTimeout.bind(en))}const ote=1.33;function ste(e){return typeof e=="string"?lte(e):Math.ceil((e.byteLength||e.size)*ote)}function lte(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function iP(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function cte(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function ute(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let o=r[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class dte extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class Dv extends St{constructor(t){super(),this.writable=!1,vp(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new dte(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Iv(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=cte(t);return r.length?"?"+r:""}}class fte extends Dv{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Zee(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Qee(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=iP()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let oP=!1;try{oP=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hte=oP;function pte(){}class mte extends fte{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Un extends St{constructor(t,r,n){super(),this.createRequest=t,vp(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=aP(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Un.requestsCount++,Un.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=pte,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Un.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Un.requestsCount=0;Un.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Fk);else if(typeof addEventListener=="function"){const e="onpagehide"in en?"pagehide":"unload";addEventListener(e,Fk,!1)}}function Fk(){for(let e in Un.requests)Un.requests.hasOwnProperty(e)&&Un.requests[e].abort()}const gte=function(){const e=sP({xdomain:!1});return e&&e.responseType!==null}();class yte extends mte{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=gte&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Un(sP,this.uri(),t)}}function sP(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||hte))return new XMLHttpRequest}catch{}if(!t)try{return new en[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const lP=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class xte extends Dv{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=lP?{}:aP(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;Mv(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}a&&xp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=iP()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const qm=en.WebSocket||en.MozWebSocket;class vte extends xte{createSocket(t,r,n){return lP?new qm(t,r,n):r?new qm(t,r):new qm(t)}doWrite(t,r){this.ws.send(r)}}class bte extends Dv{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=tte(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),a=ete();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const o=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),o())}).catch(l=>{})};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;this._writer.write(n).then(()=>{a&&xp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const wte={websocket:vte,webtransport:bte,polling:yte},jte=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,kte=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ky(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=jte.exec(e||""),o={},s=14;for(;s--;)o[kte[s]]=a[s]||"";return r!=-1&&n!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Nte(o,o.path),o.queryKey=Ste(o,o.query),o}function Nte(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Ste(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,o){a&&(r[a]=o)}),r}const Ny=typeof addEventListener=="function"&&typeof removeEventListener=="function",_d=[];Ny&&addEventListener("offline",()=>{_d.forEach(e=>e())},!1);class ii extends St{constructor(t,r){if(super(),this.binaryType=nte,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=ky(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=ky(r.host).host);vp(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ute(this.opts.query)),Ny&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},_d.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=nP,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&ii.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",ii.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=ste(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,xp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:t,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(ii.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ny&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=_d.indexOf(this._offlineEventListener);n!==-1&&_d.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}ii.protocol=nP;class Ate extends ii{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;ii.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",d=>{if(!n)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ii.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function o(){n||(n=!0,f(),r.close(),r=null)}const s=d=>{const h=new Error("probe error: "+d);h.transport=r.name,o(),this.emitReserved("upgradeError",h)};function l(){s("transport closed")}function c(){s("socket closed")}function u(d){r&&d.name!==r.name&&o()}const f=()=>{r.removeListener("open",a),r.removeListener("error",s),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",a),r.once("error",s),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let Cte=class extends Ate{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>wte[a]).filter(a=>!!a)),super(t,n)}};function Pte(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=ky(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+t,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}const Ete=typeof ArrayBuffer=="function",Ote=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,cP=Object.prototype.toString,_te=typeof Blob=="function"||typeof Blob<"u"&&cP.call(Blob)==="[object BlobConstructor]",Tte=typeof File=="function"||typeof File<"u"&&cP.call(File)==="[object FileConstructor]";function Lv(e){return Ete&&(e instanceof ArrayBuffer||Ote(e))||_te&&e instanceof Blob||Tte&&e instanceof File}function Td(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Td(e[r]))return!0;return!1}if(Lv(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Td(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Td(e[r]))return!0;return!1}function $te(e){const t=[],r=e.data,n=e;return n.data=Sy(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Sy(e,t){if(!e)return e;if(Lv(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Sy(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Sy(e[n],t));return r}return e}function Mte(e,t){return e.data=Ay(e.data,t),delete e.attachments,e}function Ay(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Ay(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Ay(e[r],t));return e}const Ite=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Dte=5;var Pe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Pe||(Pe={}));class Lte{constructor(t){this.replacer=t}encode(t){return(t.type===Pe.EVENT||t.type===Pe.ACK)&&Td(t)?this.encodeAsBinary({type:t.type===Pe.EVENT?Pe.BINARY_EVENT:Pe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Pe.BINARY_EVENT||t.type===Pe.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=$te(t),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}function Bk(e){return Object.prototype.toString.call(e)==="[object Object]"}class Rv extends St{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Pe.BINARY_EVENT;n||r.type===Pe.BINARY_ACK?(r.type=n?Pe.EVENT:Pe.ACK,this.reconstructor=new Rte(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Lv(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Pe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Pe.BINARY_EVENT||n.type===Pe.BINARY_ACK){const o=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const s=t.substring(o,r);if(s!=Number(s)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(s)}if(t.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(o,r)}else n.nsp="/";const a=t.charAt(r+1);if(a!==""&&Number(a)==a){const o=r+1;for(;++r;){const s=t.charAt(r);if(s==null||Number(s)!=s){--r;break}if(r===t.length)break}n.id=Number(t.substring(o,r+1))}if(t.charAt(++r)){const o=this.tryParse(t.substr(r));if(Rv.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Pe.CONNECT:return Bk(r);case Pe.DISCONNECT:return r===void 0;case Pe.CONNECT_ERROR:return typeof r=="string"||Bk(r);case Pe.EVENT:case Pe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Ite.indexOf(r[0])===-1);case Pe.ACK:case Pe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Rte{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Mte(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Fte=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Rv,Encoder:Lte,get PacketType(){return Pe},protocol:Dte},Symbol.toStringTag,{value:"Module"}));function wn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const Bte=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class uP extends St{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[wn(t,"open",this.onopen.bind(this)),wn(t,"packet",this.onpacket.bind(this)),wn(t,"error",this.onerror.bind(this)),wn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,a,o;if(Bte.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const s={type:Pe.EVENT,data:r};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,d=r.pop();this._registerAckCallback(f,d),s.id=f}const l=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=r;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},a),s=(...l)=>{this.io.clearTimeoutFn(o),r.apply(this,l)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...r){return new Promise((n,a)=>{const o=(s,l)=>s?a(s):n(l);o.withError=!0,r.push(o),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...o)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Pe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pe.EVENT:case Pe.BINARY_EVENT:this.onevent(t);break;case Pe.ACK:case Pe.BINARY_ACK:this.onack(t);break;case Pe.DISCONNECT:this.ondisconnect();break;case Pe.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:Pe.ACK,id:t,data:a}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Zs(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Zs.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Zs.prototype.reset=function(){this.attempts=0};Zs.prototype.setMin=function(e){this.ms=e};Zs.prototype.setMax=function(e){this.max=e};Zs.prototype.setJitter=function(e){this.jitter=e};class Cy extends St{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,vp(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Zs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||Fte;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Cte(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=wn(r,"open",function(){n.onopen(),t&&t()}),o=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},s=wn(r,"error",o);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(wn(t,"ping",this.onping.bind(this)),wn(t,"data",this.ondata.bind(this)),wn(t,"error",this.onerror.bind(this)),wn(t,"close",this.onclose.bind(this)),wn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){xp(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new uP(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ml={};function $d(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Pte(e,t.path||"/socket.io"),n=r.source,a=r.id,o=r.path,s=Ml[a]&&o in Ml[a].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let c;return l?c=new Cy(n,t):(Ml[a]||(Ml[a]=new Cy(n,t)),c=Ml[a]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign($d,{Manager:Cy,Socket:uP,io:$d,connect:$d});const zte="http://206.189.58.230:5000",$i=class $i{constructor(){No(this,"socket",null)}static getInstance(){return $i.instance||($i.instance=new $i),$i.instance}connect(t,r){var n;(n=this.socket)!=null&&n.connected||(this.socket=$d(zte,{transports:["websocket"],reconnection:!0}),this.socket.on("connect",()=>{var a,o,s;console.log("Socket connected:",(a=this.socket)==null?void 0:a.id),(o=this.socket)==null||o.emit("authenticate",t),r==="admin"&&((s=this.socket)==null||s.emit("join_admin"))}),this.socket.on("disconnect",()=>{console.log("Socket disconnected")}))}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}joinRide(t){var r;(r=this.socket)==null||r.emit("join_ride",t)}updateDriverLocation(t,r){var n,a;(n=this.socket)==null||n.emit("driver_online",{userId:t,location:r}),(a=this.socket)==null||a.emit("update_location",{driverId:t,...r})}sendMessage(t){var r;(r=this.socket)==null||r.emit("send_message",t)}on(t,r){var n;(n=this.socket)==null||n.on(t,r)}off(t,r){var n,a;r?(n=this.socket)==null||n.off(t,r):(a=this.socket)==null||a.off(t)}emit(t,r){var n;(n=this.socket)==null||n.emit(t,r)}};No($i,"instance");let Py=$i;const ce=Py.getInstance(),Wte=({status:e})=>{const t="px-3 py-1 text-xs font-medium rounded-full inline-block border",r={Approved:"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800",Pending:"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800",Suspended:"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800"};return i.jsx("span",{className:`${t} ${r[e]}`,children:e})},Vte=({onMessageUser:e})=>{const[t,r]=S.useState([]),[n,a]=S.useState(!0);return S.useEffect(()=>{(async()=>{try{const l=await Y.getDrivers();r(l)}catch(l){console.error("Failed to load drivers:",l)}finally{a(!1)}})();const s=l=>{r(c=>c.map(u=>u.id===l.driverId?{...u,status:l.status}:u))};return ce.on("driver_status_update",s),()=>{ce.off("driver_status_update")}},[]),n?i.jsx("div",{className:"p-4",children:"Loading drivers..."}):i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 sm:p-6 rounded-lg shadow-sm border border-gray-300 dark:border-dark-700",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 sm:mb-0",children:"Driver Management"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",placeholder:"Search drivers...",className:"bg-gray-50 dark:bg-dark-700 text-gray-900 dark:text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 border border-gray-300 dark:border-dark-600 placeholder-gray-500"}),i.jsx("button",{className:"bg-primary-600 text-black font-bold px-4 py-2 rounded-lg hover:bg-primary-700 transition",children:"Add Driver"})]})]}),i.jsx("div",{className:"overflow-x-auto no-scrollbar",children:i.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[i.jsx("thead",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase bg-gray-50 dark:bg-dark-700",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Driver"}),i.jsx("th",{scope:"col",className:"px-6 py-3 hidden md:table-cell",children:"Vehicle"}),i.jsx("th",{scope:"col",className:"px-6 py-3 hidden lg:table-cell",children:"Total Rides"}),i.jsx("th",{scope:"col",className:"px-6 py-3 hidden lg:table-cell",children:"Rating"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{children:t.map(o=>i.jsxs("tr",{className:"bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700 hover:bg-gray-50 dark:hover:bg-dark-700/50",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold text-sm",children:o.name.split(" ").map(s=>s[0]).join("").substring(0,2).toUpperCase()}),i.jsxs("div",{className:"pl-3",children:[i.jsx("div",{className:"text-base font-semibold text-gray-900 dark:text-white",children:o.name}),i.jsx("div",{className:"font-normal text-gray-500",children:o.id})]})]})}),i.jsxs("td",{className:"px-6 py-4 hidden md:table-cell",children:[i.jsx("div",{className:"text-gray-900 dark:text-gray-200",children:o.vehicle}),i.jsx("div",{className:"text-gray-500",children:o.licensePlate})]}),i.jsx("td",{className:"px-6 py-4 hidden lg:table-cell",children:o.totalRides}),i.jsxs("td",{className:"px-6 py-4 hidden lg:table-cell",children:[i.jsx("span",{className:"text-yellow-500 dark:text-yellow-400",children:""})," ",o.rating.toFixed(1)]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx(Wte,{status:o.status})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[i.jsx("button",{className:"font-medium text-primary-600 dark:text-primary-500 hover:underline",children:"Edit"}),e&&i.jsx("button",{onClick:()=>e(o.id),className:"text-gray-400 hover:text-primary-500 transition-colors",title:"Message Driver",children:i.jsx(ni,{className:"h-5 w-5"})})]})})]},o.id))})]})})]})},Ute=({status:e})=>{const t="px-3 py-1 text-xs font-medium rounded-full inline-block border",r={Active:"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800",Flagged:"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800",Suspended:"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800"};return i.jsx("span",{className:`${t} ${r[e]}`,children:e})},Hte=({onMessageUser:e})=>{const[t,r]=S.useState([]);return S.useEffect(()=>{(async()=>{const a=await Y.getRiders();r(a)})()},[]),i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 sm:p-6 rounded-lg shadow-sm border border-gray-300 dark:border-dark-700",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 sm:mb-0",children:"Rider Management"}),i.jsx("input",{type:"text",placeholder:"Search riders...",className:"bg-gray-50 dark:bg-dark-700 text-gray-900 dark:text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 border border-gray-300 dark:border-dark-600 placeholder-gray-500"})]}),i.jsx("div",{className:"overflow-x-auto no-scrollbar",children:i.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[i.jsx("thead",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase bg-gray-50 dark:bg-dark-700",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Rider"}),i.jsx("th",{scope:"col",className:"px-6 py-3 hidden md:table-cell",children:"Total Rides"}),i.jsx("th",{scope:"col",className:"px-6 py-3 hidden lg:table-cell",children:"Member Since"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{children:t.map(n=>i.jsxs("tr",{className:"bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700 hover:bg-gray-50 dark:hover:bg-dark-700/50",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold text-sm",children:n.name.split(" ").map(a=>a[0]).join("").substring(0,2).toUpperCase()}),i.jsxs("div",{className:"pl-3",children:[i.jsx("div",{className:"text-base font-semibold text-gray-900 dark:text-white",children:n.name}),i.jsx("div",{className:"font-normal text-gray-500",children:n.id})]})]})}),i.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:n.totalRides}),i.jsx("td",{className:"px-6 py-4 hidden lg:table-cell",children:n.memberSince}),i.jsx("td",{className:"px-6 py-4",children:i.jsx(Ute,{status:n.status})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[i.jsx("button",{className:"font-medium text-primary-600 dark:text-primary-500 hover:underline",children:"View Profile"}),e&&i.jsx("button",{onClick:()=>e(n.id),className:"text-gray-400 hover:text-primary-500 transition-colors",title:"Message Rider",children:i.jsx(ni,{className:"h-5 w-5"})})]})})]},n.id))})]})})]})},Gm=({title:e,value:t,subtitle:r,type:n})=>{const a={primary:"text-primary-600 dark:text-primary-500 border-primary-500/30 bg-primary-500/5",green:"text-green-600 dark:text-green-500 border-green-500/30 bg-green-500/5",blue:"text-blue-600 dark:text-blue-500 border-blue-500/30 bg-blue-500/5"};return i.jsxs("div",{className:`p-6 rounded-xl border ${a[n].replace("text-","border-")} bg-white dark:bg-dark-800`,children:[i.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium uppercase tracking-wider mb-2",children:e}),i.jsx("div",{className:`text-3xl font-bold mb-1 ${a[n].split(" ")[0]}`,children:t}),i.jsx("div",{className:"text-xs text-gray-500",children:r})]})},Kte=({onBack:e})=>{var s,l,c,u,f,d;const[t,r]=S.useState({annual:[],transactions:[],stats:{totalRevenue:0,pendingPayouts:0,avgRevenue:0}});S.useEffect(()=>{let h=!0;return(async()=>{try{const p=await Y.getRevenueData();h&&r(p)}catch(p){console.warn("Failed to fetch revenue data",p)}})(),()=>{h=!1}},[]);const n=t.annual||[],a=t.transactions||[],o=({active:h,payload:p,label:y})=>{var m;return h&&p&&p.length?i.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-300 dark:border-dark-600 p-3 rounded-lg shadow-xl",children:[i.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-sm font-medium mb-1",children:[y," 2023"]}),i.jsxs("p",{className:"text-primary-600 dark:text-primary-500 text-lg font-bold",children:["MWK ",(((m=p[0])==null?void 0:m.value)??0).toLocaleString()]})]}):null};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[i.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-gray-200 dark:bg-dark-700 hover:bg-gray-300 dark:hover:bg-dark-600 text-gray-900 dark:text-white transition-colors",children:i.jsx(wc,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Revenue Analytics"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Financial overview and transaction history"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(Gm,{title:"Net Revenue",value:`MWK ${((l=(s=t.stats)==null?void 0:s.totalRevenue)==null?void 0:l.toLocaleString())||"0"}`,subtitle:"Total Platform Earnings",type:"primary"}),i.jsx(Gm,{title:"Pending Payouts",value:`MWK ${((u=(c=t.stats)==null?void 0:c.pendingPayouts)==null?void 0:u.toLocaleString())||"0"}`,subtitle:"Processing next Monday",type:"blue"}),i.jsx(Gm,{title:"Avg Revenue / Ride",value:`MWK ${((d=(f=t.stats)==null?void 0:f.avgRevenue)==null?void 0:d.toLocaleString())||"0"}`,subtitle:"Based on completed rides",type:"green"})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Revenue Overview (Last 30 Days)"}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("span",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-500 mr-2"}),"2023"]})})]}),i.jsx("div",{className:"h-80 w-full",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(Ca,{data:n,margin:{top:10,right:10,left:-10,bottom:0},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#FACC15",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#FACC15",stopOpacity:0})]})}),i.jsx(Sr,{strokeDasharray:"3 3",vertical:!1,stroke:"#383838",opacity:.2}),i.jsx(Wt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},dy:10}),i.jsx(Vt,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},tickFormatter:h=>`MWK ${h>=1e3?(h/1e3).toFixed(0)+"k":h}`}),i.jsx(ct,{content:i.jsx(o,{}),cursor:{stroke:"#383838",strokeWidth:1,strokeDasharray:"5 5"}}),i.jsx(Ht,{type:"monotone",dataKey:"value",stroke:"#FACC15",strokeWidth:3,fillOpacity:1,fill:"url(#colorRevenue)"})]})})})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"}),i.jsx("button",{className:"text-sm text-primary-600 dark:text-primary-500 hover:text-primary-500 font-medium",children:"View All"})]}),i.jsx("div",{className:"overflow-x-auto no-scrollbar",children:i.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[i.jsx("thead",{className:"text-xs text-gray-500 dark:text-gray-500 uppercase bg-gray-50 dark:bg-dark-700/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Transaction ID"}),i.jsx("th",{className:"px-4 py-3",children:"Source"}),i.jsx("th",{className:"px-4 py-3",children:"Date"}),i.jsx("th",{className:"px-4 py-3",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-right rounded-r-lg",children:"Amount (MWK)"})]})}),i.jsx("tbody",{children:a.map((h,p)=>i.jsxs("tr",{className:"border-b border-gray-100 dark:border-dark-700/50 last:border-0 hover:bg-gray-50 dark:hover:bg-dark-700/30 transition-colors",children:[i.jsx("td",{className:"px-4 py-4 font-mono text-xs text-gray-600 dark:text-gray-300",children:h.id}),i.jsx("td",{className:"px-4 py-4 text-gray-900 dark:text-white font-medium",children:h.source}),i.jsx("td",{className:"px-4 py-4",children:h.date}),i.jsx("td",{className:"px-4 py-4",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${h.status==="Completed"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":h.status==="Pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:h.status})}),i.jsxs("td",{className:`px-4 py-4 text-right font-bold ${h.amount<0?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:[h.amount<0?"-":"+","MWK ",Math.abs(h.amount).toFixed(2)]})]},p))})]})})]})]})},qte="pk.eyJ1IjoicGF0cmljay0xIiwiYSI6ImNtaTh0cGR2ajBmbmUybnNlZTk1dGV1NGEifQ.UCC5FLCAdiDj0EL93gnekg",Gte=()=>{const[e,t]=S.useState(5),[r,n]=S.useState(1.5),[a,o]=S.useState(.5),[s,l]=S.useState(!1),[c,u]=S.useState(null),f=S.useRef(null),d=S.useRef(null),[h,p]=S.useState([]);S.useEffect(()=>{(async()=>{const k=await Y.getPricingZones();p(k)})()},[]);const[y,m]=S.useState(""),x=b=>{if(d.current&&!d.current.getSource(`route-${b.id}`))try{d.current.addSource(`route-${b.id}`,{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:b.coordinates}}}),d.current.addLayer({id:`route-${b.id}`,type:"line",source:`route-${b.id}`,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":b.color,"line-width":8,"line-opacity":.8}}),new window.mapboxgl.Marker({color:b.color}).setLngLat(b.coordinates[0]).addTo(d.current),new window.mapboxgl.Marker({color:b.color}).setLngLat(b.coordinates[b.coordinates.length-1]).addTo(d.current)}catch(k){console.warn("Failed to add zone layer",k)}};S.useEffect(()=>{if(!window.mapboxgl||d.current)return;window.mapboxgl.accessToken=qte;const k=setTimeout(()=>{try{d.current=new window.mapboxgl.Map({container:f.current,style:"mapbox://styles/mapbox/dark-v11",center:[-73.935242,40.73061],zoom:12,pitch:60,bearing:-17.6,antialias:!0}),d.current.on("load",()=>{var A;const N=(A=d.current.getStyle().layers.find(P=>P.type==="symbol"&&P.layout["text-field"]))==null?void 0:A.id;if(N)try{d.current.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6}},N)}catch(P){console.warn("Building layer error",P)}h.forEach(P=>{x(P)})}),d.current.on("error",w=>{var N,A,P,E;(A=(N=w.error)==null?void 0:N.message)!=null&&A.includes("Blocked a frame")||(E=(P=w.error)==null?void 0:P.message)!=null&&E.includes("Location")||console.warn("Mapbox runtime warning:",w)})}catch(w){console.error("Error initializing Mapbox:",w),u("Failed to load map")}},100);return()=>clearTimeout(k)},[]),S.useEffect(()=>{!d.current||!d.current.isStyleLoaded()||h.forEach(b=>{d.current.getSource(`route-${b.id}`)||x(b)})},[h]),S.useEffect(()=>{d.current&&setTimeout(()=>{d.current.resize()},300)},[s]);const g=()=>{if(y){const k={id:Date.now(),name:y,multiplier:1.2,color:"#3b82f6",coordinates:[[-73.9,40.7],[-73.95,40.75]]};p([...h,k]),m("")}},v=()=>{l(!s)};return i.jsxs("div",{className:"space-y-6",children:[s&&i.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 backdrop-blur-sm transition-opacity duration-300",onClick:v}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs("div",{className:"flex-1 bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-500/20 rounded-lg mr-4",children:i.jsx(Qi,{className:"h-6 w-6 text-primary-600 dark:text-primary-500"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Base Pricing"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Set standard rates for rides"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Base Fare (MWK)"}),i.jsx("input",{type:"number",value:e,onChange:b=>t(parseFloat(b.target.value)),className:"w-full bg-gray-50 dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg px-4 py-2 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rate per km (MWK)"}),i.jsx("input",{type:"number",value:r,onChange:b=>n(parseFloat(b.target.value)),className:"w-full bg-gray-50 dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg px-4 py-2 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rate per min (MWK)"}),i.jsx("input",{type:"number",value:a,onChange:b=>o(parseFloat(b.target.value)),className:"w-full bg-gray-50 dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg px-4 py-2 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none"})]}),i.jsx("button",{className:"w-full mt-4 bg-primary-500 hover:bg-primary-600 text-black font-bold py-2 rounded-lg transition-colors",children:"Update Rates"})]})]}),i.jsxs("div",{className:"flex-1 bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm flex flex-col",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-500/20 rounded-lg mr-4",children:i.jsx(Ir,{className:"h-6 w-6 text-blue-600 dark:text-blue-500"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Surge Routes"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage dynamic pricing routes"})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 mb-4 h-48 md:h-auto no-scrollbar",children:h.map(b=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-dark-700 rounded-lg border border-gray-200 dark:border-dark-600",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:b.color}}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:b.name})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mr-2",children:"Multiplier:"}),i.jsx("input",{type:"number",step:"0.1",value:b.multiplier,onChange:k=>{const w=parseFloat(k.target.value)||0;p(h.map(N=>N.id===b.id?{...N,multiplier:w}:N))},className:"w-16 bg-white dark:bg-dark-800 border border-gray-300 dark:border-dark-500 rounded px-2 py-1 text-sm text-center text-gray-900 dark:text-white font-bold focus:ring-2 focus:ring-primary-500 outline-none"})]})]},b.id))}),i.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200 dark:border-dark-600",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",placeholder:"Route Name",value:y,onChange:b=>m(b.target.value),className:"flex-1 bg-gray-50 dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg px-4 py-2 text-sm text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary-500"}),i.jsx("button",{onClick:g,className:"bg-dark-700 dark:bg-dark-600 hover:bg-dark-600 dark:hover:bg-dark-500 text-white p-2 rounded-lg",children:i.jsx(Fl,{className:"h-5 w-5"})})]})})]})]}),i.jsxs("div",{className:`bg-white dark:bg-dark-800 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm overflow-hidden transition-all duration-500 ease-in-out flex flex-col ${s?"fixed inset-4 z-50 h-auto shadow-2xl border-2 border-primary-500/50":"relative h-96 w-full"}`,children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-dark-700 flex justify-between items-center bg-gray-50 dark:bg-dark-700/50 shrink-0",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-200 flex items-center",children:["Live Surge Map",s&&!c&&i.jsx("span",{className:"ml-2 text-xs bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-500 px-2 py-0.5 rounded-full",children:"3D View Active"})]}),i.jsxs("div",{className:"hidden sm:flex space-x-2",children:[i.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800",children:"High Surge (2.5x)"}),i.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400 border border-orange-200 dark:border-orange-800",children:"Med Surge (1.8x)"})]})]}),i.jsx("button",{onClick:v,className:`p-2 rounded-lg transition-colors ${s?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30":"hover:bg-gray-200 dark:hover:bg-dark-600 text-gray-500 dark:text-gray-400"}`,title:s?"Close Fullscreen":"Expand Map",children:s?i.jsx(tn,{className:"h-5 w-5"}):i.jsx(f1,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"relative flex-1 bg-gray-100 dark:bg-dark-900 w-full h-full group",children:[c?i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-6 text-gray-500 dark:text-gray-400",children:[i.jsx(Ir,{className:"h-12 w-12 mb-3 opacity-20"}),i.jsx("p",{className:"font-medium",children:"Map Unavailable"}),i.jsx("p",{className:"text-xs mt-1 max-w-xs opacity-70",children:"Add a valid Mapbox Access Token to the code to enable the live map view."})]}):i.jsx("div",{ref:f,className:"absolute inset-0"}),!s&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/0 hover:bg-black/20 cursor-pointer transition-all z-30",onClick:v,children:i.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-300 bg-black/80 text-white px-5 py-3 rounded-full flex items-center shadow-lg backdrop-blur-sm border border-white/10",children:[i.jsx(f1,{className:"h-5 w-5 mr-2"}),i.jsx("span",{className:"font-semibold",children:"Click to View Full Map"})]})}),i.jsx("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-[10px] px-2 py-1 rounded z-10 pointer-events-none",children:"Powered by Mapbox"})]})]})]})},zk=[{name:"Completed",value:85,color:"#22c55e"},{name:"Cancelled",value:10,color:"#ef4444"},{name:"In Progress",value:5,color:"#eab308"}],hd=({title:e,value:t,subValue:r,icon:n,active:a,breakdown:o,hoverClass:s})=>i.jsxs("div",{className:`p-6 rounded-xl border transition-all duration-300 group hover:shadow-lg ${a?"bg-primary-50 dark:bg-primary-500/10 border-primary-500 shadow-md":`bg-white dark:bg-dark-800 border-gray-300 dark:border-dark-700 ${s||"hover:border-primary-500/50 hover:shadow-primary-500/40"}`}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:`text-sm font-medium ${a?"text-primary-700 dark:text-primary-500":"text-gray-500 dark:text-gray-400"}`,children:e}),i.jsx("div",{className:`p-2 rounded-lg transition-colors duration-300 ${a?"bg-primary-200 dark:bg-primary-500/20":"bg-gray-100 dark:bg-dark-700"}`,children:i.jsx(n,{className:`h-5 w-5 ${a?"text-primary-700 dark:text-primary-500":"text-gray-500 dark:text-gray-400"}`})})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:t}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:r}),o&&i.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700 grid grid-cols-2 gap-4",children:o.map((l,c)=>i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 dark:text-gray-400 font-semibold",children:l.label}),i.jsx("p",{className:`text-sm font-bold ${l.color||"text-gray-700 dark:text-gray-200"}`,children:l.value})]},c))})]})]}),Yte=({onBack:e})=>{var v,b,k,w;const[t,r]=S.useState("Weekly"),[n,a]=S.useState({weekly:[],monthly:[],yearly:[]});S.useEffect(()=>{let N=!0;return(async()=>{try{const A=await Y.getTotalRidesData();N&&a(A)}catch(A){console.warn("Failed to fetch total rides data",A)}})(),()=>{N=!1}},[]);const o=()=>{switch(t){case"Weekly":return n.weekly;case"Monthly":return n.monthly;case"Yearly":return n.yearly;default:return n.weekly}},l=(()=>o().reduce((A,P)=>A+(P.rides||0),0))(),c=(l??0).toLocaleString(),u=()=>{const N=o(),A=N.reduce((E,M)=>E+(M.share||0),0),P=N.reduce((E,M)=>E+(M.hire||0),0);return{share:A,hire:P}},{share:f,hire:d}=u(),h=f.toLocaleString(),p=d.toLocaleString(),y=((b=(v=n.breakdown)==null?void 0:v.completed)==null?void 0:b.toLocaleString())||Math.floor((l??0)*.92).toLocaleString(),m=((w=(k=n.breakdown)==null?void 0:k.cancelled)==null?void 0:w.toLocaleString())||Math.floor((l??0)*.08).toLocaleString(),x=n.monthly,g=({active:N,payload:A,label:P})=>{var E;return N&&A&&A.length?i.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-300 dark:border-dark-600 p-3 rounded-lg shadow-xl",children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm font-medium mb-1",children:P}),i.jsxs("p",{className:"text-primary-600 dark:text-primary-500 text-lg font-bold",children:[(((E=A[0])==null?void 0:E.value)??0).toLocaleString()," Rides"]}),A[1]&&i.jsxs("p",{className:"text-blue-500 text-xs font-medium mt-1",children:[A[1].name,": ",(A[1].value??0).toLocaleString()]})]}):null};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[i.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-gray-200 dark:bg-dark-700 hover:bg-gray-300 dark:hover:bg-dark-600 text-gray-900 dark:text-white transition-colors",children:i.jsx(wc,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Total Rides Analytics"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Detailed breakdown of ride volume and performance"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(hd,{title:"Total Rides",value:c,subValue:`Total ${t.toLowerCase()} volume`,icon:Ue,active:!0,breakdown:[{label:"Ride Share",value:h,color:"text-primary-600 dark:text-primary-500"},{label:"For Hire",value:p,color:"text-blue-600 dark:text-blue-500"}],hoverClass:"hover:border-primary-500 hover:shadow-primary-500/40"}),i.jsx(hd,{title:"Ride Status",value:"92.4%",subValue:"Completion Rate",icon:ka,breakdown:[{label:"Completed",value:y,color:"text-green-600 dark:text-green-500"},{label:"Cancelled",value:m,color:"text-red-600 dark:text-red-500"}],hoverClass:"hover:border-green-500 hover:shadow-green-500/40"}),i.jsx(hd,{title:"Avg Daily Rides",value:(()=>{try{const N=n.weekly||[],A=N.reduce((P,E)=>P+(E.rides||0),0);return N.length?Math.round(A/N.length).toLocaleString():""}catch{return""}})(),subValue:"Average over selected period",icon:ri,hoverClass:"hover:border-orange-500 hover:shadow-orange-500/40"}),i.jsx(hd,{title:"Avg Distance",value:(()=>n&&typeof n.avgDistance=="number"?`${n.avgDistance.toFixed(1)} km`:"")(),subValue:"Per trip avg.",icon:Qi,hoverClass:"hover:border-indigo-500 hover:shadow-indigo-500/40"})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ride Volume History"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Comparative view of completed vs cancelled rides"})]}),i.jsx("div",{className:"bg-gray-100 dark:bg-dark-700 p-1 rounded-lg flex space-x-1 mt-4 sm:mt-0",children:["Weekly","Monthly","Yearly"].map(N=>i.jsx("button",{onClick:()=>r(N),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t===N?"bg-white dark:bg-dark-600 text-primary-600 dark:text-primary-500 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:N},N))})]}),i.jsx("div",{className:"h-96 w-full",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(by,{data:o(),margin:{top:10,right:10,left:-10,bottom:0},children:[i.jsx(Sr,{strokeDasharray:"3 3",vertical:!1,stroke:"#374151",opacity:.2}),i.jsx(Wt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},dy:10}),i.jsx(Vt,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12}}),i.jsx(ct,{content:i.jsx(g,{}),cursor:{fill:"transparent"}}),i.jsx(on,{dataKey:"rides",fill:"#FACC15",radius:[4,4,0,0],barSize:t==="Yearly"?60:30}),i.jsx(on,{dataKey:"cancelled",fill:"#EF4444",radius:[4,4,0,0],barSize:t==="Yearly"?60:30,stackId:"a"})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm flex flex-col",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Ride Status Distribution"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Breakdown of all requested rides"}),i.jsx("div",{className:"flex-1 min-h-[300px]",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(J3,{children:[i.jsx(Yn,{data:zk,cx:"50%",cy:"50%",innerRadius:80,outerRadius:110,paddingAngle:5,dataKey:"value",children:zk.map((N,A)=>i.jsx(uu,{fill:N.color,strokeWidth:0},`cell-${A}`))}),i.jsx(ct,{contentStyle:{backgroundColor:"#1f2937",borderColor:"#374151",color:"#f3f4f6"},itemStyle:{color:"#f3f4f6"}}),i.jsx(Cn,{verticalAlign:"bottom",height:36,formatter:(N,A)=>i.jsx("span",{className:"text-gray-600 dark:text-gray-300 ml-2",children:N})})]})})})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm flex flex-col",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Ride Type Trends"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Share vs For Hire Comparison"}),i.jsx("div",{className:"flex-1 min-h-[300px]",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(Ca,{data:x,margin:{top:10,right:0,left:-20,bottom:0},children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"colorShare",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#FACC15",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#FACC15",stopOpacity:0})]}),i.jsxs("linearGradient",{id:"colorHire",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})]}),i.jsx(Wt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:10}}),i.jsx(Vt,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:10}}),i.jsx(Sr,{strokeDasharray:"3 3",vertical:!1,stroke:"#374151",opacity:.1}),i.jsx(ct,{contentStyle:{backgroundColor:"#1f2937",borderColor:"#374151",color:"#f3f4f6"}}),i.jsx(Ht,{type:"monotone",dataKey:"share",stroke:"#FACC15",fillOpacity:1,fill:"url(#colorShare)",name:"Ride Share"}),i.jsx(Ht,{type:"monotone",dataKey:"hire",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorHire)",name:"For Hire"}),i.jsx(Cn,{verticalAlign:"top",align:"right",height:36,iconType:"circle"})]})})})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Daily Ride Statistics (Last 7 Days)"}),i.jsx("div",{className:"overflow-x-auto no-scrollbar",children:i.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[i.jsx("thead",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase bg-gray-50 dark:bg-dark-700",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Day"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Total Rides"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Cancelled"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Completion Rate"})]})}),i.jsx("tbody",{children:n.weekly.map((N,A)=>{const P=N.rides>0?((N.rides-N.cancelled)/N.rides*100).toFixed(1):"0.0";return i.jsxs("tr",{className:"bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700 hover:bg-gray-50 dark:hover:bg-dark-700/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:N.name}),i.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white font-bold",children:(N.rides??0).toLocaleString()}),i.jsx("td",{className:"px-6 py-4 text-red-500 font-medium",children:N.cancelled}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:"text-gray-700 dark:text-gray-300 mr-3 w-10 text-right",children:[P,"%"]}),i.jsx("div",{className:"w-32 bg-gray-200 dark:bg-dark-600 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${parseFloat(P)>90?"bg-green-500":parseFloat(P)>80?"bg-yellow-500":"bg-red-500"}`,style:{width:`${P}%`}})})]})})]},A)})})]})})]})]})},Ym=({title:e,value:t,subValue:r,icon:n})=>i.jsxs("div",{className:"p-6 rounded-xl border bg-white dark:bg-dark-800 border-gray-300 dark:border-dark-700 shadow-sm transition-all duration-300 group hover:shadow-lg hover:border-blue-500 hover:shadow-blue-500/40",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e}),i.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-500/20 group-hover:bg-blue-200 dark:group-hover:bg-blue-500/30 transition-colors",children:i.jsx(n,{className:"h-5 w-5 text-blue-600 dark:text-blue-500"})})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:t}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:r})]})]}),Xte=({onBack:e})=>{const[t,r]=S.useState("Weekly"),[n,a]=S.useState({weekly:[],monthly:[]});S.useEffect(()=>{let s=!0;return(async()=>{try{const l=await Y.getRideShareData();s&&a(l)}catch(l){console.warn("Failed to load ride share data",l)}})(),()=>{s=!1}},[]);const o=({active:s,payload:l,label:c})=>{var u;return s&&l&&l.length?i.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-300 dark:border-dark-600 p-3 rounded-lg shadow-xl",children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm font-medium mb-1",children:c}),i.jsxs("p",{className:"text-blue-600 dark:text-blue-500 text-lg font-bold",children:[(((u=l[0])==null?void 0:u.value)??0).toLocaleString()," Rides"]})]}):null};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[i.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-gray-200 dark:bg-dark-700 hover:bg-gray-300 dark:hover:bg-dark-600 text-gray-900 dark:text-white transition-colors",children:i.jsx(wc,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-500 mr-3"}),"Ride Share Analytics"]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Performance metrics for Ride Share services"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[i.jsx(Ym,{title:"Total Ride Shares",value:"13,720",subValue:"+12% vs last week",icon:Ue}),i.jsx(Ym,{title:"Active Vehicles",value:"845",subValue:"Currently on road",icon:ka}),i.jsx(Ym,{title:"Avg Fare",value:"MWK 24.50",subValue:"Per completed trip",icon:ri})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[t," Volume"]}),i.jsx("div",{className:"bg-gray-100 dark:bg-dark-700 p-1 rounded-lg flex space-x-1 mt-4 sm:mt-0",children:["Weekly","Monthly"].map(s=>i.jsx("button",{onClick:()=>r(s),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t===s?"bg-white dark:bg-dark-600 text-blue-600 dark:text-blue-500 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:s},s))})]}),i.jsx("div",{className:"h-80 w-full",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(Ca,{data:t==="Weekly"?n.weekly||[]:n.monthly||[],margin:{top:10,right:10,left:-10,bottom:0},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorRideShare",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),i.jsx(Sr,{strokeDasharray:"3 3",vertical:!1,stroke:"#374151",opacity:.2}),i.jsx(Wt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},dy:10}),i.jsx(Vt,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12}}),i.jsx(ct,{content:i.jsx(o,{}),cursor:{stroke:"#3b82f6",strokeWidth:1}}),i.jsx(Ht,{type:"monotone",dataKey:"rides",stroke:"#3b82f6",strokeWidth:3,fillOpacity:1,fill:"url(#colorRideShare)"})]})})})]})]})},Si=({title:e,value:t,subValue:r,icon:n,trend:a,trendUp:o})=>i.jsxs("div",{className:"p-6 rounded-xl border bg-white dark:bg-dark-800 border-gray-300 dark:border-dark-700 shadow-sm transition-all duration-300 group hover:shadow-lg hover:border-purple-500 hover:shadow-purple-500/40",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e}),i.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-500/20 group-hover:bg-purple-200 dark:group-hover:bg-purple-500/30 transition-colors",children:i.jsx(n,{className:"h-5 w-5 text-purple-600 dark:text-purple-500"})})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:t}),i.jsxs("div",{className:"flex items-center text-xs",children:[a&&i.jsxs("span",{className:`font-medium mr-2 ${o?"text-green-500":"text-red-500"}`,children:[o?"":""," ",a]}),i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:r})]})]})]}),Jte=({category:e,onClick:t})=>i.jsxs("div",{onClick:t,className:"cursor-pointer bg-white dark:bg-dark-800 p-5 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm hover:shadow-lg hover:border-purple-500 hover:scale-[1.02] transition-all duration-300",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"text-3xl mr-3",children:e.icon}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm sm:text-base",children:e.title}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.count," Units Listed"]})]})]}),i.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-bold px-2 py-1 rounded",children:[e.available," Avail."]})]}),i.jsx("div",{className:"w-full bg-gray-100 dark:bg-dark-700 rounded-full h-1.5 mb-4",children:i.jsx("div",{className:"bg-purple-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${e.available/e.count*100}%`}})}),i.jsxs("div",{className:"space-y-1",children:[e.examples.slice(0,4).map((r,n)=>i.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-300 flex items-center",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 dark:bg-gray-600 rounded-full mr-2"}),r]},n)),e.examples.length>4&&i.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium pl-3.5 pt-1",children:["+",e.examples.length-4," more models"]})]})]}),Qte=({onBack:e})=>{var c;const[t,r]=S.useState("Weekly"),[n,a]=S.useState(null),[o,s]=S.useState({weekly:[],monthly:[],categories:[]});S.useEffect(()=>{let u=!0;return(async()=>{try{const f=await Y.getForHireData();u&&s(f)}catch(f){console.warn("Failed to load for-hire data",f)}})(),()=>{u=!1}},[]);const l=({active:u,payload:f,label:d})=>{var h;return u&&f&&f.length?i.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-300 dark:border-dark-600 p-3 rounded-lg shadow-xl",children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm font-medium mb-1",children:d}),i.jsxs("p",{className:"text-purple-500 dark:text-purple-400 text-sm font-bold",children:[(((h=f[0])==null?void 0:h.value)??0).toLocaleString()," Requests"]})]}):null};return n?i.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[i.jsx("button",{onClick:()=>a(null),className:"p-2 rounded-lg bg-gray-200 dark:bg-dark-700 hover:bg-gray-300 dark:hover:bg-dark-600 text-gray-900 dark:text-white transition-colors",children:i.jsx(wc,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx("span",{className:"text-3xl mr-3",children:n.icon}),n.title]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Detailed performance and fleet analytics"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(Si,{title:"Active Rentals",value:n.stats.activeRentals.toString(),subValue:"People currently hiring",trend:`${Math.abs(n.stats.growth)}%`,trendUp:n.stats.growth>0,icon:ri}),i.jsx(Si,{title:"Fleet Size",value:n.count.toString(),subValue:`${n.available} currently available`,icon:Ue}),i.jsx(Si,{title:"Weekly Revenue",value:`MWK ${(((c=n==null?void 0:n.stats)==null?void 0:c.revenue)??0).toLocaleString()}`,subValue:"From this category",trend:"4.2%",trendUp:!0,icon:Qi}),i.jsx(Si,{title:"Avg Rate",value:`MWK ${n.stats.avgRate}`,subValue:"Per day / job",icon:ri})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Demand Trend (Last 7 Days)"}),i.jsx("div",{className:"h-80 w-full",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(Ca,{data:n.stats.chartData,margin:{top:10,right:10,left:-10,bottom:0},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorCategory",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})}),i.jsx(Sr,{strokeDasharray:"3 3",vertical:!1,stroke:"#374151",opacity:.2}),i.jsx(Wt,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},dy:10}),i.jsx(Vt,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12}}),i.jsx(ct,{content:i.jsx(l,{}),cursor:{stroke:"#374151",strokeWidth:1}}),i.jsx(Ht,{type:"monotone",dataKey:"value",stroke:"#8b5cf6",strokeWidth:3,fillOpacity:1,fill:"url(#colorCategory)"})]})})})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Vehicles in this Category"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.examples.map((u,f)=>i.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-dark-700/50 rounded-lg border border-gray-200 dark:border-dark-600",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 dark:bg-dark-600 flex items-center justify-center mr-3 text-lg",children:n.icon}),i.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:u})]},f))})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[i.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-gray-200 dark:bg-dark-700 hover:bg-gray-300 dark:hover:bg-dark-600 text-gray-900 dark:text-white transition-colors",children:i.jsx(wc,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx("span",{className:"w-3 h-3 rounded-full bg-purple-500 mr-3"}),"For Hire Analytics"]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Private hire, machinery, and scheduled trip performance"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[i.jsx(Si,{title:"Total Hire Jobs",value:"2,450",subValue:"+5% vs last week",icon:Qi}),i.jsx(Si,{title:"Advance Bookings",value:"32%",subValue:"Of total trips",icon:ri}),i.jsx(Si,{title:"Avg Trip Distance",value:"12.4 km",subValue:"Longer than ride share",icon:Ir})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[t," Scheduled vs Immediate"]}),i.jsx("div",{className:"bg-gray-100 dark:bg-dark-700 p-1 rounded-lg flex space-x-1 mt-4 sm:mt-0",children:["Weekly","Monthly"].map(u=>i.jsx("button",{onClick:()=>r(u),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t===u?"bg-white dark:bg-dark-600 text-purple-600 dark:text-purple-500 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:u},u))})]}),i.jsx("div",{className:"h-80 w-full",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(Ca,{data:t==="Weekly"?o.weekly||[]:o.monthly||[],margin:{top:10,right:10,left:-10,bottom:0},children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"colorScheduled",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#4f46e5",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#4f46e5",stopOpacity:0})]}),i.jsxs("linearGradient",{id:"colorImmediate",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#a855f7",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#a855f7",stopOpacity:0})]})]}),i.jsx(Sr,{strokeDasharray:"3 3",vertical:!1,stroke:"#374151",opacity:.2}),i.jsx(Wt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},dy:10}),i.jsx(Vt,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12}}),i.jsx(ct,{content:i.jsx(l,{}),cursor:{stroke:"#374151",strokeWidth:1}}),i.jsx(Ht,{type:"monotone",dataKey:"scheduled",stroke:"#4f46e5",strokeWidth:3,fillOpacity:1,fill:"url(#colorScheduled)",name:"Scheduled"}),i.jsx(Ht,{type:"monotone",dataKey:"immediate",stroke:"#a855f7",strokeWidth:3,fillOpacity:1,fill:"url(#colorImmediate)",name:"Immediate"})]})})})]}),i.jsxs("div",{className:"pt-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:"Fleet Availability & Categories"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Select a category below to view specific hiring statistics and trends."}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:o.categories.map((u,f)=>i.jsx(Jte,{category:u,onClick:()=>a(u)},f))})]})]})},Zte=({initialChatId:e,currentUserId:t})=>{const[r,n]=S.useState([]),[a,o]=S.useState(""),s=S.useRef(null),l=r.find(h=>h.id===a),c=()=>{var h;(h=s.current)==null||h.scrollIntoView({behavior:"smooth"})};S.useEffect(()=>{c()},[l==null?void 0:l.messages,a]),S.useEffect(()=>{const h=p=>{console.log("Socket received message:",p),!(!p.conversationId&&!p.rideId)&&n(y=>y.map(m=>{if(m.id===p.conversationId||p.rideId&&m.id===p.rideId){const x=p.senderId===t||p.senderId==="admin";if(m.messages.some(b=>!!(b.id===p.id||(Math.abs(new Date(b.timestamp).getTime()-new Date(p.createdAt||Date.now()).getTime()),x&&b.sender==="agent"&&b.text===p.text))))return m;const v={id:p.id||Date.now().toString(),text:p.text,sender:x?"agent":"user",timestamp:new Date(p.createdAt||Date.now()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return{...m,messages:[...m.messages,v],lastMessage:p.text,time:"Just now",unread:a!==m.id?(m.unread||0)+1:0}}return m}))};return ce.on("new_message",h),()=>{ce.off("new_message",h)}},[a]),S.useEffect(()=>{a&&(console.log("Joining conversation room:",a),ce.emit("join_conversation",a))},[a]),S.useEffect(()=>{e&&o(e)},[e]),S.useEffect(()=>{let h=!0;return(async()=>{try{const p=await Y.getConversations();h&&p&&(n(p),!e&&p.length&&!a&&o(p[0].id),e&&p.some(y=>y.id===e)&&o(e))}catch(p){console.warn("Failed to load conversations",p)}})(),()=>{h=!1}},[e]);const[u,f]=S.useState(""),d=h=>{if(h.preventDefault(),!u.trim()||!l)return;const y={id:Date.now().toString(),text:u,sender:"agent",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};n(g=>g.map(v=>v.id===a?{...v,messages:[...v.messages,y],lastMessage:u,time:"Just now"}:v));const m=u;f("");const x=l.participants&&l.participants.length>0?l.participants[0]:void 0;ce.emit("send_message",{conversationId:a,text:m,recipientId:x})};return i.jsxs("div",{className:"flex h-[calc(100vh-8rem)] bg-white dark:bg-dark-800 rounded-xl border border-gray-300 dark:border-dark-700 shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"w-full md:w-80 border-r border-gray-200 dark:border-dark-700 flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-dark-700",children:i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:i.jsx(ga,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",placeholder:"Search chats...",className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-dark-700 border-none rounded-lg focus:ring-2 focus:ring-primary-500 text-gray-900 dark:text-white placeholder-gray-500 outline-none"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:r.map(h=>i.jsxs("div",{onClick:()=>o(h.id),className:`p-4 flex items-center cursor-pointer hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors ${a===h.id?"bg-primary-50 dark:bg-primary-900/10 border-r-4 border-primary-500":""}`,children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:h.avatar,alt:h.name,className:"w-10 h-10 rounded-full object-cover"}),i.jsx("span",{className:`absolute bottom-0 right-0 w-3 h-3 border-2 border-white dark:border-dark-800 rounded-full ${h.status==="online"?"bg-green-500":"bg-gray-400"}`})]}),i.jsxs("div",{className:"ml-3 flex-1 overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-baseline",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:h.name}),i.jsx("span",{className:"text-xs text-gray-500",children:h.time})]}),i.jsxs("div",{className:"flex justify-between items-center mt-1",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[140px]",children:h.lastMessage}),h.unread>0&&i.jsx("span",{className:"bg-primary-500 text-black text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center",children:h.unread})]}),i.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded mt-1 inline-block ${h.role==="Driver"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"}`,children:h.role})]})]},h.id))})]}),i.jsx("div",{className:"flex-1 flex flex-col hidden md:flex",children:l?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-dark-700 flex justify-between items-center bg-gray-50 dark:bg-dark-700/30",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:l.avatar,alt:l.name,className:"w-10 h-10 rounded-full object-cover"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:l.name}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[l.role,"  ",l.status==="online"?"Online":"Offline"]})]})]}),i.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-dark-900/50 no-scrollbar",children:[l.messages.map(h=>i.jsxs("div",{className:`flex ${h.sender==="agent"?"justify-end":"justify-start"}`,children:[h.sender==="user"&&i.jsx("img",{src:l.avatar,alt:l.name,className:"w-8 h-8 rounded-full mr-2 self-end mb-1"}),i.jsxs("div",{className:`max-w-[70%] px-4 py-3 rounded-2xl shadow-sm ${h.sender==="agent"?"bg-primary-500 text-black rounded-tr-none":"bg-white dark:bg-dark-700 text-gray-900 dark:text-white rounded-tl-none"}`,children:[i.jsx("p",{className:"text-sm",children:h.text}),i.jsx("p",{className:`text-[10px] mt-1 text-right ${h.sender==="agent"?"text-primary-900/60":"text-gray-400"}`,children:h.timestamp})]})]},h.id)),i.jsx("div",{ref:s})]}),i.jsx("div",{className:"p-4 bg-white dark:bg-dark-800 border-t border-gray-200 dark:border-dark-700",children:i.jsxs("form",{onSubmit:d,className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),i.jsx("input",{type:"text",value:u,onChange:h=>f(h.target.value),placeholder:"Type a message...",className:"flex-1 bg-gray-100 dark:bg-dark-700 border-transparent focus:border-primary-500 focus:ring-0 rounded-lg px-4 py-2 text-gray-900 dark:text-white outline-none transition-colors"}),i.jsx("button",{type:"submit",disabled:!u.trim(),className:`p-2 rounded-lg transition-colors ${u.trim()?"bg-primary-500 text-black hover:bg-primary-600":"bg-gray-200 dark:bg-dark-600 text-gray-400 cursor-not-allowed"}`,children:i.jsx(Sx,{className:"h-5 w-5"})})]})})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[i.jsx(ni,{className:"h-16 w-16 mb-4 text-gray-300 dark:text-dark-600"}),i.jsx("p",{className:"text-lg font-medium",children:"Select a conversation to start chatting"})]})})]})},ere=({onLogin:e})=>{const[t,r]=S.useState(""),[n,a]=S.useState(""),[o,s]=S.useState(!1),[l,c]=S.useState("role"),[u,f]=S.useState("rider"),[d,h]=S.useState(""),[p,y]=S.useState(""),[m,x]=S.useState(null),[g,v]=S.useState(""),[b,k]=S.useState(""),[w,N]=S.useState(""),[A,P]=S.useState(""),[E,M]=S.useState(!1),_=async R=>{if(R.preventDefault(),console.log("Login form submitted for:",t),P(""),!t||!n){P("Please enter both email and password");return}M(!0),await new Promise(W=>setTimeout(W,2e3));try{console.log("Calling ApiService.login...");const W=await Y.login(t,n);if(console.log("ApiService.login returned:",W),!W)throw new Error("Invalid login response");const Z=W.role||"admin";console.log("Calling onLogin with role:",Z),e(Z)}catch(W){console.error("Login error in component:",W);const Z=W.message||"Login failed";P(Z),alert("Login Error: "+Z)}finally{M(!1)}},T=R=>{var Z;const W=(Z=R.target.files)==null?void 0:Z[0];if(W){if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(W.type)){P("Only JPEG, PNG, and PDF files are allowed");return}if(W.size>5*1024*1024){P("File size must be less than 5MB");return}if(x(W),P(""),W.type.startsWith("image/")){const ee=new FileReader;ee.onloadend=()=>{v(ee.result)},ee.readAsDataURL(W)}else v("")}},L=async()=>{P(""),M(!0),await new Promise(R=>setTimeout(R,2e3));try{if(u==="driver"){if(!m){P("Driver license is required"),M(!1);return}if(!(p||b||w)){P("WhatsApp number or mobile money number is required"),M(!1);return}}const R={name:d,email:t,password:n,role:u,phone:p,...u==="driver"&&{airtelMoneyNumber:b,mpambaNumber:w}},W=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),Z=W.headers.get("content-type");let ie;if(Z&&Z.indexOf("application/json")!==-1)ie=await W.json();else{const ee=await W.text();throw console.error("Server returned non-JSON:",ee),new Error(`Server Error (${W.status}): The server is not reachable or misconfigured.`)}if(!W.ok)throw new Error(ie.error||"Registration failed");if(u==="driver"&&m){const ee=new FormData;ee.append("license",m),(await fetch("/api/auth/upload-license",{method:"POST",headers:{Authorization:`Bearer ${ie.token}`},body:ee})).ok||console.error("License upload failed")}ie.token&&(localStorage.setItem("token",ie.token),alert(ie.message||"Registration successful!"),e(u))}catch(R){console.error("Registration error:",R);const W=R.message||"Registration failed";P(W),alert("Error: "+W)}finally{M(!1)}},K=()=>{s(!1),c("role"),f("rider"),h(""),r(""),a(""),y(""),x(null),v(""),k(""),N(""),P("")},q=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Choose your role"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("button",{type:"button",onClick:()=>f("rider"),className:`p-6 rounded-xl border-2 transition-all ${u==="rider"?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-dark-700 hover:border-primary-300"}`,children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("div",{className:"font-semibold",children:"Passenger"}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Book rides"})]}),i.jsxs("button",{type:"button",onClick:()=>f("driver"),className:`p-6 rounded-xl border-2 transition-all ${u==="driver"?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-dark-700 hover:border-primary-300"}`,children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("div",{className:"font-semibold",children:"Driver"}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Offer rides"})]})]})]}),i.jsx("button",{type:"button",onClick:()=>c("basic"),className:"w-full py-3 px-4 bg-primary-500 hover:bg-primary-600 text-black font-bold rounded-lg transition-colors",children:"Continue"})]}),G=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Full Name"}),i.jsx("input",{type:"text",required:!0,value:d,onChange:R=>h(R.target.value),className:"block w-full px-4 py-3 bg-gray-50 dark:bg-dark-800 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"John Doe"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email address"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(p1,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"email",required:!0,value:t,onChange:R=>r(R.target.value),className:"block w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-dark-800 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"name@example.com"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),i.jsx("input",{type:"tel",required:!0,value:p,onChange:R=>y(R.target.value),className:"block w-full px-4 py-3 bg-gray-50 dark:bg-dark-800 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"+265 991 234 567"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(h1,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"password",required:!0,value:n,onChange:R=>a(R.target.value),className:"block w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-dark-800 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:""})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"button",onClick:()=>c("role"),className:"flex-1 py-3 px-4 border border-gray-300 dark:border-dark-700 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-dark-800 transition-colors",children:"Back"}),i.jsx("button",{type:"button",onClick:()=>{u==="driver"?c("driver-details"):L()},disabled:E,className:"flex-1 py-3 px-4 bg-primary-500 hover:bg-primary-600 text-black font-bold rounded-lg transition-colors disabled:opacity-50",children:E?"Processing...":u==="driver"?"Continue":"Sign Up"})]})]}),Q=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Driver's License"}),i.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-dark-700 rounded-lg p-6 text-center",children:g?i.jsxs("div",{className:"space-y-3",children:[i.jsx("img",{src:g,alt:"License preview",className:"max-h-40 mx-auto rounded"}),i.jsx("button",{type:"button",onClick:()=>{x(null),v("")},className:"text-sm text-red-500 hover:text-red-600",children:"Remove"})]}):m?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-4xl",children:""}),i.jsx("div",{className:"text-sm font-medium",children:m.name}),i.jsx("button",{type:"button",onClick:()=>x(null),className:"text-sm text-red-500 hover:text-red-600",children:"Remove"})]}):i.jsxs("div",{children:[i.jsx("input",{type:"file",id:"license-upload",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:T,className:"hidden"}),i.jsx("label",{htmlFor:"license-upload",className:"cursor-pointer inline-block px-4 py-2 bg-gray-100 dark:bg-dark-800 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-700 transition-colors",children:"Choose File"}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"JPEG, PNG, or PDF (max 5MB)"})]})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Contact & Payment Details"}),i.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"WhatsApp number for marketplace contact + Mobile Money for payouts"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Airtel Money Number"}),i.jsx("input",{type:"tel",value:b,onChange:R=>k(R.target.value),className:"block w-full px-4 py-3 bg-gray-50 dark:bg-dark-800 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"0991 234 567"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mpamba Number"}),i.jsx("input",{type:"tel",value:w,onChange:R=>N(R.target.value),className:"block w-full px-4 py-3 bg-gray-50 dark:bg-dark-800 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"0881 234 567"})]}),i.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-dark-700",children:[i.jsxs("p",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[i.jsx("svg",{className:"h-5 w-5 text-green-600",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),"WhatsApp Number (for client contact)"]}),i.jsx("input",{type:"tel",value:p,onChange:R=>y(R.target.value),className:"block w-full px-4 py-3 bg-gray-50 dark:bg-dark-800 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"+265 991 234 567"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This number will be used for marketplace WhatsApp contact"})]})]})]}),A&&i.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:A}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"button",onClick:()=>c("basic"),className:"flex-1 py-3 px-4 border border-gray-300 dark:border-dark-700 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-dark-800 transition-colors",children:"Back"}),i.jsx("button",{type:"button",onClick:L,disabled:E,className:"flex-1 py-3 px-4 bg-primary-500 hover:bg-primary-600 text-black font-bold rounded-lg transition-colors disabled:opacity-50",children:E?"Processing...":"Complete Registration"})]})]});return i.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row bg-white dark:bg-dark-900 font-sans text-gray-900 dark:text-gray-100",children:[i.jsx("div",{className:"flex-1 flex flex-col justify-center py-12 px-4 sm:px-6 lg:flex-none lg:px-20 xl:px-24 bg-white dark:bg-dark-900 border-r border-gray-200 dark:border-700 overflow-y-auto",children:i.jsxs("div",{className:"mx-auto w-full max-w-sm lg:w-96",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-extrabold mb-8 bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent",children:"RideX"}),i.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight",children:o?"Create an account":"Welcome back"}),i.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:o?l==="role"?"Start your journey with us today.":`Step ${l==="basic"?"2":"3"} of ${u==="driver"?"3":"2"}`:"Please enter your details to sign in."})]}),i.jsxs("div",{className:"mt-8",children:[o?i.jsxs("div",{children:[l==="role"&&q(),l==="basic"&&G(),l==="driver-details"&&Q()]}):i.jsxs("form",{onSubmit:_,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email address"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(p1,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"email",required:!0,value:t,onChange:R=>r(R.target.value),className:"block w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-dark-800 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"name@example.com"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(h1,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"password",required:!0,value:n,onChange:R=>a(R.target.value),className:"block w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-dark-800 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:""})]})]}),i.jsx("button",{type:"submit",disabled:E,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-bold text-black bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors ${E?"opacity-60 cursor-wait":""}`,children:E?"Signing in...":"Sign In"})]}),!o&&i.jsx(i.Fragment,{}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:()=>{o?K():s(!0)},className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:o?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})}),i.jsxs("div",{className:"hidden lg:block flex-1 relative",style:{backgroundColor:"#121212"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800 to-black opacity-90"}),i.jsx("div",{className:"absolute inset-0",style:{backgroundImage:'url("https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80")',backgroundSize:"cover",backgroundPosition:"center",opacity:.3}}),i.jsxs("div",{className:"relative h-full flex flex-col justify-center px-12 text-white",children:[i.jsxs("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:["The New Standard in ",i.jsx("br",{}),i.jsx("span",{className:"text-primary-500",children:"Mobility Management"})]}),i.jsx("p",{className:"text-lg text-gray-300 max-w-md mb-8",children:"Efficiently manage your fleet, track rides in real-time, and optimize revenue with our comprehensive dashboard."}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium bg-white/10 backdrop-blur-md px-4 py-2 rounded-full border border-white/20",children:[i.jsx(Ue,{className:"h-5 w-5 text-primary-500"}),"Ride Share"]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium bg-white/10 backdrop-blur-md px-4 py-2 rounded-full border border-white/20",children:[i.jsx(ZE,{className:"h-5 w-5 text-blue-400"}),"Global Tracking"]})]})]})]})]})},tre=()=>{const[e,t]=S.useState("verifying"),[r,n]=S.useState("Verifying your email..."),[a,o]=S.useState(!1),[s,l]=S.useState(""),[c,u]=S.useState("idle");S.useEffect(()=>{(async()=>{const p=new URLSearchParams(window.location.search).get("token");if(!p){t("error"),n("Invalid verification link. No token found."),o(!0);return}try{const y=await fetch("/api/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:p})}),m=await y.json();y.ok?(t("success"),n("Email verified successfully! Logging you in..."),m.token&&(localStorage.setItem("token",m.token),setTimeout(()=>{window.location.href="/"},2e3))):(t("error"),n(m.error||"Verification failed. Link may be expired."),m.expired&&o(!0))}catch{t("error"),n("An error occurred during verification.")}})()},[]);const f=async()=>{if(!s){alert("Please enter your email address");return}u("sending");try{const d=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})}),h=await d.json();d.ok?(u("sent"),n("Verification email sent! Please check your inbox.")):(u("error"),alert(h.error||"Failed to send verification email"))}catch{u("error"),alert("An error occurred. Please try again.")}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-dark-900 text-gray-900 dark:text-gray-100 p-4 sm:p-6 md:p-8",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 sm:p-8 md:p-10 rounded-2xl shadow-xl max-w-md w-full text-center border border-gray-200 dark:border-dark-700",children:[i.jsxs("div",{className:"mb-4 sm:mb-6 flex justify-center",children:[e==="verifying"&&i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 sm:h-12 sm:w-12 border-b-2 border-primary-500"}),e==="success"&&i.jsx("div",{className:"text-4xl sm:text-5xl text-green-500",children:""}),e==="error"&&i.jsx("div",{className:"text-4xl sm:text-5xl text-red-500",children:""}),c==="sent"&&i.jsx("div",{className:"text-4xl sm:text-5xl text-blue-500",children:""})]}),i.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:[e==="verifying"&&"Verifying...",e==="success"&&"Email Verified!",e==="error"&&c!=="sent"&&"Verification Failed",c==="sent"&&"Email Sent!"]}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-6 sm:mb-8",children:r}),a&&c!=="sent"&&i.jsxs("div",{className:"mb-4 sm:mb-6",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-3 sm:mb-4",children:"Enter your email to receive a new verification link:"}),i.jsx("input",{type:"email",value:s,onChange:d=>l(d.target.value),placeholder:"your@email.com",className:"w-full px-3 py-2 sm:px-4 sm:py-2.5 text-sm sm:text-base border border-gray-300 dark:border-gray-600 rounded-lg mb-2 sm:mb-3 bg-white dark:bg-dark-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),i.jsx("button",{onClick:f,disabled:c==="sending",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 sm:py-3 px-6 sm:px-8 text-sm sm:text-base rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c==="sending"?"Sending...":"Resend Verification Email"})]}),(e!=="verifying"||c==="sent")&&i.jsx("a",{href:"/",className:"inline-block bg-primary-500 hover:bg-primary-600 text-black font-bold py-2.5 sm:py-3 px-6 sm:px-8 text-sm sm:text-base rounded-xl transition-colors",children:"Go to Login"})]})})},rre=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!0),[a,o]=S.useState(null),[s,l]=S.useState(!1),[c,u]=S.useState(!1),[f,d]=S.useState({name:"",price:"",duration:"",description:""});S.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const x=await Y.getSubscriptionPlans();x.plans?Array.isArray(x.plans)?t(x.plans):t(Object.values(x.plans)):Array.isArray(x)&&t(x)}catch(x){console.error("Failed to load plans",x)}finally{n(!1)}},p=x=>{o(x),d({name:x.name,price:x.price.toString(),duration:x.duration.toString(),description:x.description||""}),u(!1),l(!0)},y=()=>{d({name:"",price:"5000",duration:"30",description:""}),u(!0),l(!0)},m=async x=>{x.preventDefault();try{const g={name:f.name,price:parseFloat(f.price),duration:parseInt(f.duration),description:f.description};c?await Y.createSubscriptionPlan(g):a&&await Y.updateSubscriptionPlan(a.id,g),l(!1),h()}catch(g){console.error("Failed to save plan",g),alert("Failed to save plan")}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Subscription Plans"}),i.jsx("button",{onClick:y,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"+ Add New Plan"})]}),r?i.jsx("div",{className:"text-center py-10",children:"Loading plans..."}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(x=>i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl border border-gray-200 dark:border-dark-700 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:x.name}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[x.duration," Days"]})]}),i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${x.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:x.isActive?"Active":"Inactive"})]}),i.jsxs("div",{className:"text-2xl font-bold text-primary-600 mb-4",children:["MWK ",x.price.toLocaleString()]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-6 min-h-[40px]",children:x.description||"Full access to all features"}),i.jsx("button",{onClick:()=>p(x),className:"w-full py-2 border border-gray-300 dark:border-dark-600 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-dark-700 transition",children:"Edit Plan"})]},x.id))}),s&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-dark-700",children:i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c?"Create New Plan":"Edit Plan"})}),i.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Plan Name"}),i.jsx("input",{type:"text",required:!0,value:f.name,onChange:x=>d({...f,name:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price (MWK)"}),i.jsx("input",{type:"number",required:!0,value:f.price,onChange:x=>d({...f,price:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Duration (Days)"}),i.jsx("input",{type:"number",required:!0,value:f.duration,onChange:x=>d({...f,duration:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),i.jsx("textarea",{rows:3,value:f.description,onChange:x=>d({...f,description:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none resize-none"})]}),i.jsxs("div",{className:"flex space-x-3 mt-6 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-dark-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition",children:"Cancel"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition font-medium",children:c?"Create Plan":"Save Changes"})]})]})]})})]})},nre=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[a,o]=S.useState(""),[s,l]=S.useState("All"),[c,u]=S.useState(!0);S.useEffect(()=>{f()},[]),S.useEffect(()=>{let d=e;if(s!=="All"&&(d=d.filter(h=>h.type===s)),a){const h=a.toLowerCase();d=d.filter(p=>p.make.toLowerCase().includes(h)||p.model.toLowerCase().includes(h)||p.plate.toLowerCase().includes(h)||p.driver.toLowerCase().includes(h))}n(d)},[e,a,s]);const f=async()=>{try{u(!0);const d=await Y.getAllVehicles();t(d),n(d)}catch(d){console.error("Failed to load vehicles",d)}finally{u(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx(Ue,{className:"h-8 w-8 text-primary-500 mr-3"}),"Vehicle Inventory"]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage fleet and partner vehicles"})]}),i.jsx("div",{className:"flex space-x-2 w-full sm:w-auto",children:i.jsx("button",{onClick:()=>f(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Refresh List"})})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-gray-200 dark:border-dark-700 p-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by make, model, plate, or driver...",value:a,onChange:d=>o(d.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 transition-all"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(aO,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),i.jsxs("select",{value:s,onChange:d=>l(d.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"All",children:"All Types"}),i.jsx("option",{value:"Ride Share",children:"Ride Share"}),i.jsx("option",{value:"For Hire",children:"For Hire"})]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200 dark:border-dark-700",children:[i.jsx("th",{className:"py-3 px-4 text-sm font-semibold text-gray-500 dark:text-gray-400",children:"Vehicle"}),i.jsx("th",{className:"py-3 px-4 text-sm font-semibold text-gray-500 dark:text-gray-400",children:"Type"}),i.jsx("th",{className:"py-3 px-4 text-sm font-semibold text-gray-500 dark:text-gray-400",children:"Plate"}),i.jsx("th",{className:"py-3 px-4 text-sm font-semibold text-gray-500 dark:text-gray-400",children:"Driver/Provider"}),i.jsx("th",{className:"py-3 px-4 text-sm font-semibold text-gray-500 dark:text-gray-400",children:"Status"}),i.jsx("th",{className:"py-3 px-4 text-sm font-semibold text-gray-500 dark:text-gray-400",children:"Category"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-700",children:c?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500 dark:text-gray-400",children:"Loading inventory..."})}):r.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500 dark:text-gray-400",children:"No vehicles found matching your criteria."})}):r.map(d=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-700/50 transition-colors",children:[i.jsx("td",{className:"py-3 px-4",children:i.jsx("div",{children:i.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[d.make," ",d.model]})})}),i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.type==="Ride Share"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:d.type})}),i.jsx("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-300 font-mono",children:d.plate}),i.jsx("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-300",children:d.driver}),i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.status.toLowerCase()==="active"||d.status.toLowerCase()==="available"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:d.status})}),i.jsx("td",{className:"py-3 px-4 text-gray-500 dark:text-gray-400",children:d.category})]},d.id))})]})}),i.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-right",children:["Showing ",r.length," of ",e.length," vehicles"]})]})]})},are={VITE_API_URL:"http://206.189.58.230:5000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_MAPBOX_TOKEN||"pk.eyJ1IjoicGF0cmljay0xIiwiYSI6ImNtaTh0cGR2ajBmbmUybnNlZTk1dGV1NGEifQ.UCC5FLCAdiDj0EL93gnekg",lh=async e=>{try{const r=await(await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(e)}.json?access_token=${are}`)).json();return r.features&&r.features.length>0?r.features[0].center:null}catch(t){return console.error("Geocoding error:",t),null}},dP=(e,t)=>{const r=f=>f*Math.PI/180,a=r(t[1]-e[1]),o=r(t[0]-e[0]),s=r(e[1]),l=r(t[1]),c=Math.sin(a/2)*Math.sin(a/2)+Math.sin(o/2)*Math.sin(o/2)*Math.cos(s)*Math.cos(l),u=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return parseFloat((6371*u).toFixed(1))},ire=({isOpen:e,onClose:t,onSuccess:r,canClose:n=!0})=>{const[a,o]=S.useState("plan"),[s,l]=S.useState(null),[c,u]=S.useState("airtel"),[f,d]=S.useState(""),[h,p]=S.useState(null),[y,m]=S.useState(null),[x,g]=S.useState([]),[v,b]=S.useState([]);S.useEffect(()=>{e&&k()},[e]),S.useEffect(()=>{if(a==="payment"||a==="processing"||y){const _=T=>{console.log(" Subscription Activated via Socket:",T),o("success"),setTimeout(()=>{r(),P()},3e3)};return ce.on("subscription_activated",_),()=>{ce.off("subscription_activated",_)}}},[a,y,r]);const k=async()=>{try{const[_,T]=await Promise.all([Y.getSubscriptionPlans(),Y.getMobileMoneyOperators()]);_.plans&&Array.isArray(_.plans)?g(_.plans):Array.isArray(_)?g(_):g([]),b(T)}catch(_){console.error("Error loading plans:",_),p("Failed to load subscription plans")}},w=_=>{l(_),o("payment"),p(null)},N=async()=>{if(!s||!f||!c){p("Please fill in all fields");return}o("processing"),p(null);try{const _=v.find(K=>K.short_code.toLowerCase()===c),T=(_==null?void 0:_.ref_id)||(c==="airtel"?"20be6c20-adeb-4b5b-a7ba-0769820df4fb":"27494cb5-ba9e-437f-a114-4e7a7686bcca"),L=await Y.initiateSubscriptionPayment(s,f,T);if(L.status==="success"||L.chargeId)m(L.chargeId),A(L.chargeId);else throw new Error(L.message||"Payment initiation failed")}catch(_){console.error("Payment Error:",_),p(_.message||"Payment failed. Please try again."),o("payment")}},A=async _=>{let T=0;const L=15,K=setInterval(async()=>{T++;try{const G=await(await fetch(`/api/subscriptions/verify/${_}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();G.status==="success"?(clearInterval(K),o("success"),setTimeout(()=>{r(),P()},3e3)):G.status==="failed"?(clearInterval(K),p("Payment failed. Please try again."),o("payment")):T>=L&&(clearInterval(K),p("Payment verification timeout. Please check your subscription status."),o("payment"))}catch(q){console.error("Verification error:",q),T>=L&&(clearInterval(K),p("Unable to verify payment. Please contact support."),o("payment"))}},3e3)},P=()=>{o("plan"),l(null),d(""),p(null),m(null),t()},E=()=>x.find(_=>_.id===s);if(!e)return null;const M=E();return i.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-[#2A2A2A] shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-[#2A2A2A] flex justify-between items-center sticky top-0 bg-[#1E1E1E] z-10",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Subscribe to RideX"}),n&&i.jsx("button",{onClick:P,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(tn,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"p-4",children:[a==="plan"&&i.jsx("div",{className:"space-y-4",children:x.length===0?i.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading plans..."}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:x.map(_=>i.jsxs("div",{onClick:()=>w(_.id),className:"bg-[#252525] border-2 border-[#333] rounded-xl p-4 cursor-pointer hover:border-[#FACC15] transition-all group relative",children:[_.duration>30&&i.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-[#FACC15] text-black text-[10px] font-bold px-2 py-0.5 rounded-full",children:"LONG TERM"}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-base font-bold text-white mb-1.5",children:_.name}),i.jsxs("div",{className:"text-3xl font-bold text-[#FACC15] mb-1.5",children:["MWK ",_.price.toLocaleString()]}),i.jsxs("p",{className:"text-gray-400 text-xs mb-3",children:[_.duration," days  ",_.description]}),i.jsxs("div",{className:"text-gray-500 text-[10px]",children:["~MWK ",Math.round(_.price/(_.duration||30)).toLocaleString()," per day"]})]}),i.jsx("button",{className:"w-full mt-4 py-2 bg-[#333] group-hover:bg-[#FACC15] text-white group-hover:text-black font-bold text-sm rounded-lg transition-colors",children:"Select Plan"})]},_.id))})}),a==="payment"&&M&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-[#252525] rounded-lg p-3 border border-[#333]",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-400 text-xs",children:"Selected Plan:"}),i.jsx("span",{className:"text-white font-bold text-sm",children:M.name})]}),i.jsxs("div",{className:"flex justify-between items-center mt-1.5",children:[i.jsx("span",{className:"text-gray-400 text-xs",children:"Amount:"}),i.jsxs("span",{className:"text-[#FACC15] font-bold text-base",children:["MWK ",M.price.toLocaleString()]})]})]}),h&&i.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-red-400 text-xs",children:h}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-2",children:"Payment Method"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{onClick:()=>u("airtel"),className:`p-3 rounded-lg border-2 transition-all ${c==="airtel"?"border-[#FACC15] bg-[#FACC15]/10":"border-[#333] bg-[#252525] hover:border-[#444]"}`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xl mb-1",children:""}),i.jsx("div",{className:"text-white font-bold text-xs",children:"Airtel Money"})]})}),i.jsx("button",{onClick:()=>u("mpamba"),className:`p-3 rounded-lg border-2 transition-all ${c==="mpamba"?"border-[#FACC15] bg-[#FACC15]/10":"border-[#333] bg-[#252525] hover:border-[#444]"}`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xl mb-1",children:""}),i.jsx("div",{className:"text-white font-bold text-xs",children:"Mpamba"})]})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1.5",children:"Mobile Number"}),i.jsx("input",{type:"tel",value:f,onChange:_=>d(_.target.value),placeholder:"e.g. 0991234567",className:"w-full bg-[#252525] border border-[#333] rounded-lg px-3 py-2 text-sm text-white focus:border-[#FACC15] outline-none"}),i.jsx("p",{className:"text-gray-500 text-[10px] mt-1.5",children:"You will receive a push notification to approve the payment"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>o("plan"),className:"flex-1 py-2 bg-[#252525] text-white text-sm rounded-lg font-bold hover:bg-[#333] transition-colors",children:"Back"}),i.jsx("button",{onClick:N,className:"flex-1 py-2 bg-[#FACC15] text-black text-sm rounded-lg font-bold hover:bg-[#EAB308] transition-colors",children:"Pay Now"})]})]}),a==="processing"&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-[#FACC15] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("h3",{className:"text-base font-bold text-white mb-1.5",children:"Processing Payment..."}),i.jsx("p",{className:"text-gray-400 text-xs mb-3",children:"Please check your phone and approve the payment"}),i.jsx("p",{className:"text-gray-500 text-[10px]",children:"This may take a few moments"})]}),a==="success"&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Ad,{className:"w-10 h-10 text-white"})}),i.jsx("h3",{className:"text-lg font-bold text-white mb-1.5",children:"Subscription Activated!"}),i.jsx("p",{className:"text-gray-400 text-xs mb-3",children:"You can now start accepting rides"}),i.jsx("p",{className:"text-green-400 text-[10px]",children:"Redirecting..."})]})]})]})})},ore=["Sedan","SUV","Truck","Van","Minibus","Bus","Motorcycle","Tractor","Heavy Machinery","Hatchback","Pickup","Farming Equipment","Construction Equipment"],sre=["Toyota","Honda","Ford","Nissan","Mazda","Mitsubishi","Isuzu","Mercedes-Benz","BMW","Volkswagen","Hyundai","Kia","Suzuki","Subaru","Land Rover","Jeep","Chevrolet","Peugeot","Renault","Fiat","Yamaha","Honda Motorcycles","Kawasaki","Suzuki Motorcycles","Harley-Davidson","Bajaj","TVS","John Deere","Massey Ferguson","New Holland","Case IH","Kubota","Mahindra","Caterpillar","Komatsu","Volvo Construction","JCB","Hitachi","Liebherr"],lre={Toyota:["Prado","Hilux","Corolla","Camry","RAV4","Land Cruiser","Fortuner","Vitz","Yaris","Hiace"],Honda:["Fit","Civic","Accord","CR-V","HR-V","City","Jazz"],Ford:["Ranger","F-150","Explorer","Escape","Focus","Fiesta","Everest"],Nissan:["Navara","X-Trail","Qashqai","Patrol","Juke","Altima","Sentra"],Mazda:["CX-5","CX-3","Mazda3","Mazda6","BT-50","CX-9"],Mitsubishi:["L200","Pajero","Outlander","ASX","Lancer","Triton"],Isuzu:["D-Max","MU-X","NPR","FTR","Trooper"],"Mercedes-Benz":["C-Class","E-Class","S-Class","GLE","GLC","Sprinter"],BMW:["3 Series","5 Series","7 Series","X3","X5","X7"],Volkswagen:["Golf","Polo","Passat","Tiguan","Amarok","Touareg"],Hyundai:["Tucson","Santa Fe","Elantra","Accent","i10","i20"],Kia:["Sportage","Sorento","Rio","Picanto","Cerato","Seltos"],Suzuki:["Swift","Vitara","Jimny","Alto","Baleno","Ertiga"],"Land Rover":["Defender","Discovery","Range Rover","Range Rover Sport","Evoque"],Jeep:["Wrangler","Grand Cherokee","Cherokee","Compass","Renegade"],Yamaha:["YZF-R1","YZF-R6","MT-07","MT-09","FZ","XSR900","Tenere 700"],"Honda Motorcycles":["CBR1000RR","CBR600RR","CB500X","CRF450","Africa Twin","Gold Wing"],Kawasaki:["Ninja 650","Ninja ZX-10R","Z900","Versys 650","KLX450"],"Suzuki Motorcycles":["GSX-R1000","GSX-R750","V-Strom 650","Hayabusa","Boulevard"],"Harley-Davidson":["Street 750","Iron 883","Fat Boy","Road King","Sportster"],Bajaj:["Pulsar","Dominar","Avenger","CT100","Platina"],TVS:["Apache","Jupiter","Ntorq","Star City","Radeon"],"John Deere":["5075E","6120M","7230R","8R Series","9RX Series","Gator","X9 Combine"],"Massey Ferguson":["5710","6713","7719","8730","MF 400 Series","Ideal Combine"],"New Holland":["T4","T6","T7","T8","CR Series Combine","Boomer Compact"],"Case IH":["Farmall","Maxxum","Puma","Magnum","Axial-Flow Combine"],Kubota:["M Series","L Series","B Series","MX Series","RTV Utility"],Mahindra:["575 DI","475 DI","Arjun","Yuvraj","Jivo"],Caterpillar:["D6 Dozer","320 Excavator","950 Wheel Loader","730 Truck","Motor Grader"],Komatsu:["PC200 Excavator","D65 Dozer","WA380 Loader","HD785 Truck"],"Volvo Construction":["EC220 Excavator","L120 Loader","A40 Truck","SD115 Compactor"],JCB:["3CX Backhoe","JS220 Excavator","457 Loader","Fastrac Tractor"],Hitachi:["ZX200 Excavator","ZW220 Loader","EH3500 Truck"],Liebherr:["R 956 Excavator","L 566 Loader","LTM 1300 Crane"]},cre=({request:e,onApprove:t,onReject:r,onCounterOffer:n})=>{const[a,o]=S.useState(!1),[s,l]=S.useState(e.offeredPrice||e.price),[c,u]=S.useState(""),f=()=>{n(e.id,s,c),o(!1)};return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4 border-l-4 border-blue-500",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium mb-2",children:e.type==="share"?"Ride Share":"For Hire"}),i.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:[e.origin,"  ",e.destination]}),i.jsxs("p",{className:"text-sm text-gray-600",children:[e.date," ",e.time&&`at ${e.time}`]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Offered Price"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["MWK ",(e.offeredPrice||e.price||0).toLocaleString()]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 mb-4 p-3 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:e.rider.name.charAt(0)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900",children:e.rider.name}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((d,h)=>i.jsx("svg",{className:`w-4 h-4 ${h<Math.floor(e.rider.rating)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},h)),i.jsx("span",{className:"text-sm text-gray-600 ml-1",children:e.rider.rating})]}),i.jsxs("span",{className:"text-sm text-gray-500",children:[" ",e.rider.phone]})]})]})]}),e.negotiations&&e.negotiations.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Previous Offers:"}),i.jsx("div",{className:"space-y-2",children:e.negotiations.slice(0,2).map((d,h)=>{var p;return i.jsxs("div",{className:"text-sm bg-gray-50 p-2 rounded",children:[i.jsxs("span",{className:"font-medium",children:["MWK ",((p=d.offeredPrice)==null?void 0:p.toLocaleString())||"0"]}),d.message&&i.jsxs("span",{className:"text-gray-600",children:[" - ",d.message]})]},h)})})]}),a?i.jsxs("div",{className:"mb-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Make Counter Offer"}),i.jsxs("div",{className:"grid gap-3 mb-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Counter Price (MWK)"}),i.jsx("input",{type:"number",value:s,onChange:d=>l(Number(d.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Message (Optional)"}),i.jsx("textarea",{value:c,onChange:d=>u(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Explain your counter offer..."})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{onClick:f,className:"flex-1 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700",children:"Send Counter Offer"})]})]}):i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>r(e.id),className:"flex-1 px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition font-medium",children:"Decline"}),i.jsx("button",{onClick:()=>o(!0),className:"flex-1 px-4 py-2 border border-yellow-300 text-yellow-700 rounded-lg hover:bg-yellow-50 transition font-medium",children:"Counter Offer"}),i.jsx("button",{onClick:()=>t(e.id),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium",children:"Accept"})]})]})},ure=[{name:"Chitipa Boma",district:"Chitipa",region:"Northern",type:"Boma"},{name:"Kamwezi",district:"Chitipa",region:"Northern",type:"Trading Centre"},{name:"Nthalire",district:"Chitipa",region:"Northern",type:"Trading Centre"},{name:"Wenya",district:"Chitipa",region:"Northern",type:"Village"},{name:"Misuku",district:"Chitipa",region:"Northern",type:"Village"},{name:"Kapenda",district:"Chitipa",region:"Northern",type:"Village"},{name:"Kasambala",district:"Chitipa",region:"Northern",type:"Village"},{name:"Ifumbo",district:"Chitipa",region:"Northern",type:"Village"},{name:"Ipenza",district:"Chitipa",region:"Northern",type:"Village"},{name:"Karonga Town",district:"Karonga",region:"Northern",type:"Town"},{name:"Chilumba",district:"Karonga",region:"Northern",type:"Town"},{name:"Kaporo",district:"Karonga",region:"Northern",type:"Trading Centre"},{name:"Nyungwe",district:"Karonga",region:"Northern",type:"Village"},{name:"Lupembe",district:"Karonga",region:"Northern",type:"Village"},{name:"Rukuru",district:"Karonga",region:"Northern",type:"Village"},{name:"Mwenilondo",district:"Karonga",region:"Northern",type:"Village"},{name:"Mwenitete",district:"Karonga",region:"Northern",type:"Village"},{name:"Songwe Border",district:"Karonga",region:"Northern",type:"Border Post"},{name:"Binga",district:"Karonga",region:"Northern",type:"Village"},{name:"Ngara",district:"Karonga",region:"Northern",type:"Village"},{name:"Rumphi Boma",district:"Rumphi",region:"Northern",type:"Boma"},{name:"Mzokoto",district:"Rumphi",region:"Northern",type:"Trading Centre"},{name:"Bolero",district:"Rumphi",region:"Northern",type:"Village"},{name:"Hewe",district:"Rumphi",region:"Northern",type:"Village"},{name:"Livingstonia",district:"Rumphi",region:"Northern",type:"Mission"},{name:"Kondowe",district:"Rumphi",region:"Northern",type:"Village"},{name:"Chiweta",district:"Rumphi",region:"Northern",type:"Trading Centre"},{name:"Jalawe",district:"Rumphi",region:"Northern",type:"Village"},{name:"Mphompha",district:"Rumphi",region:"Northern",type:"Village"},{name:"Kamphenda",district:"Rumphi",region:"Northern",type:"Village"},{name:"Mzimba Boma",district:"Mzimba",region:"Northern",type:"Boma"},{name:"Mzuzu City",district:"Mzimba",region:"Northern",type:"City"},{name:"Ekwendeni",district:"Mzimba",region:"Northern",type:"Town"},{name:"Embangweni",district:"Mzimba",region:"Northern",type:"Town"},{name:"Enukweni",district:"Mzimba",region:"Northern",type:"Town"},{name:"Mbalachanda",district:"Mzimba",region:"Northern",type:"Trading Centre"},{name:"Jenda",district:"Mzimba",region:"Northern",type:"Trading Centre"},{name:"Edingeni",district:"Mzimba",region:"Northern",type:"Trading Centre"},{name:"Euthini",district:"Mzimba",region:"Northern",type:"Village"},{name:"Mpherembe",district:"Mzimba",region:"Northern",type:"Trading Centre"},{name:"Manyamula",district:"Mzimba",region:"Northern",type:"Village"},{name:"Kafukule",district:"Mzimba",region:"Northern",type:"Village"},{name:"Luwinga",district:"Mzimba",region:"Northern",type:"Village"},{name:"Chiputula",district:"Mzimba",region:"Northern",type:"Village"},{name:"Katawa",district:"Mzimba",region:"Northern",type:"Village"},{name:"Chibanja",district:"Mzimba",region:"Northern",type:"Village"},{name:"Zolozolo",district:"Mzimba",region:"Northern",type:"Village"},{name:"Msongwe",district:"Mzimba",region:"Northern",type:"Village"},{name:"Dunduzu",district:"Mzimba",region:"Northern",type:"Village"},{name:"Kaning'ina",district:"Mzimba",region:"Northern",type:"Village"},{name:"Luviri",district:"Mzimba",region:"Northern",type:"Village"},{name:"Nkhata Bay Boma",district:"Nkhata Bay",region:"Northern",type:"Boma"},{name:"Dwangwa",district:"Nkhata Bay",region:"Northern",type:"Town"},{name:"Chintheche",district:"Nkhata Bay",region:"Northern",type:"Trading Centre"},{name:"Kande",district:"Nkhata Bay",region:"Northern",type:"Village"},{name:"Tukombo",district:"Nkhata Bay",region:"Northern",type:"Village"},{name:"Vizara",district:"Nkhata Bay",region:"Northern",type:"Village"},{name:"Usisya",district:"Nkhata Bay",region:"Northern",type:"Village"},{name:"Bula",district:"Nkhata Bay",region:"Northern",type:"Village"},{name:"Mpamba",district:"Nkhata Bay",region:"Northern",type:"Village"},{name:"Luwalika",district:"Nkhata Bay",region:"Northern",type:"Village"},{name:"Sanga",district:"Nkhata Bay",region:"Northern",type:"Village"},{name:"Likoma Island",district:"Likoma",region:"Northern",type:"Town"},{name:"Chizumulu Island",district:"Likoma",region:"Northern",type:"Village"},{name:"Nkhotakota Boma",district:"Nkhotakota",region:"Central",type:"Boma"},{name:"Benga",district:"Nkhotakota",region:"Central",type:"Trading Centre"},{name:"Mpamantha",district:"Nkhotakota",region:"Central",type:"Village"},{name:"Lozi",district:"Nkhotakota",region:"Central",type:"Village"},{name:"Kamboni",district:"Nkhotakota",region:"Central",type:"Village"},{name:"Mwansambo",district:"Nkhotakota",region:"Central",type:"Village"},{name:"Kasiya",district:"Nkhotakota",region:"Central",type:"Village"},{name:"Chia",district:"Nkhotakota",region:"Central",type:"Village"},{name:"Kasungu Boma",district:"Kasungu",region:"Central",type:"Boma"},{name:"Santhe",district:"Kasungu",region:"Central",type:"Trading Centre"},{name:"Chinkhwiri",district:"Kasungu",region:"Central",type:"Village"},{name:"Chulu",district:"Kasungu",region:"Central",type:"Village"},{name:"Chamama",district:"Kasungu",region:"Central",type:"Village"},{name:"Bwabwa",district:"Kasungu",region:"Central",type:"Village"},{name:"Nkhamenya",district:"Kasungu",region:"Central",type:"Village"},{name:"Simlemba",district:"Kasungu",region:"Central",type:"Village"},{name:"Lisasadzi",district:"Kasungu",region:"Central",type:"Village"},{name:"Mkanakhoti",district:"Kasungu",region:"Central",type:"Village"},{name:"Ntchisi Boma",district:"Ntchisi",region:"Central",type:"Boma"},{name:"Malomo",district:"Ntchisi",region:"Central",type:"Village"},{name:"Khuwi",district:"Ntchisi",region:"Central",type:"Village"},{name:"Mndinda",district:"Ntchisi",region:"Central",type:"Village"},{name:"Mpherere",district:"Ntchisi",region:"Central",type:"Village"},{name:"Dowa Boma",district:"Dowa",region:"Central",type:"Boma"},{name:"Mponela",district:"Dowa",region:"Central",type:"Town"},{name:"Chezi",district:"Dowa",region:"Central",type:"Trading Centre"},{name:"Chankhungu",district:"Dowa",region:"Central",type:"Village"},{name:"Madisi",district:"Dowa",region:"Central",type:"Village"},{name:"Nsaru",district:"Dowa",region:"Central",type:"Village"},{name:"Mvera",district:"Dowa",region:"Central",type:"Village"},{name:"Dzaleka",district:"Dowa",region:"Central",type:"Village"},{name:"Nambuma",district:"Dowa",region:"Central",type:"Village"},{name:"Lilongwe City",district:"Lilongwe",region:"Central",type:"City"},{name:"Area 1",district:"Lilongwe",region:"Central",type:"Town"},{name:"Area 2",district:"Lilongwe",region:"Central",type:"Town"},{name:"Area 3",district:"Lilongwe",region:"Central",type:"Town"},{name:"Area 4",district:"Lilongwe",region:"Central",type:"Town"},{name:"Area 18",district:"Lilongwe",region:"Central",type:"Town"},{name:"Area 25",district:"Lilongwe",region:"Central",type:"Town"},{name:"Area 47",district:"Lilongwe",region:"Central",type:"Town"},{name:"Area 49",district:"Lilongwe",region:"Central",type:"Town"},{name:"Old Town",district:"Lilongwe",region:"Central",type:"Town"},{name:"City Centre",district:"Lilongwe",region:"Central",type:"Town"},{name:"Falls",district:"Lilongwe",region:"Central",type:"Village"},{name:"Kawale",district:"Lilongwe",region:"Central",type:"Town"},{name:"Chinsapo",district:"Lilongwe",region:"Central",type:"Town"},{name:"Likuni",district:"Lilongwe",region:"Central",type:"Village"},{name:"Mitundu",district:"Lilongwe",region:"Central",type:"Trading Centre"},{name:"Msundwe",district:"Lilongwe",region:"Central",type:"Village"},{name:"Malingunde",district:"Lilongwe",region:"Central",type:"Village"},{name:"Nkhoma",district:"Lilongwe",region:"Central",type:"Mission"},{name:"Chitedze",district:"Lilongwe",region:"Central",type:"Village"},{name:"Mchinji Boma",district:"Mchinji",region:"Central",type:"Boma"},{name:"Mkanda",district:"Mchinji",region:"Central",type:"Trading Centre"},{name:"Kamwendo",district:"Mchinji",region:"Central",type:"Border Post"},{name:"Kapiri",district:"Mchinji",region:"Central",type:"Village"},{name:"Ludzi",district:"Mchinji",region:"Central",type:"Village"},{name:"Mavwere",district:"Mchinji",region:"Central",type:"Village"},{name:"Kachebere",district:"Mchinji",region:"Central",type:"Village"},{name:"Mponda",district:"Mchinji",region:"Central",type:"Village"},{name:"Salima Boma",district:"Salima",region:"Central",type:"Boma"},{name:"Chipoka",district:"Salima",region:"Central",type:"Town"},{name:"Lifuwu",district:"Salima",region:"Central",type:"Village"},{name:"Senga Bay",district:"Salima",region:"Central",type:"Town"},{name:"Tembwe",district:"Salima",region:"Central",type:"Village"},{name:"Chitala",district:"Salima",region:"Central",type:"Village"},{name:"Dedza Boma",district:"Dedza",region:"Central",type:"Boma"},{name:"Lobi",district:"Dedza",region:"Central",type:"Trading Centre"},{name:"Kaphuka",district:"Dedza",region:"Central",type:"Village"},{name:"Mayani",district:"Dedza",region:"Central",type:"Village"},{name:"Mtakataka",district:"Dedza",region:"Central",type:"Village"},{name:"Nsipe",district:"Dedza",region:"Central",type:"Village"},{name:"Mtendere",district:"Dedza",region:"Central",type:"Village"},{name:"Mua Mission",district:"Dedza",region:"Central",type:"Mission"},{name:"Ntcheu Boma",district:"Ntcheu",region:"Central",type:"Boma"},{name:"Kasinje",district:"Ntcheu",region:"Central",type:"Trading Centre"},{name:"Biriwiri",district:"Ntcheu",region:"Central",type:"Village"},{name:"Lizulu",district:"Ntcheu",region:"Central",type:"Village"},{name:"Tsangano",district:"Ntcheu",region:"Central",type:"Border Post"},{name:"Njolomole",district:"Ntcheu",region:"Central",type:"Village"},{name:"Sharpe Valley",district:"Ntcheu",region:"Central",type:"Village"},{name:"Makwangwala",district:"Ntcheu",region:"Central",type:"Village"},{name:"Mangochi Town",district:"Mangochi",region:"Southern",type:"Town"},{name:"Monkey Bay",district:"Mangochi",region:"Southern",type:"Town"},{name:"Cape Maclear",district:"Mangochi",region:"Southern",type:"Village"},{name:"Chembe",district:"Mangochi",region:"Southern",type:"Village"},{name:"Namwera",district:"Mangochi",region:"Southern",type:"Village"},{name:"Malombe",district:"Mangochi",region:"Southern",type:"Village"},{name:"Makokola",district:"Mangochi",region:"Southern",type:"Village"},{name:"Makanjira",district:"Mangochi",region:"Southern",type:"Village"},{name:"Katuli",district:"Mangochi",region:"Southern",type:"Village"},{name:"Nankumba",district:"Mangochi",region:"Southern",type:"Village"},{name:"Liwonde",district:"Machinga",region:"Southern",type:"Town"},{name:"Machinga Boma",district:"Machinga",region:"Southern",type:"Boma"},{name:"Ntaja",district:"Machinga",region:"Southern",type:"Trading Centre"},{name:"Nayuchi Border",district:"Machinga",region:"Southern",type:"Border Post"},{name:"Namandanje",district:"Machinga",region:"Southern",type:"Village"},{name:"Nselema",district:"Machinga",region:"Southern",type:"Village"},{name:"Zomba City",district:"Zomba",region:"Southern",type:"City"},{name:"Thondwe",district:"Zomba",region:"Southern",type:"Trading Centre"},{name:"Jali",district:"Zomba",region:"Southern",type:"Village"},{name:"Matawale",district:"Zomba",region:"Southern",type:"Village"},{name:"Songani",district:"Zomba",region:"Southern",type:"Village"},{name:"Domasi",district:"Zomba",region:"Southern",type:"Village"},{name:"Chancellor College",district:"Zomba",region:"Southern",type:"Town"},{name:"Malosa",district:"Zomba",region:"Southern",type:"Village"},{name:"Chiradzulu Boma",district:"Chiradzulu",region:"Southern",type:"Boma"},{name:"Thumbwe",district:"Chiradzulu",region:"Southern",type:"Village"},{name:"Namitambo",district:"Chiradzulu",region:"Southern",type:"Village"},{name:"Sandar",district:"Chiradzulu",region:"Southern",type:"Village"},{name:"Mombezi",district:"Chiradzulu",region:"Southern",type:"Village"},{name:"Blantyre City",district:"Blantyre",region:"Southern",type:"City"},{name:"Limbe",district:"Blantyre",region:"Southern",type:"Town"},{name:"Ndirande",district:"Blantyre",region:"Southern",type:"Town"},{name:"Bangwe",district:"Blantyre",region:"Southern",type:"Town"},{name:"Machinjiri",district:"Blantyre",region:"Southern",type:"Town"},{name:"Chirimba",district:"Blantyre",region:"Southern",type:"Town"},{name:"Chileka",district:"Blantyre",region:"Southern",type:"Town"},{name:"Soche",district:"Blantyre",region:"Southern",type:"Town"},{name:"Chinyonga",district:"Blantyre",region:"Southern",type:"Town"},{name:"Kanjedza",district:"Blantyre",region:"Southern",type:"Town"},{name:"Mandala",district:"Blantyre",region:"Southern",type:"Town"},{name:"Lunzu",district:"Blantyre",region:"Southern",type:"Trading Centre"},{name:"Lirangwe",district:"Blantyre",region:"Southern",type:"Village"},{name:"Mpemba",district:"Blantyre",region:"Southern",type:"Village"},{name:"Mulanje Boma",district:"Mulanje",region:"Southern",type:"Boma"},{name:"Likhubula",district:"Mulanje",region:"Southern",type:"Village"},{name:"Chonde",district:"Mulanje",region:"Southern",type:"Village"},{name:"Manase",district:"Mulanje",region:"Southern",type:"Village"},{name:"Thuchila",district:"Mulanje",region:"Southern",type:"Village"},{name:"Thyolo Boma",district:"Thyolo",region:"Southern",type:"Boma"},{name:"Bvumbwe",district:"Thyolo",region:"Southern",type:"Trading Centre"},{name:"Thekerani",district:"Thyolo",region:"Southern",type:"Village"},{name:"Thyolo Trading",district:"Thyolo",region:"Southern",type:"Trading Centre"},{name:"Goliati",district:"Thyolo",region:"Southern",type:"Village"},{name:"Phalombe Boma",district:"Phalombe",region:"Southern",type:"Boma"},{name:"Milepa",district:"Phalombe",region:"Southern",type:"Village"},{name:"Nambiti",district:"Phalombe",region:"Southern",type:"Village"},{name:"Nazombe",district:"Phalombe",region:"Southern",type:"Village"},{name:"Chitekesa",district:"Phalombe",region:"Southern",type:"Village"},{name:"Chikwawa Boma",district:"Chikwawa",region:"Southern",type:"Boma"},{name:"Nchalo",district:"Chikwawa",region:"Southern",type:"Town"},{name:"Bereu",district:"Chikwawa",region:"Southern",type:"Village"},{name:"Ngabu",district:"Chikwawa",region:"Southern",type:"Trading Centre"},{name:"Kasinthula",district:"Chikwawa",region:"Southern",type:"Village"},{name:"Makhanga",district:"Chikwawa",region:"Southern",type:"Village"},{name:"Nsanje Boma",district:"Nsanje",region:"Southern",type:"Boma"},{name:"Bangula",district:"Nsanje",region:"Southern",type:"Town"},{name:"Tengani",district:"Nsanje",region:"Southern",type:"Village"},{name:"Fatima",district:"Nsanje",region:"Southern",type:"Village"},{name:"Marka Border",district:"Nsanje",region:"Southern",type:"Border Post"},{name:"Mbenje",district:"Nsanje",region:"Southern",type:"Village"}],Ey=(e,t=10)=>{if(!e||e.trim().length===0)return[];const r=e.toLowerCase().trim();return ure.map(a=>{const o=a.name.toLowerCase(),s=a.district.toLowerCase();return o===r?{loc:a,score:100}:o.startsWith(r)?{loc:a,score:90}:o.includes(r)?{loc:a,score:70}:s.startsWith(r)?{loc:a,score:60}:s.includes(r)?{loc:a,score:50}:null}).filter(a=>a!==null).sort((a,o)=>o.score-a.score).slice(0,t).map(a=>a.loc)},Xm=({value:e,onChange:t,placeholder:r="Type to search locations...",label:n,className:a=""})=>{const[o,s]=S.useState([]),[l,c]=S.useState(!1),[u,f]=S.useState(-1),d=S.useRef(null),h=x=>{if(t(x),x.trim().length>0){const g=Ey(x,8);s(g),c(!0),f(-1)}else s([]),c(!1)},p=x=>{t(x.name),c(!1),s([])},y=x=>{if(!(!l||o.length===0))switch(x.key){case"ArrowDown":x.preventDefault(),f(g=>g<o.length-1?g+1:g);break;case"ArrowUp":x.preventDefault(),f(g=>g>0?g-1:-1);break;case"Enter":x.preventDefault(),u>=0&&p(o[u]);break;case"Escape":c(!1);break}};S.useEffect(()=>{const x=g=>{d.current&&!d.current.contains(g.target)&&c(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const m=x=>{switch(x){case"City":return"bg-purple-500/20 text-purple-300";case"Town":return"bg-blue-500/20 text-blue-300";case"Boma":return"bg-green-500/20 text-green-300";case"Trading Centre":return"bg-yellow-500/20 text-yellow-300";case"Border Post":return"bg-red-500/20 text-red-300";case"Mission":return"bg-indigo-500/20 text-indigo-300";default:return"bg-gray-500/20 text-gray-300"}};return i.jsxs("div",{ref:d,className:`relative ${a}`,children:[n&&i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:n}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:e,onChange:x=>h(x.target.value),onKeyDown:y,onFocus:()=>{e.trim()&&o.length>0&&c(!0)},className:"w-full px-4 py-3 bg-[#1E1E1E] border border-[#333] rounded-xl text-white placeholder-gray-500 focus:border-[#FACC15] focus:outline-none transition-colors",placeholder:r}),e&&i.jsx("button",{onClick:()=>{t(""),s([]),c(!1)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white transition-colors",type:"button",children:""})]}),l&&o.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-2 bg-[#1E1E1E] border border-[#333] rounded-xl shadow-2xl max-h-64 overflow-y-auto",children:o.map((x,g)=>i.jsx("div",{onClick:()=>p(x),className:`px-4 py-3 cursor-pointer transition-colors border-b border-[#2A2A2A] last:border-b-0 ${g===u?"bg-[#FACC15]/10 border-l-2 border-l-[#FACC15]":"hover:bg-[#252525]"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-white",children:x.name}),i.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[x.district,"  ",x.region]})]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${m(x.type)}`,children:x.type})]})},`${x.name}-${x.district}`))})]})},Wk=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),dre=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Vk=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})}),fre=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 002 2h2a2 2 0 002-2z"})}),hre=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),pre=({className:e})=>i.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Jm=({className:e})=>i.jsxs("svg",{className:`animate-spin ${e}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Oo=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),_o=ore,mre=({onLogout:e})=>{var Jv,Qv,Zv;const[t,r]=S.useState(!1),[n,a]=S.useState("overview"),[o,s]=S.useState(null),[l,c]=S.useState([]),[u,f]=S.useState([33.7741,-13.9626]),[d,h]=S.useState("street");S.useState(null);const[p,y]=S.useState(!1),[m,x]=S.useState(null),[g,v]=S.useState({origin:null,destination:null}),[b,k]=S.useState(null),[w,N]=S.useState([]);S.useEffect(()=>{(async()=>{const $=await Y.getDriverProfile();s($)})()},[]),S.useEffect(()=>{n==="settings"&&(async()=>{const $=await Y.getDriverTransactions();We($);try{const B=await Y.getDriverStats();B&&Dp(B)}catch(B){console.warn("Refresh stats failed",B)}try{const B=(o==null?void 0:o.id)||JSON.parse(atob(localStorage.getItem("token").split(".")[1])).id,V=await Y.getDriverPayoutDetails(B);V&&(V.payoutMethod&&ol(V.payoutMethod),yt({bankName:V.bankName,accountNumber:V.payoutAccountNumber,accountName:V.accountHolderName,mobileNumber:V.payoutMobileNumber}),V.payoutMethod==="Bank"?wo("bank"):V.payoutMethod&&wo("mobile"))}catch(B){console.warn("Refresh payout details failed",B)}})()},[n,o]),S.useEffect(()=>{const j=localStorage.getItem("token");let $="driver_123";if(j)try{$=JSON.parse(atob(j.split(".")[1])).id}catch(B){console.error("Error decoding token for socket:",B)}return ce.connect($,"driver"),ce.on("notification",B=>{et(V=>[B,...V]),B.relatedType==="ride"&&Y.getDriverPendingApprovals().then(c)}),ce.on("new_ride_request",B=>{c(V=>[B,...V]),et(V=>[{title:"New Ride Request",message:`New ${B.type} request received`,time:"Just now",unread:!0,type:"info"},...V])}),ce.on("hire_request",B=>{c(V=>[B,...V]),et(V=>[{title:"New Hire Request",msg:"You have received a hire request",time:"Just now",unread:!0},...V])}),ce.on("ride_request",B=>{c(V=>[B,...V]),et(V=>[{title:"New Ride Request",msg:"You have received a ride request",time:"Just now",unread:!0},...V])}),ce.on("rideshare_post_added",B=>{try{B.driverId&&$&&String(B.driverId)===String($)&&hn(V=>[B,...V])}catch(V){console.warn("rideshare_post_added handler error",V)}}),ce.on("hire_post_added",B=>{try{B.driverId&&$&&String(B.driverId)===String($)&&$e(V=>[B,...V])}catch(V){console.warn("hire_post_added handler error",V)}}),()=>{ce.off("notification"),ce.off("new_ride_request"),ce.disconnect()}},[]);const[A,P]=S.useState(!1),[E,M]=S.useState(""),[_,T]=S.useState([]),[L,K]=S.useState(!1),[q,G]=S.useState(!1),[Q,R]=S.useState(!1),[W,Z]=S.useState("Last Week"),ie=S.useRef(null),ee=async()=>{const j=(o==null?void 0:o.id)||(()=>{const $=localStorage.getItem("token");if(!$)return null;try{return JSON.parse(atob($.split(".")[1])).id}catch{return null}})();if(j){if("geolocation"in navigator)try{navigator.geolocation.getCurrentPosition(async $=>{const B=$.coords.latitude,V=$.coords.longitude;f([V,B]),ce.updateDriverLocation(String(j),{lat:B,lng:V,heading:$.coords.heading||0,precision:"precise"});const J=navigator.geolocation.watchPosition(oe=>{const ye=oe.coords.latitude,wt=oe.coords.longitude;f([wt,ye]),ce.updateDriverLocation(String(j),{lat:ye,lng:wt,heading:oe.coords.heading||0,precision:"precise"})},oe=>{console.warn("watchPosition error",oe)},{enableHighAccuracy:!0,maximumAge:3e3,timeout:1e4});ie.current=J},async $=>{if(console.warn("Geolocation getCurrentPosition error",$),window.confirm("Precise location permission denied. Allow approximate location via IP lookup? (less accurate)"))try{const J=await(await fetch("https://ipapi.co/json/")).json();if(J&&J.latitude&&J.longitude){const oe=parseFloat(J.latitude),ye=parseFloat(J.longitude);f([ye,oe]),ce.updateDriverLocation(String(j),{lat:oe,lng:ye,precision:"approximate"})}}catch(V){console.error("IP geolocation error",V)}},{enableHighAccuracy:!0,maximumAge:0,timeout:1e4})}catch($){console.error("startLocationTracking error",$)}else if(window.confirm("Browser does not support precise geolocation. Allow approximate location via IP lookup?"))try{const V=await(await fetch("https://ipapi.co/json/")).json();if(V&&V.latitude&&V.longitude){const J=parseFloat(V.latitude),oe=parseFloat(V.longitude);f([oe,J]),ce.updateDriverLocation(String(j),{lat:J,lng:oe,precision:"approximate"})}}catch(B){console.error("IP geolocation error",B)}}},fe=()=>{if(ie.current!==null&&"geolocation"in navigator){try{navigator.geolocation.clearWatch(ie.current)}catch{}ie.current=null}};S.useEffect(()=>(A?ee():fe(),()=>{fe()}),[A,o]);const ke=S.useRef(null),De=S.useRef(null),[ze,et]=S.useState([]),Ct=ze.filter(j=>j.unread).length,[le,pe]=S.useState(!1),[ae]=S.useState(new Date().getDate()<15?new Date(new Date().setMonth(new Date().getMonth()-1)):new Date),[te]=S.useState(new Date(new Date().setMonth(ae.getMonth()+1))),[Ce,Ne]=S.useState("Monthly"),[tt,He]=S.useState(""),[rt,Pt]=S.useState(""),[Lt,We]=S.useState([]),[Me,qt]=S.useState([]),[or,gr]=S.useState(!1),[ve,Rt]=S.useState({name:"",plate:"",make:"",model:"",customMake:"",customModel:"",category:_o[0],rate:"",status:"Available"}),[yr,el]=S.useState(null),[xu,Ta]=S.useState(null),[Xn,po]=S.useState(!1),[Ke,mo]=S.useState(null),[Jn,bp]=S.useState("share"),[_n,Qn]=S.useState({name:"",id:""}),[go,xr]=S.useState([]),[Or,tl]=S.useState(""),[Et,yo]=S.useState(""),[Ur,gi]=S.useState("share"),[Ee,Zt]=S.useState({origin:"",destination:"",date:"",time:"",price:"",seats:"",vehicleId:""}),[nt,$a]=S.useState(null),[rl,vu]=S.useState([]),[Zn,hn]=S.useState([]),[Ge,Hr]=S.useState({title:"",category:"Small Cars (Sedans & Hatchbacks)",location:"",rate:"",vehicleId:""}),[Ma,Ia]=S.useState(null),[Gt,yi]=S.useState(null),[Tn,nl]=S.useState(null),[al,we]=S.useState(null),[xi,$e]=S.useState([]),[ea,lt]=S.useState([]),[_e,il]=S.useState("active"),[ta,ol]=S.useState("Bank"),[Le,yt]=S.useState({});S.useState(null),S.useState(null);const[Ye,sl]=S.useState(!1),[wp,jp]=S.useState(!1),[je,ll]=S.useState(null),[vr,kp]=S.useState(null),[ra,cl]=S.useState(null),[vi,U]=S.useState("airtel"),[br,ul]=S.useState(""),[xo,na]=S.useState(!1),[Np,Sp]=S.useState(!1),[bu,pn]=S.useState(!1),[Fv,Ap]=S.useState(null),wr=S.useRef(null),Cp=()=>{wr.current&&(clearInterval(wr.current),wr.current=null),pn(!1),na(!1),alert("Payment processing cancelled by user.")},Pp=async()=>{var j;if(!vr){alert("Please select a plan");return}pn(!0),na(!0);try{const $=w.find(oe=>oe.id===vr||oe.name===vr);if(!$){alert("Invalid plan selected"),pn(!1),na(!1);return}const B=vi==="airtel"?"20be6c20-adeb-4b5b-a7ba-0769820df4fb":"27494cb5-ba9e-437f-a114-4e7a7686bcca",V=await Y.initiateSubscriptionPayment($.id,br,B);Ap(V);const J=V.chargeId||((j=V.data)==null?void 0:j.charge_id);if(!J)throw new Error("No charge ID returned");wr.current&&clearInterval(wr.current),wr.current=setInterval(async()=>{try{const ye=await(await fetch(`/api/subscriptions/verify/${J}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();if(ye.status==="success"){wr.current&&clearInterval(wr.current),pn(!1),na(!1),Sp(!1),pe(!0);const wt=await fetch("/api/subscriptions/status",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});wt.ok&&ll(await wt.json()),alert("Subscription Activated Successfully!")}else ye.status==="failed"&&(wr.current&&clearInterval(wr.current),pn(!1),na(!1),alert(`Payment Failed: ${ye.message}`))}catch(oe){console.error("Polling error",oe)}},3e3),setTimeout(()=>{wr.current&&(clearInterval(wr.current),bu&&(pn(!1),na(!1),alert("Payment verification timed out. Please check your phone or try again.")))},45e3)}catch($){console.error("Payment failed",$),pn(!1),na(!1),alert("Payment Initiation Failed. Please try again.")}};S.useEffect(()=>{const j=async()=>{try{const V=await(await fetch("/api/subscriptions/status",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();ll(V),V&&V.status==="active"?pe(!0):V&&V.status!=="active"&&jp(!0)}catch(B){console.warn("Failed to fetch subscription status:",B)}},$=async()=>{try{const B=await Y.getSubscriptionPlans(),V=B.plans||(Array.isArray(B)?B:[]);N(V),V.length>0&&kp(V[0].id)}catch(B){console.error("Failed to fetch subscription plans:",B),N([])}};j(),$()},[]),S.useEffect(()=>{const j=$=>{De.current&&!De.current.contains($.target)&&R(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]),S.useEffect(()=>{const j=setTimeout(async()=>{if(E.length>2)try{const $=await Y.searchVehicles(E);T($)}catch($){console.error("Search error:",$),T([])}else T([])},300);return()=>clearTimeout(j)},[E]);const Kr=async(j,$,B)=>{const V=String(j);try{if(B==="share"){if($==="Approved"){const J=await Y.startPickup(V);lt(oe=>oe.map(ye=>ye.id===j?{...ye,status:(J==null?void 0:J.status)||"Inbound"}:ye));return}if($==="Scheduled"){const J=await Y.startPickup(V);lt(oe=>oe.map(ye=>ye.id===j?{...ye,status:(J==null?void 0:J.status)||"Inbound"}:ye));return}if($==="Inbound"){const J=await Y.arriveAtPickup(V);lt(oe=>oe.map(ye=>ye.id===j?{...ye,status:(J==null?void 0:J.status)||"Arrived"}:ye));return}if($==="Arrived")try{const J=await Y.boardPassenger(V);lt(oe=>oe.map(ye=>ye.id===j?{...ye,status:(J==null?void 0:J.status)||"Boarded"}:ye));return}catch(J){console.warn("Board passenger failed",J),alert("Failed to mark passenger as boarded. Try again.");return}if($==="Boarded"){const J=await Y.startTrip(V),oe=ea.find(ye=>ye.id===j);if(lt(ye=>ye.map(wt=>wt.id===j?{...wt,status:(J==null?void 0:J.status)||"In Progress"}:wt)),oe&&oe.destination){const ye=await lh(oe.destination),wt=oe.origin?await lh(oe.origin):null;if(ye){if(x({destination:ye,status:(J==null?void 0:J.status)||"In Progress",id:j}),v({origin:wt,destination:ye}),wt){const jo=dP(wt,ye);k(jo)}a("tracking")}}return}if($==="In Progress"){await Y.updateRideStatus(V,"Payment Due"),lt(J=>J.map(oe=>oe.id===j?{...oe,status:"Payment Due"}:oe));return}if($==="Payment Due"){alert("Waiting for rider to complete payment.");return}}else{if($==="Scheduled"){const J=await Y.confirmHandover(V);J&&J.removed?lt(oe=>oe.filter(ye=>ye.id!==j)):lt(oe=>oe.map(ye=>ye.id===j?{...ye,status:(J==null?void 0:J.status)||"Handover Pending"}:ye)),alert("Handover confirmed!");return}if($==="Handover Pending"){alert("Waiting for rider to complete payment and confirm handover.");return}if($==="Active"){alert("Rental is active. Use return/complete actions when finished.");return}if($==="Return Pending"){await Y.confirmVehicleReturn(V),lt(J=>J.map(oe=>oe.id===j?{...oe,status:"Completed"}:oe)),alert("Vehicle return confirmed! Ride completed.");return}if($==="In Progress"){await Y.updateRideStatus(V,"Payment Due"),lt(J=>J.map(oe=>oe.id===j?{...oe,status:"Payment Due"}:oe));return}}}catch(J){console.error("Job action failed",J),alert("Action failed. Please try again.")}},wu=Lt.filter(j=>{var $,B;return((($=j.desc)==null?void 0:$.toLowerCase())||"").includes((E||"").toLowerCase())||(((B=j.amount)==null?void 0:B.toString())||"").includes(E||"")}),ju=ea.filter(j=>{var B,V;const $=(((B=j.title)==null?void 0:B.toLowerCase())||"").includes((E||"").toLowerCase())||(((V=j.destination)==null?void 0:V.toLowerCase())||"").includes((E||"").toLowerCase());return _e==="active"?$&&j.status!=="Completed"&&j.status!=="Cancelled":_e==="history"?$&&j.status==="Completed":_e==="cancelled"?$&&j.status==="Cancelled":$}),Ep=()=>{G(!0),setTimeout(()=>{const j=["ID,Description,Date,Amount,Method,Details"],$=Lt.map(oe=>`${oe.id},${oe.desc},${oe.date},${oe.amount},${oe.method},${oe.sub}`),B="data:text/csv;charset=utf-8,"+j.concat($).join(`
`),V=encodeURI(B),J=document.createElement("a");J.setAttribute("href",V),J.setAttribute("download","ridex_transactions.csv"),document.body.appendChild(J),J.click(),document.body.removeChild(J),G(!1)},1500)},ku=()=>{et(ze.map(j=>({...j,unread:!1})))},Op=()=>{const j=["Last Week","Last Month","This Year"],B=(j.indexOf(W)+1)%j.length;Z(j[B])},_p=async j=>{if(j.preventDefault(),!(!Ee.origin||!Ee.destination))try{let $="";if(Tn&&($=(await Y.uploadPostImage(Tn,"share")).imageUrl),nt)hn(Zn.map(B=>B.id===nt?{...B,origin:Ee.origin,destination:Ee.destination,date:Ee.date,time:Ee.time,price:Number(Ee.price),seats:Number(Ee.seats),imageUrl:$||B.imageUrl}:B)),$a(null);else{const B=Me.find(J=>J.id===Ee.vehicleId),V={origin:Ee.origin,destination:Ee.destination,date:Ee.date||new Date().toISOString().split("T")[0],time:Ee.time||"12:00",price:Number(Ee.price)||0,seats:Number(Ee.seats)||1,vehicleId:Ee.vehicleId||void 0,imageUrl:$||(B==null?void 0:B.imageUrl)};try{const J=await Y.addDriverSharePost(V);hn([J,...Zn])}catch(J){console.warn("Add share post failed, falling back to local state",J);const oe={id:Date.now(),...V};hn([oe,...Zn])}}Zt({origin:"",destination:"",date:"",time:"",price:"",seats:"",vehicleId:""}),nl(null),we(null)}catch($){console.error("Failed to post ride:",$),alert("Failed to post ride. Please try again.")}},Tp=async j=>{if(j.preventDefault(),!(!Ge.title||!Ge.location))try{let $="";if(Ma&&($=(await Y.uploadPostImage(Ma,"hire")).imageUrl),nt)$e(xi.map(B=>B.id===nt?{...B,title:Ge.title,category:Ge.category,location:Ge.location,rate:Ge.rate,imageUrl:$||B.imageUrl}:B)),$a(null);else{const B=Me.find(J=>J.id===Ge.vehicleId),V={title:Ge.title,category:Ge.category,location:Ge.location,rate:Ge.rate,rateAmount:parseFloat(Ge.rate)||0,rateUnit:"day",status:"available",vehicleId:Ge.vehicleId||void 0,imageUrl:$||(B==null?void 0:B.imageUrl)};try{const J=await Y.addDriverHirePost(V);$e([J,...xi])}catch(J){console.warn("Add hire post failed, falling back to local state",J);const oe={id:Date.now(),...V};$e([oe,...xi])}}Hr({title:"",category:_o[0],location:"",rate:"",vehicleId:""}),Ia(null),yi(null)}catch($){console.error("Failed to post hire job:",$),alert("Failed to post hire job. Please try again.")}},vo=()=>{$a(null),Zt({origin:"",destination:"",date:"",time:"",price:"",seats:"",vehicleId:""}),Hr({title:"",category:_o[0],location:"",rate:"",vehicleId:""})},$p=j=>{$a(j.id),Zt({origin:j.origin,destination:j.destination,date:j.date,time:j.time,price:j.price.toString(),seats:j.seats.toString(),vehicleId:j.vehicleId||""}),gi("share")},Mp=j=>{$a(j.id),Hr({title:j.title,category:j.category,location:j.location,rate:j.rate.toString(),vehicleId:j.vehicleId||""}),gi("hire")},Nu=(j,$)=>{mo(j),bp($),Qn({name:"",id:""}),po(!0)},Su=async j=>{if(j.preventDefault(),!Ke)return;let $={};Jn==="share"?$={title:"Ride Share Request",origin:Ke.origin,destination:Ke.destination,date:Ke.date,price:Ke.price,type:"share",clientName:_n.name,clientId:_n.id}:$={title:Ke.title,origin:Ke.location,destination:"Client Site",date:new Date().toISOString().split("T")[0],price:parseFloat(Ke.rate.replace(/[^0-9.]/g,""))||150,type:"hire",clientName:_n.name,clientId:_n.id};try{const B=await Y.createManualJob($);lt([B,...ea]),Jn==="share"?hn(Zn.filter(V=>V.id!==Ke.id)):$e(xi.filter(V=>V.id!==Ke.id)),nt===Ke.id&&vo(),po(!1),mo(null),alert("Booking confirmed and saved!")}catch(B){console.error("Failed to create manual job",B),alert("Failed to save booking. Please try again.")}};S.useEffect(()=>(ce.on("return_requested",j=>{const $=j.rideId||j.id;$&&(lt(B=>B.map(V=>V.id===$?{...V,status:"Return Pending"}:V)),et(B=>[{title:"Vehicle Return Requested",msg:j.message||"Rider wants to return the vehicle.",time:"Just now",unread:!0},...B]))}),ce.on("handover_completed",j=>{console.log(" [DriverDashboard] Received handover_completed event:",j);const $=j.rideId||j.id;$&&(console.log(` [DriverDashboard] Updating job ${$} to status: Active`),lt(B=>{const V=B.map(J=>J.id===$?{...J,status:"Active"}:J);return console.log("[DriverDashboard] Updated contractedJobs:",V),V}),et(B=>[{title:"Handover Completed",msg:j.message||"Vehicle handover confirmed. Trip is active.",time:"Just now",unread:!0},...B]),(async()=>{try{const B=await Y.getDriverContractedJobs();console.log(" [DriverDashboard] Force refreshed jobs from backend:",B),lt(B)}catch(B){console.error("[DriverDashboard] Force refresh failed:",B)}})())}),()=>{ce.off("return_requested"),ce.off("handover_completed")}),[]),S.useEffect(()=>{n==="requests"&&(async()=>{try{const $=await Y.getDriverPendingApprovals();c($)}catch($){console.error("Failed to fetch approvals",$)}})()},[n]);const $n=async j=>{console.log(" handleApproveRequest called with ID:",j),console.log(" Current pendingApprovals:",l);try{const $=await Y.approveRequest(j,{approved:!0});if(console.log(" API Approval Success:",$),c(B=>{const V=B.filter(J=>{const oe=J.id||J.rideId,ye=String(oe)===String(j);return ye&&console.log(" Removing item:",J),!ye});return console.log(" New pendingApprovals length:",V.length),V}),$.ride){console.log(" Adding to Contracted Jobs:",$.ride);const B={...$.ride,status:"Scheduled"};lt(V=>[B,...V])}alert("Request Approved! Check your Jobs tab to start the trip.")}catch($){console.error("Approval failed",$)}},Au=async j=>{try{await Y.approveRequest(j,{approved:!1}),c($=>$.filter(B=>B.id!==j))}catch($){console.error("Rejection failed",$)}},Cu=async(j,$,B)=>{try{await Y.makeDriverCounterOffer(j,{counterPrice:$,message:B}),c(V=>V.filter(J=>J.id!==j)),alert("Counter offer sent!")}catch(V){console.error("Counter offer failed",V)}},Pu=async j=>{try{const $=await Y.approveRequest(j,{approved:!0});lt(B=>B.map(V=>{var J;return V.id===j?{...V,negotiationStatus:"approved",status:"Scheduled",acceptedPrice:((J=$.ride)==null?void 0:J.acceptedPrice)||V.acceptedPrice||V.price}:V})),c(B=>B.filter(V=>V.id!==j)),alert("Request Approved (via Jobs)")}catch($){console.error("Approval from jobs failed",$)}},Eu=async j=>{try{await Y.approveRequest(j,{approved:!1}),lt($=>$.map(B=>B.id===j?{...B,negotiationStatus:"rejected",status:"Cancelled"}:B)),c($=>$.filter(B=>B.id!==j)),alert("Request Declined")}catch($){console.error("Decline from jobs failed",$)}},Ou=async j=>{try{await Y.approveRequest(j,{approved:!0}),alert("Payment prompt sent to rider!")}catch($){console.error("Handover trigger failed",$),alert("Failed to send prompt.")}},C=j=>{var V;const $=j.target.value,B=Me.find(J=>J.id===$);B?Ur==="hire"?(Hr({...Ge,vehicleId:$,title:`${B.name} Available`,category:B.category,rate:B.rate||""}),B.imageUrl&&yi(B.imageUrl)):(Zt({...Ee,vehicleId:$,seats:((V=B.seats)==null?void 0:V.toString())||"4"}),B.imageUrl&&we(B.imageUrl)):Ur==="hire"?Hr({...Ge,vehicleId:""}):Zt({...Ee,vehicleId:""})},F=async j=>{if(j.preventDefault(),!(!ve.name||!ve.plate))try{let $="";yr&&($=(await Y.uploadVehicleImage(yr)).imageUrl);const B={name:ve.name,plate:ve.plate,category:ve.category,rate:ve.rate,status:ve.status,imageUrl:$},V=await Y.addVehicle(B);qt(J=>[V,...J]),Rt({name:"",plate:"",make:"",model:"",customMake:"",customModel:"",category:_o[0],rate:"",status:"Available"}),el(null),Ta(null),gr(!1)}catch($){console.error("Failed to add vehicle:",$),alert("Failed to add vehicle. Please try again.")}},I=j=>{window.confirm("Are you sure you want to delete this vehicle from your fleet?")&&qt(Me.filter($=>$.id!==j))},D=()=>{if(!tt)return;const j=parseFloat(tt),$={id:Date.now(),type:"Settlement",desc:rt||"Physical Settlement",date:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),amount:j,method:"Physical",sub:"Settled Manually"};We([$,...Lt]),He(""),Pt("")},z=j=>{if(j.preventDefault(),!Et.trim())return;const $=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(Or){let J=o==null?void 0:o.id;if(!J)try{const oe=localStorage.getItem("token");oe&&(J=JSON.parse(atob(oe.split(".")[1])).id)}catch(oe){console.error("Failed to decode token for senderId",oe)}if(!J){console.error("No valid senderId found, cannot send message.");return}console.log(" Sending message via socket:",Et),ce.emit("send_message",{conversationId:Or,text:Et,senderId:J,senderRole:"driver"})}const B={id:Date.now().toString(),text:Et,sender:"user",timestamp:$},V=go.map(J=>J.id===Or?{...J,messages:[...J.messages,B],lastMessage:Et,time:$}:J);xr(V),yo("")},H=go.find(j=>j.id===Or),se=j=>{var B;const $=(B=j.target.files)==null?void 0:B[0];if($){el($);const V=new FileReader;V.onloadend=()=>Ta(V.result),V.readAsDataURL($)}},bt=j=>{var B;const $=(B=j.target.files)==null?void 0:B[0];if($){nl($);const V=new FileReader;V.onloadend=()=>we(V.result),V.readAsDataURL($)}},aa=j=>{var B;const $=(B=j.target.files)==null?void 0:B[0];if($){Ia($);const V=new FileReader;V.onloadend=()=>yi(V.result),V.readAsDataURL($)}},bi=async j=>{j.preventDefault(),sl(!0);try{await Y.saveDriverPayoutDetails({payoutMethod:ta,bankName:Le.bankName,bankAccountNumber:Le.accountNumber,bankAccountName:Le.accountName,airtelMoneyNumber:Le.mobileNumber,mpambaNumber:Le.mobileNumber}),alert("Payout details saved successfully!")}catch($){console.error($),alert("Failed to save payout details.")}finally{sl(!1)}},[hP,Bv]=S.useState({Weekly:[],Monthly:[],Yearly:[]}),[zv,Wv]=S.useState([]),[Ip,Vv]=S.useState([]),[Uv,Hv]=S.useState([]),[dl,Dp]=S.useState({totalEarnings:0,count:0,avgRating:5,walletBalance:0}),[bo,Kv]=S.useState(""),[Lp,qv]=S.useState(!1),[qr,wo]=S.useState("mobile"),pP=async()=>{if(!(!bo||Lp)){if(qr==="mobile"&&!Le.mobileNumber){alert("Please configure Mobile Money details in the Payout Details tab first.");return}if(qr==="bank"&&!Le.bankName){alert("Please configure Bank Details in the Payout Details tab first.");return}qv(!0);try{const j=parseFloat(bo);let $=Le.mobileNumber||"0999123456";await Y.requestPayout(j,$,"AIRTEL",qr),alert(`Withdrawal of MWK ${j.toLocaleString()} initiated via ${qr==="mobile"?"Mobile Money":"Bank Transfer"}!`),Kv("");const B=await Y.getDriverStats();Dp(B||{totalEarnings:0,count:0,avgRating:5,walletBalance:0})}catch(j){console.error(j),alert(j.message||"Withdrawal failed")}finally{qv(!1)}}};S.useEffect(()=>{(async()=>{const[$,B,V,J]=await Promise.all([Y.getDriverProfitStats(),Y.getDriverTripHistoryStats(),Y.getDriverDistanceStats(),Y.getDriverHoursStats()]);Bv($),Wv(B),Vv(V),Hv(J);try{const oe=await Y.getDriverStats();Dp(oe||{totalEarnings:0,count:0,avgRating:5})}catch(oe){console.warn("Failed to load driver summary stats",oe)}})()},[]),S.useEffect(()=>{(async()=>{try{const $=(o==null?void 0:o.id)||JSON.parse(atob(localStorage.getItem("token").split(".")[1])).id,[B,V,J,oe,ye,wt,jo,sr]=await Promise.all([Y.getDriverNotifications(),Y.getDriverTransactions(),Y.getDriverConversations(),Y.getDriverActivePosts(),Y.getDriverHirePosts(),Y.getDriverContractedJobs(),Y.getDriverVehicles(),Y.getDriverPayoutDetails($).catch(()=>({}))]);et(B),We(V),xr(J),J.length>0&&tl(J[0].id),hn(oe),$e(ye),lt(wt),qt(jo),sr&&sr.payoutMethod&&(ol(sr.payoutMethod),yt({bankName:sr.bankName,accountNumber:sr.payoutAccountNumber,accountName:sr.accountHolderName,mobileNumber:sr.payoutMobileNumber}),sr.payoutMethod==="Bank"?wo("bank"):wo("mobile"))}catch($){console.error("Error fetching driver data:",$)}})()},[]),S.useEffect(()=>(kt.startPolling("driver-approvals",{interval:5e3,onPoll:async()=>{try{const j=await Y.getDriverPendingApprovals();c(j)}catch(j){console.warn("Polling approvals failed",j)}}}),kt.startPolling("driver-jobs",{interval:8e3,onPoll:async()=>{try{const j=await Y.getDriverContractedJobs();lt(j)}catch(j){console.warn("Polling jobs failed",j)}}}),kt.startPolling("driver-posts",{interval:12e3,onPoll:async()=>{try{const[j,$]=await Promise.all([Y.getDriverActivePosts(),Y.getDriverHirePosts()]);hn(j),$e($)}catch(j){console.warn("Polling posts failed",j)}}}),kt.startPolling("driver-transactions",{interval:15e3,onPoll:async()=>{try{const j=await Y.getDriverTransactions();We(j)}catch(j){console.warn("Polling transactions failed",j)}}}),kt.startPolling("driver-analytics",{interval:2e4,onPoll:async()=>{try{const[j,$,B,V]=await Promise.all([Y.getDriverProfitStats(),Y.getDriverTripHistoryStats(),Y.getDriverDistanceStats(),Y.getDriverHoursStats()]);Bv(j),Wv($),Vv(B),Hv(V)}catch(j){console.warn("Polling analytics failed",j)}}}),kt.startPolling("driver-notifications",{interval:1e4,onPoll:async()=>{try{const j=await Y.getDriverNotifications();et(j)}catch(j){console.warn("Polling notifications failed",j)}}}),()=>{kt.stopPolling("driver-approvals"),kt.stopPolling("driver-jobs"),kt.stopPolling("driver-posts"),kt.stopPolling("driver-transactions"),kt.stopPolling("driver-analytics"),kt.stopPolling("driver-notifications")}),[]),S.useEffect(()=>{const j=setInterval(async()=>{try{const $=await Y.getDriverPendingApprovals();c($)}catch($){console.warn("Auto-poll error for pending approvals:",$)}},3e3);return()=>clearInterval(j)},[]),S.useEffect(()=>{const j=setInterval(async()=>{try{const $=await Y.getDriverContractedJobs();lt($)}catch($){console.warn("Auto-poll error for jobs:",$)}},5e3);return()=>clearInterval(j)},[]),S.useEffect(()=>{if(!Or)return;console.log(" Joining conversation:",Or),ce.emit("join_conversation",Or);const j=$=>{console.log(" New message received:",$),$.conversationId===Or&&xr(B=>B.map(V=>V.id===Or?V.messages.some(oe=>oe.id===$.id||oe.sender==="user"&&oe.text===$.text)?V:{...V,messages:[...V.messages,{id:$.id||Date.now().toString(),text:$.text,sender:$.senderId===(o==null?void 0:o.id)?"user":"agent",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}],lastMessage:$.text,time:"Just now"}:V))};return ce.on("new_message",j),()=>{ce.off("new_message",j)}},[Or,o]),S.useEffect(()=>{const j=setInterval(async()=>{try{const[$,B]=await Promise.all([Y.getDriverActivePosts(),Y.getDriverHirePosts()]);hn($),$e(B)}catch($){console.warn("Auto-poll error for posts:",$)}},1e4);return()=>clearInterval(j)},[]),S.useEffect(()=>{const j=$=>{try{$.driverId===(o==null?void 0:o.id)&&qt(B=>[$,...B])}catch(B){console.warn("vehicle_added handler error",B)}};return ce.on("vehicle_added",j),()=>{ce.off("vehicle_added")}},[o]),S.useEffect(()=>{(async()=>{try{const $=await fetch("/api/subscriptions/status",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if($.ok){const B=await $.json();ll(B)}}catch($){console.error("Error loading subscription status:",$)}})()},[]);const mP=()=>{(async()=>{try{const $=await fetch("/api/subscriptions/status",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if($.ok){const B=await $.json();ll(B)}}catch($){console.error("Error loading subscription status:",$)}})()},Rp=j=>{if(!j)return"??";const $=j.trim().split(/\s+/);return $.length>=2?($[0][0]+$[$.length-1][0]).toUpperCase():j.substring(0,2).toUpperCase()},Gv=["M","T","W","T","F","S","S"],fl=new Date,_u=fl.getFullYear(),Fp=fl.getMonth(),gP=["January","February","March","April","May","June","July","August","September","October","November","December"],Yv=(j,$)=>{const B=new Date(j,$,1),J=new Date(j,$+1,0).getDate();let oe=B.getDay()-1;return oe<0&&(oe=6),{name:gP[$],days:Array.from({length:J},(ye,wt)=>wt+1),offset:oe,year:j,month:$}},Bp=Yv(_u,Fp),Xv=Fp+1,yP=Xv>11?_u+1:_u,xP=Xv%12,zp=Yv(yP,xP),vP=()=>{const j=ea.find($=>["Inbound","Arrived","In Progress","Payment Due"].includes($.status));return j?i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A] h-full shadow-lg shadow-black/20 flex flex-col hover:shadow-[0_0_30px_rgba(250,204,21,0.1)] hover:border-[#FACC15]/30 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-white",children:"Current trip"}),i.jsx("div",{className:"px-2 py-1 rounded bg-[#FACC15]/20 text-[#FACC15] text-xs font-bold uppercase",children:j.status})]}),i.jsxs("div",{className:"relative pl-4 space-y-6 flex-1 before:absolute before:left-[11px] before:top-2 before:bottom-2 before:w-[2px] before:bg-[#2A2A2A]",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -left-[21px] top-1 w-4 h-4 rounded-full border-2 border-[#2A2A2A] bg-[#1E1E1E] flex items-center justify-center",children:i.jsx("div",{className:"w-2 h-2 rounded-full bg-transparent border border-[#FACC15]"})}),i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Origin"}),i.jsx("div",{className:"flex justify-between items-center",children:i.jsx("span",{className:"font-bold text-white",children:j.origin})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -left-[21px] top-1 w-4 h-4 rounded-full border-2 border-[#2A2A2A] bg-[#1E1E1E] flex items-center justify-center",children:i.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-600"})}),i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Destination"}),i.jsx("div",{className:"flex justify-between items-center",children:i.jsx("span",{className:"font-bold text-white",children:j.destination})})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-[#252525] rounded-xl flex items-center justify-between text-sm font-medium border border-[#FACC15]/20",children:[i.jsxs("div",{className:"flex items-center text-[#FACC15]",children:[i.jsx(Sh,{className:"w-5 h-5 mr-2"}),j.clientName||"Client"]}),i.jsxs("span",{className:"text-white font-bold",children:["MWK ",(j.payout??0).toLocaleString()]})]})]}):i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A] h-full shadow-lg shadow-black/20 flex flex-col items-center justify-center text-center hover:border-[#FACC15]/30 transition-all duration-300 min-h-[300px]",children:[i.jsx("div",{className:"w-16 h-16 bg-[#252525] rounded-full flex items-center justify-center mb-4",children:i.jsx(ka,{className:"w-8 h-8 text-gray-500"})}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"No Active Trip"}),i.jsx("p",{className:"text-sm text-gray-400",children:"You are currently available for new jobs."})]})};return i.jsxs("div",{className:"flex h-screen bg-[#121212] text-white font-sans overflow-hidden selection:bg-[#FACC15] selection:text-black",children:[t&&i.jsx("div",{className:"fixed inset-0 bg-black/80 z-40 lg:hidden",onClick:()=>r(!1)}),i.jsxs("aside",{className:`fixed lg:relative z-50 w-64 h-full bg-[#1E1E1E] border-r border-[#2A2A2A] flex flex-col transition-transform duration-300 ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[i.jsxs("div",{className:"h-20 flex items-center px-8 border-b border-[#2A2A2A]",children:[i.jsx("span",{className:"text-xl font-bold tracking-wide",children:"Ridex"}),i.jsx("button",{className:"ml-auto lg:hidden text-gray-400",onClick:()=>r(!1),children:i.jsx(tn,{className:"w-6 h-6"})})]}),i.jsxs("nav",{className:"flex-1 py-8 px-4 space-y-2",children:[i.jsxs("button",{onClick:()=>a("overview"),className:`flex items-center w-full px-4 py-3 rounded-xl font-bold transition-transform hover:scale-105 ${n==="overview"?"text-black bg-[#FACC15]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(r5,{className:"w-5 h-5 mr-3"})," Overview"]}),i.jsxs("button",{onClick:()=>a("requests"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="requests"?"text-white bg-[#2A2A2A] border border-[#FACC15]/30":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(Wk,{className:`w-5 h-5 mr-3 ${n==="requests"?"text-[#FACC15]":""}`}),"Requests",l.length>0&&i.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:l.length})]}),i.jsxs("button",{onClick:()=>a("jobs"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="jobs"?"text-white bg-[#2A2A2A]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(Cd,{className:"w-5 h-5 mr-3"})," My Jobs"]}),i.jsxs("button",{onClick:()=>a("messages"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="messages"?"text-white bg-[#2A2A2A]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(x1,{className:"w-5 h-5 mr-3"})," Messages"]}),i.jsxs("button",{onClick:()=>a("inventory"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="inventory"?"text-white bg-[#2A2A2A]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(v1,{className:"w-5 h-5 mr-3"})," Inventory"]}),i.jsxs("button",{onClick:()=>a("tracking"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="tracking"?"text-white bg-[#2A2A2A]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(Ir,{className:"w-5 h-5 mr-3"})," Tracking"]}),i.jsxs("button",{onClick:()=>a("history"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="history"?"text-white bg-[#2A2A2A]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(fre,{className:"w-5 h-5 mr-3"})," Analytics"]}),i.jsxs("button",{onClick:()=>a("documents"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="documents"?"text-white bg-[#2A2A2A]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(ri,{className:"w-5 h-5 mr-3"})," Documents"]}),i.jsxs("button",{onClick:()=>a("settings"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="settings"?"text-white bg-[#2A2A2A]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsxs("svg",{className:"w-5 h-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),i.jsxs("button",{onClick:()=>a("subscription"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="subscription"?"text-white bg-[#2A2A2A]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(ca,{className:"w-5 h-5 mr-3"})," Subscription"]})]}),i.jsx("div",{className:"p-4 border-t border-[#2A2A2A]",children:i.jsx("button",{onClick:e,className:"flex items-center w-full px-4 py-3 text-gray-400 hover:text-[#FACC15] hover:bg-[#2A2A2A] rounded-xl font-medium transition-colors",children:i.jsx("span",{className:"mr-3",children:"Log Out"})})})]}),i.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[i.jsxs("header",{className:"bg-white dark:bg-dark-800 shadow-sm sticky top-0 z-20 px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between transition-colors duration-300",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>r(!0),className:"lg:hidden mr-4 text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:i.jsx(Nx,{className:"h-6 w-6"})}),i.jsx("div",{className:"hidden md:flex items-center space-x-4",children:["overview","jobs","messages","inventory","tracking","history","settings"].map(j=>i.jsx("button",{onClick:()=>a(j),className:`${n===j?"bg-gray-900 dark:bg-white text-white dark:text-black":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"} px-4 py-2 rounded-full text-sm font-medium transition-colors capitalize`,children:j},j))})]}),i.jsxs("div",{className:"flex items-center space-x-4 lg:space-x-6",children:[i.jsxs("div",{className:"relative flex items-center",children:[i.jsxs("div",{className:`flex items-center transition-all duration-300 ${L?"w-64 bg-gray-100 dark:bg-[#252525] border border-transparent dark:border-[#333] rounded-xl px-3 py-1.5":"w-8"}`,children:[L&&i.jsx("input",{ref:ke,type:"text",value:E,onChange:j=>M(j.target.value),placeholder:"Search jobs, transactions...",className:"bg-transparent border-none outline-none text-gray-900 dark:text-white text-sm w-full placeholder-gray-500",autoFocus:!0,onBlur:()=>{E||K(!1)}}),i.jsx("button",{onClick:()=>{K(!0),setTimeout(()=>{var j;return(j=ke.current)==null?void 0:j.focus()},100)},className:`text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors ${L?"":"w-full"}`,children:i.jsx(ga,{className:"w-5 h-5"})})]}),L&&_.length>0&&i.jsx("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white dark:bg-[#1E1E1E] border border-gray-200 dark:border-[#333] rounded-xl shadow-xl overflow-hidden z-50",children:_.map(j=>i.jsxs("div",{className:"p-3 hover:bg-gray-50 dark:hover:bg-[#252525] cursor-pointer border-b border-gray-100 dark:border-[#333] last:border-0",onClick:()=>{console.log("Selected:",j),K(!1),M("")},children:[i.jsxs("div",{className:"font-bold text-gray-900 dark:text-white text-sm",children:[j.make," ",j.model]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[j.year,"  ",j.color]})]},j.id))})]}),i.jsxs("div",{className:"relative",ref:De,children:[i.jsxs("button",{onClick:()=>R(!Q),className:"text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors relative p-1",children:[i.jsx(Wk,{className:"w-5 h-5"}),Ct>0&&i.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-primary-500 rounded-full animate-pulse"})]}),Q&&i.jsxs("div",{className:"absolute right-0 top-full mt-4 w-80 bg-white dark:bg-[#1E1E1E] border border-gray-200 dark:border-[#333] rounded-xl shadow-2xl overflow-hidden z-50",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-[#333] flex justify-between items-center",children:[i.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Notifications"}),Ct>0&&i.jsx("button",{onClick:ku,className:"text-xs text-primary-500 hover:underline",children:"Mark all read"})]}),i.jsx("div",{className:"max-h-64 overflow-y-auto no-scrollbar",children:ze.length===0?i.jsx("div",{className:"p-4 text-center text-gray-500 text-xs",children:"No notifications"}):ze.map(j=>i.jsxs("div",{className:`p-4 border-b border-gray-200 dark:border-[#333] hover:bg-gray-50 dark:hover:bg-[#252525] transition-colors ${j.unread?"bg-primary-50 dark:bg-[#FACC15]/5":""}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:`text-sm font-bold ${j.unread?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:j.title}),i.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500",children:j.time})]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.msg})]},j.id))})]})]}),i.jsx(Ax,{}),i.jsx("div",{className:"h-8 w-[1px] bg-gray-200 dark:bg-[#2A2A2A]"}),i.jsxs("div",{className:"flex items-center gap-3",children:[o!=null&&o.avatar?i.jsx("img",{src:Y.getAssetUrl(o.avatar),alt:"Driver",className:"w-9 h-9 rounded-full border border-primary-500"}):i.jsx("div",{className:"w-9 h-9 rounded-full border border-primary-500 bg-[#FACC15] text-black flex items-center justify-center text-xs font-bold",children:Rp((o==null?void 0:o.name)||"Driver")}),i.jsxs("div",{className:"hidden lg:block text-right",children:[i.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:(o==null?void 0:o.name)||"Driver"}),i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(Pd,{className:"w-3 h-3 text-primary-500"}),i.jsx("span",{className:"text-primary-500 text-xs font-bold",children:(o==null?void 0:o.rating)||"5.0"}),i.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider ml-1",children:(o==null?void 0:o.role)||"DRIVER"})]})]})]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 lg:p-10 scroll-smooth",children:i.jsxs("div",{className:"w-full space-y-8 px-4 sm:px-6 md:px-8",children:[!["subscription","trips","distance","hours","inventory","messages","documents","requests"].includes(n)&&i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"Good morning,"}),i.jsx("h1",{className:"text-3xl font-bold text-white mt-1",children:(o==null?void 0:o.name)||"Driver"})]}),i.jsxs("div",{className:"flex items-center gap-3 self-start md:self-auto",children:[i.jsxs("button",{onClick:Op,className:"flex items-center px-4 py-2 bg-[#1E1E1E] text-gray-300 rounded-xl text-sm font-medium border border-[#2A2A2A] hover:bg-[#252525] transition-colors hover:shadow-lg hover:shadow-[#FACC15]/10 min-w-[120px] justify-center",children:[i.jsx(dre,{className:"w-4 h-4 mr-2"})," ",W]}),i.jsxs("button",{onClick:Ep,disabled:q,className:"flex items-center px-4 py-2 bg-[#1E1E1E] text-gray-300 rounded-xl text-sm font-medium border border-[#2A2A2A] hover:bg-[#252525] transition-colors hover:shadow-lg hover:shadow-[#FACC15]/10",children:[q?i.jsx(Jm,{className:"w-4 h-4 mr-2"}):i.jsx(hre,{className:"w-4 h-4 mr-2"}),q?"Exporting...":"Export CSV"]}),i.jsxs("button",{onClick:()=>P(!A),className:`flex items-center px-6 py-2 rounded-xl text-sm font-bold shadow-lg transition-all transform active:scale-95 ${A?"bg-[#FACC15] text-black hover:bg-[#EAB308]":"bg-[#2A2A2A] text-gray-400 hover:text-white hover:shadow-[#FACC15]/20"}`,children:[A&&i.jsx("span",{className:"w-2 h-2 rounded-full bg-black mr-2 animate-pulse"}),A?"Online":"Go Online"]})]})]}),A&&n==="overview"&&i.jsxs("div",{className:"bg-gradient-to-r from-[#FACC15]/20 to-transparent p-3 rounded-xl border border-[#FACC15]/30 flex items-center gap-3 animate-fadeIn",children:[i.jsx(Jm,{className:"w-5 h-5 text-[#FACC15]"}),i.jsx("span",{className:"text-[#FACC15] font-bold text-sm",children:"Scanning for nearby requests..."})]}),n==="messages"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-12rem)] animate-fadeIn",children:[i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl border border-[#2A2A2A] overflow-hidden flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-[#333]",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search messages...",className:"w-full bg-[#252525] border border-[#333] rounded-xl pl-10 pr-4 py-2 text-sm text-white outline-none focus:border-[#FACC15]"}),i.jsx(ga,{className:"w-4 h-4 text-gray-500 absolute left-3 top-2.5"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:go.map(j=>i.jsx("div",{onClick:()=>tl(j.id),className:`p-4 border-b border-[#333] cursor-pointer hover:bg-[#252525] transition-colors ${Or===j.id?"bg-[#252525] border-l-4 border-l-[#FACC15]":""}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[j.avatar?i.jsx("img",{src:j.avatar,alt:j.name,className:"w-10 h-10 rounded-full object-cover"}):i.jsx("div",{className:"w-10 h-10 rounded-full bg-[#252525] border border-[#333] flex items-center justify-center text-xs font-bold text-[#FACC15]",children:Rp(j.name)}),j.status==="online"&&i.jsx("span",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-green-500 rounded-full border-2 border-[#1E1E1E]"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[i.jsx("h4",{className:`text-sm font-bold truncate ${Or===j.id?"text-white":"text-gray-300"}`,children:j.name}),i.jsx("span",{className:"text-[10px] text-gray-500",children:j.time})]}),i.jsx("p",{className:"text-xs text-gray-400 truncate",children:j.lastMessage})]}),j.unread>0&&i.jsx("span",{className:"bg-[#FACC15] text-black text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:j.unread})]})},j.id))})]}),i.jsx("div",{className:"lg:col-span-2 bg-[#1E1E1E] rounded-3xl border border-[#2A2A2A] overflow-hidden flex flex-col",children:H?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 border-b border-[#333] flex justify-between items-center bg-[#252525]",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[H.avatar?i.jsx("img",{src:H.avatar,alt:H.name,className:"w-10 h-10 rounded-full"}):i.jsx("div",{className:"w-10 h-10 rounded-full bg-[#1E1E1E] border border-[#333] flex items-center justify-center text-xs font-bold text-[#FACC15]",children:Rp(H.name)}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-bold text-sm",children:H.name}),i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[i.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${H.status==="online"?"bg-green-500":"bg-gray-500"}`}),H.status==="online"?"Online":""]})]})]}),i.jsx("button",{className:"text-gray-400 hover:text-white",children:i.jsx(Vk,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-[#1E1E1E]",children:H.messages.map(j=>i.jsx("div",{className:`flex ${j.sender==="user"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[75%] p-3 rounded-2xl text-sm ${j.sender==="user"?"bg-[#FACC15] text-black rounded-tr-none":"bg-[#2A2A2A] text-gray-200 rounded-tl-none"}`,children:[i.jsx("p",{children:j.text}),i.jsx("p",{className:`text-[10px] mt-1 text-right ${j.sender==="user"?"text-black/60":"text-gray-500"}`,children:j.timestamp})]})},j.id))}),i.jsx("div",{className:"p-4 border-t border-[#333] bg-[#252525]",children:i.jsxs("form",{onSubmit:z,className:"flex gap-2",children:[i.jsx("input",{type:"text",value:Et,onChange:j=>yo(j.target.value),placeholder:"Type a message...",className:"flex-1 bg-[#1E1E1E] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]"}),i.jsx("button",{type:"submit",disabled:!Et.trim(),className:"p-3 bg-[#FACC15] text-black rounded-xl hover:bg-[#EAB308] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i.jsx(Sx,{className:"w-5 h-5"})})]})})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[i.jsx(x1,{className:"w-16 h-16 opacity-20 mb-4"}),i.jsx("p",{children:"Select a conversation to start messaging"})]})})]}),n==="overview"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:[i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#FACC15]/50 flex flex-col justify-between h-48 group hover:shadow-[0_0_30px_rgba(250,204,21,0.2)] transition-all duration-300 shadow-lg shadow-black/20 relative overflow-hidden",children:[i.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 bg-[#FACC15]/10 rounded-full blur-xl"}),i.jsxs("div",{className:"flex items-center gap-2 text-[#FACC15] text-sm font-medium z-10",children:[i.jsx("div",{className:"p-1.5 bg-[#FACC15]/20 rounded-lg text-[#FACC15]",children:i.jsx(ca,{className:"w-4 h-4"})}),"Subscription"]}),i.jsxs("div",{className:"z-10",children:[i.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"Premium"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-xs text-gray-400",children:le?"Active":"Expired"})})]}),i.jsx("button",{onClick:()=>a("subscription"),className:"w-full py-2 bg-[#FACC15] text-black text-sm font-bold rounded-xl hover:bg-[#EAB308] transition-colors z-10",children:"Manage Plan"})]}),i.jsxs("div",{onClick:()=>a("trips"),className:"cursor-pointer bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A] flex flex-col justify-between h-48 group hover:border-[#FACC15]/50 transition-all duration-300 shadow-lg shadow-black/20 hover:shadow-[0_0_30px_rgba(250,204,21,0.1)]",children:[i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm font-medium",children:[i.jsx("div",{className:"p-1.5 bg-[#2A2A2A] rounded-lg text-[#FACC15]",children:i.jsx(Ue,{className:"w-4 h-4"})}),"Total trips"]})}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-4xl font-bold text-white mb-2",children:[dl.count," ",i.jsx("span",{className:"text-sm font-medium text-gray-500",children:"t"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-[#FACC15]/10 text-[#FACC15] text-xs font-bold px-2 py-0.5 rounded",children:"+3.4%"}),i.jsx("span",{className:"text-xs text-gray-500",children:"in this period"})]})]}),i.jsx("div",{className:"flex items-end gap-1 h-8 mt-2 opacity-80",children:[40,60,45,80,55,70].map((j,$)=>i.jsx("div",{className:"w-full bg-[#FACC15] rounded-t-sm opacity-90",style:{height:`${j}%`}},$))})]}),i.jsxs("div",{onClick:()=>a("distance"),className:"cursor-pointer bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A] flex flex-col justify-between h-48 group hover:border-[#FACC15]/50 transition-all duration-300 shadow-lg shadow-black/20 hover:shadow-[0_0_30px_rgba(250,204,21,0.1)]",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm font-medium",children:[i.jsx("div",{className:"p-1.5 bg-[#2A2A2A] rounded-lg text-[#FACC15]",children:i.jsx(Ir,{className:"w-4 h-4"})}),"Distance driven"]}),i.jsxs("div",{className:"text-4xl font-bold text-white mt-auto mb-4",children:[(()=>{try{return(Ip||[]).reduce((j,$)=>j+($.km||0),0)}catch{return 0}})()," ",i.jsx("span",{className:"text-sm font-medium text-gray-500",children:"km"})]}),i.jsx("div",{className:"flex items-end gap-1.5 h-10 mt-2",children:[20,40,60,80,50,30,70].map((j,$)=>i.jsx("div",{className:`flex-1 rounded-t-md ${$>3?"bg-[#FACC15]":"bg-[#333]"}`,style:{height:`${j}%`}},$))})]}),i.jsxs("div",{onClick:()=>a("hours"),className:"cursor-pointer bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A] flex flex-col justify-between h-48 group hover:border-[#FACC15]/50 transition-all duration-300 shadow-lg shadow-black/20 hover:shadow-[0_0_30px_rgba(250,204,21,0.1)]",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm font-medium",children:[i.jsx("div",{className:"p-1.5 bg-[#2A2A2A] rounded-lg text-[#FACC15]",children:i.jsx(ka,{className:"w-4 h-4"})}),"Driving hours"]}),i.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-[#FACC15]"}),i.jsx("span",{className:"text-xs text-gray-400",children:"Day time"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-[#333]"}),i.jsx("span",{className:"text-xs text-gray-400",children:"Night time"})]}),i.jsx("div",{className:"text-3xl font-bold text-white mt-3",children:(()=>{try{const j=(Uv||[]).reduce((V,J)=>V+((J.day||0)+(J.night||0)),0),$=Math.floor(j),B=Math.round((j-$)*60);return`${$}h ${B}m`}catch{return"0h 0m"}})()})]}),i.jsx("div",{className:"relative w-16 h-16",children:i.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 36 36",children:[i.jsx("path",{className:"text-[#2A2A2A]",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"text-[#FACC15]",strokeDasharray:"70, 100",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round"})]})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[400px] lg:h-[450px]",children:[i.jsxs("div",{className:"lg:col-span-3 bg-[#1E1E1E] rounded-3xl p-4 border border-[#2A2A2A] shadow-lg shadow-black/20 flex flex-col h-full overflow-hidden hover:shadow-[0_0_30px_rgba(250,204,21,0.1)] hover:border-[#FACC15]/30 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2 shrink-0",children:[i.jsx("h3",{className:"text-base font-bold text-white",children:"Schedule"}),i.jsx("button",{className:"p-1 bg-[#2A2A2A] rounded-lg text-gray-400 hover:text-white",children:i.jsx(Vk,{className:"w-3 h-3"})})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2 shrink-0 border-b border-[#2A2A2A] pb-2",children:Gv.map(j=>i.jsx("span",{className:"text-[10px] text-gray-500 font-medium",children:j},j))}),i.jsxs("div",{className:"overflow-y-auto pr-1 no-scrollbar flex-1",children:[i.jsx("div",{className:"text-xs font-bold text-[#FACC15] mb-2 mt-1 sticky top-0 bg-[#1E1E1E] py-1 z-10",children:Bp.name}),i.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center mb-4",children:[Array.from({length:Bp.offset}).map((j,$)=>i.jsx("div",{},`empty-cur-${$}`)),Bp.days.map(j=>{const $=j===fl.getDate()&&Fp===fl.getMonth()&&_u===fl.getFullYear();return i.jsx("div",{className:`h-7 w-7 flex items-center justify-center rounded-lg text-xs font-medium ${$?"bg-[#FACC15] text-black shadow-lg":[5,12,19,26].includes(j)?"bg-[#252525] text-gray-300":"text-gray-500 hover:bg-[#252525] cursor-pointer"}`,children:j},`cur-${j}`)})]}),i.jsx("div",{className:"text-xs font-bold text-[#FACC15] mb-2 mt-1 sticky top-0 bg-[#1E1E1E] py-1 z-10",children:zp.name}),i.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[Array.from({length:zp.offset}).map((j,$)=>i.jsx("div",{},`empty-next-${$}`)),zp.days.map(j=>i.jsx("div",{className:`h-7 w-7 flex items-center justify-center rounded-lg text-xs font-medium ${[5,12,19,26].includes(j)?"bg-[#252525] text-gray-300":"text-gray-500 hover:bg-[#252525] cursor-pointer"}`,children:j},`next-${j}`))]})]})]}),i.jsxs("div",{className:"lg:col-span-3 bg-[#1E1E1E] rounded-3xl p-5 border border-[#2A2A2A] shadow-lg shadow-black/20 flex flex-col h-full overflow-hidden hover:shadow-[0_0_30px_rgba(250,204,21,0.1)] hover:border-[#FACC15]/30 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3 shrink-0",children:[i.jsx("h3",{className:"text-base font-bold text-white",children:"My Vehicles"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>gr(!0),className:"bg-[#FACC15] text-black p-1 rounded hover:bg-[#EAB308]",children:i.jsx(Fl,{className:"w-3 h-3"})}),i.jsx("div",{className:"bg-[#FACC15]/10 text-[#FACC15] text-xs font-bold px-2 py-0.5 rounded-full",children:Me.length})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto pr-1 space-y-3 no-scrollbar",children:Me.map(j=>i.jsxs("div",{className:"bg-[#252525] p-3 rounded-xl border border-[#333] hover:border-[#FACC15]/30 transition-colors group cursor-pointer",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("div",{className:"h-8 w-8 bg-[#1E1E1E] rounded-lg flex items-center justify-center border border-[#333] opacity-70 group-hover:opacity-100 transition-all text-[#FACC15]",children:i.jsx(v1,{className:"w-4 h-4"})}),i.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${j.status==="On-Route"?"bg-green-500/20 text-green-400":j.status==="Maintenance"||j.status==="Service"?"bg-red-500/20 text-red-400":"bg-gray-700 text-gray-400"}`,children:j.status})]}),i.jsx("div",{className:"font-bold text-white text-sm",children:j.name}),i.jsxs("div",{className:"text-xs text-gray-500 flex justify-between items-center mt-1",children:[i.jsx("span",{children:j.plate}),j.status==="On-Route"&&i.jsx("span",{className:"w-1.5 h-1.5 bg-[#FACC15] rounded-full animate-pulse"})]})]},j.id))})]}),i.jsx("div",{className:`lg:col-span-6 h-full transition-all duration-500 ${p?"fixed inset-0 z-50 bg-[#1E1E1E] p-4":""}`,children:i.jsxs("div",{className:`bg-[#1E1E1E] rounded-3xl border border-[#2A2A2A] shadow-lg shadow-black/20 h-full relative min-h-[400px] overflow-hidden hover:shadow-[0_0_30px_rgba(250,204,21,0.1)] hover:border-[#FACC15]/30 transition-all duration-300 ${p?"border-none rounded-none":""}`,children:[i.jsx("div",{className:"w-full h-full flex items-center justify-center p-6",children:i.jsxs("div",{className:"text-center max-w-lg",children:[i.jsx("div",{className:"w-16 h-16 bg-[#252525] rounded-full flex items-center justify-center mx-auto mb-4 border border-[#333]",children:i.jsx(Ir,{className:"w-8 h-8 text-[#FACC15]"})}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Manual Tracking Mode"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Automated map tracking has been disabled. Use the controls in the job card to update status (Inbound, Arrived, Boarded, In Progress, Complete)."})]})}),p&&i.jsx("button",{onClick:j=>{j.stopPropagation(),y(!1)},className:"absolute top-6 right-6 z-50 bg-black/50 backdrop-blur-md p-2 rounded-full text-white hover:bg-black/70 transition-colors",children:i.jsx(tn,{className:"w-6 h-6"})}),i.jsx("div",{className:"absolute top-6 right-6 z-10",children:i.jsxs("button",{onClick:()=>h(d==="street"?"satellite":"street"),className:"bg-[#1E1E1E]/95 backdrop-blur-sm border border-[#2A2A2A] rounded-lg px-3 py-2 text-xs font-bold text-white hover:border-[#FACC15]/50 hover:text-[#FACC15] transition-all duration-300 shadow-xl flex items-center gap-2",children:[i.jsx(Ir,{className:"w-4 h-4"}),d==="street"?"Satellite":"Street"]})}),i.jsxs("div",{className:"absolute top-6 left-6 bg-[#1E1E1E]/95 backdrop-blur-sm border border-[#2A2A2A] rounded-xl px-4 py-3 shadow-xl z-10 flex items-center gap-3 hover:border-[#FACC15]/50 transition-all duration-300 max-w-xs",children:[i.jsx("div",{className:"w-10 h-10 bg-[#FACC15] rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(pre,{className:"w-6 h-6 text-black"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("div",{className:"text-xs font-bold text-[#FACC15] uppercase tracking-wider mb-0.5",children:"Trip Info"}),b?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-sm font-medium text-white truncate",children:["Distance: ",b," km"]}),i.jsx("div",{className:"text-xs text-gray-400",children:"Static Route"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-sm font-medium text-white",children:"No Active Trip"}),i.jsx("div",{className:"text-xs text-gray-400",children:"Waiting for job"})]})]})]})]})})]})]}),n==="inventory"&&i.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>a("overview"),className:"p-2 rounded-xl bg-[#252525] hover:bg-[#333] text-gray-400 hover:text-white transition-colors",children:i.jsx(Oo,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Fleet Inventory"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Manage your vehicle listings and availability."})]})]}),i.jsxs("button",{onClick:()=>gr(!0),className:"flex items-center gap-2 px-4 py-2 bg-[#FACC15] text-black rounded-xl font-bold hover:bg-[#EAB308] transition-colors",children:[i.jsx(Fl,{className:"w-5 h-5"}),"Add Vehicle"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[Me.map(j=>i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-5 border border-[#2A2A2A] group hover:border-[#FACC15]/50 transition-all duration-300 relative",children:[i.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx("button",{onClick:()=>I(j.id),className:"p-2 bg-[#252525] hover:bg-red-900/30 text-gray-400 hover:text-red-500 rounded-lg transition-colors",children:i.jsx(rO,{className:"w-4 h-4"})})}),i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-gray-400 border-2 border-[#333] overflow-hidden flex-shrink-0",children:j.imageUrl?i.jsx("img",{src:Y.getAssetUrl(j.imageUrl),alt:j.name,className:"w-full h-full object-cover"}):i.jsx("span",{className:"text-sm font-bold uppercase",children:"Car"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-white text-lg leading-tight",children:j.name}),i.jsx("span",{className:"text-xs text-gray-500 font-mono",children:j.plate})]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center p-2 bg-[#252525] rounded-lg border border-[#333]",children:[i.jsx("span",{className:"text-gray-400",children:"Category"}),i.jsx("span",{className:"text-white font-medium truncate max-w-[100px]",title:j.category,children:j.category})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 bg-[#252525] rounded-lg border border-[#333]",children:[i.jsx("span",{className:"text-gray-400",children:"Rate"}),i.jsx("span",{className:"text-[#FACC15] font-bold",children:j.rate})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 bg-[#252525] rounded-lg border border-[#333]",children:[i.jsx("span",{className:"text-gray-400",children:"Status"}),i.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded font-bold ${j.status==="Available"?"bg-green-500/20 text-green-400":"bg-gray-700 text-gray-400"}`,children:j.status})]})]})]},j.id)),i.jsxs("div",{onClick:()=>gr(!0),className:"bg-[#1E1E1E] rounded-3xl p-5 border border-[#2A2A2A] border-dashed flex flex-col items-center justify-center gap-4 cursor-pointer hover:bg-[#252525] hover:border-[#FACC15]/30 transition-all min-h-[200px]",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-[#252525] flex items-center justify-center text-gray-500 group-hover:text-[#FACC15] transition-colors",children:i.jsx(Fl,{className:"w-8 h-8"})}),i.jsx("span",{className:"font-bold text-gray-400",children:"Add New Vehicle"})]})]}),or&&i.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>gr(!1),children:i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-8 max-w-md w-full border border-[#333] shadow-2xl overflow-y-auto max-h-[90vh]",onClick:j=>j.stopPropagation(),children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-white",children:"Add Vehicle to Fleet"}),i.jsx("button",{onClick:()=>gr(!1),className:"text-gray-400 hover:text-white",children:i.jsx(tn,{className:"w-6 h-6"})})]}),i.jsxs("form",{onSubmit:F,className:"space-y-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Vehicle image (Optional)"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 bg-[#252525] rounded-2xl border-2 border-dashed border-[#333] flex items-center justify-center overflow-hidden",children:xu?i.jsx("img",{src:xu,alt:"Preview",className:"w-full h-full object-cover"}):i.jsx(Ue,{className:"w-8 h-8 text-gray-600"})}),i.jsxs("label",{className:"flex-1",children:[i.jsx("div",{className:"px-4 py-2 bg-[#252525] hover:bg-[#333] text-white text-xs font-bold rounded-lg cursor-pointer text-center transition-colors",children:"Choose Photo"}),i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:se})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Vehicle Name"}),i.jsx("input",{type:"text",required:!0,value:ve.name,onChange:j=>Rt({...ve,name:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"e.g. 5-Ton Truck"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"License Plate"}),i.jsx("input",{type:"text",required:!0,value:ve.plate,onChange:j=>Rt({...ve,plate:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"e.g. MC 1234"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Category"}),i.jsx("select",{value:ve.category,onChange:j=>Rt({...ve,category:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",children:_o.map(j=>i.jsx("option",{value:j,children:j},j))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Make/Brand"}),i.jsxs("select",{value:ve.make,onChange:j=>Rt({...ve,make:j.target.value,model:"",customMake:"",customModel:""}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",required:!0,children:[i.jsx("option",{value:"",children:"Select Make"}),sre.map(j=>i.jsx("option",{value:j,children:j},j)),i.jsx("option",{value:"Other",children:"Other (Enter Custom)"})]})]}),ve.make==="Other"&&i.jsxs("div",{className:"animate-fadeIn",children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Custom Make/Brand"}),i.jsx("input",{type:"text",value:ve.customMake,onChange:j=>Rt({...ve,customMake:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"Enter make/brand name",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Model"}),i.jsxs("select",{value:ve.model,onChange:j=>Rt({...ve,model:j.target.value,customModel:""}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",disabled:!ve.make||ve.make==="Other",required:ve.make!=="Other",children:[i.jsx("option",{value:"",children:"Select Model"}),ve.make&&ve.make!=="Other"&&((Jv=lre[ve.make])==null?void 0:Jv.map(j=>i.jsx("option",{value:j,children:j},j))),ve.make&&ve.make!=="Other"&&i.jsx("option",{value:"Other",children:"Other (Enter Custom)"})]})]}),(ve.model==="Other"||ve.make==="Other")&&i.jsxs("div",{className:"animate-fadeIn",children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Custom Model"}),i.jsx("input",{type:"text",value:ve.customModel,onChange:j=>Rt({...ve,customModel:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"Enter model name",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Default Rate"}),i.jsx("input",{type:"text",value:ve.rate,onChange:j=>Rt({...ve,rate:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"e.g. 200/day"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Status"}),i.jsxs("select",{value:ve.status,onChange:j=>Rt({...ve,status:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",children:[i.jsx("option",{value:"Available",children:"Available"}),i.jsx("option",{value:"Maintenance",children:"Maintenance"}),i.jsx("option",{value:"Service",children:"Service"})]})]})]}),i.jsx("button",{type:"submit",className:"w-full bg-[#FACC15] text-black font-bold py-3 rounded-xl mt-4 hover:bg-[#EAB308] transition-colors",children:"Add Vehicle"})]})]})})]}),n==="documents"&&i.jsxs("div",{className:"animate-fadeIn space-y-6 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("button",{onClick:()=>a("overview"),className:"p-2 rounded-xl bg-[#252525] hover:bg-[#333] text-gray-400 hover:text-white transition-colors",children:i.jsx(Oo,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payout Details"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Manage your bank or mobile money details."})]})]}),i.jsxs("form",{onSubmit:bi,className:"space-y-6",children:[i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A] relative overflow-hidden",children:[i.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[i.jsx(ca,{className:"w-5 h-5 text-[#FACC15]"}),"Payout Method"]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"text-xs text-gray-500 mb-2 block uppercase font-bold",children:"Preferred Method"}),i.jsx("div",{className:"flex bg-[#252525] p-1 rounded-xl border border-[#333]",children:["Bank","Airtel Money","Mpamba"].map(j=>i.jsx("button",{type:"button",onClick:()=>ol(j),className:`flex-1 py-2.5 rounded-lg text-sm font-bold transition-all ${ta===j?"bg-[#FACC15] text-black shadow-lg":"text-gray-400 hover:text-white hover:bg-[#333]"}`,children:j},j))})]}),ta==="Bank"?i.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Bank Name"}),i.jsxs("select",{value:Le.bankName||"",onChange:j=>yt({...Le,bankName:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",required:!0,children:[i.jsx("option",{value:"",children:"Select Bank"}),i.jsx("option",{value:"National Bank",children:"National Bank of Malawi"}),i.jsx("option",{value:"Standard Bank",children:"Standard Bank"}),i.jsx("option",{value:"FDH Bank",children:"FDH Bank"}),i.jsx("option",{value:"NBS Bank",children:"NBS Bank"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Account Number"}),i.jsx("input",{type:"text",value:Le.accountNumber||"",onChange:j=>yt({...Le,accountNumber:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"0000000000",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Account Holder Name"}),i.jsx("input",{type:"text",value:Le.accountName||"",onChange:j=>yt({...Le,accountName:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"Full Name",required:!0})]})]}):i.jsxs("div",{className:"animate-fadeIn",children:[i.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["Mobile Number (",ta,")"]}),i.jsxs("div",{className:"relative",children:[i.jsx(af,{className:"w-5 h-5 text-gray-500 absolute left-4 top-3"}),i.jsx("input",{type:"text",value:Le.mobileNumber||"",onChange:j=>yt({...Le,mobileNumber:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl pl-12 pr-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"+265...",required:!0})]})]})]}),i.jsxs("button",{type:"submit",disabled:Ye,className:"w-full bg-[#FACC15] text-black font-bold py-4 rounded-xl hover:bg-[#EAB308] transition-all shadow-lg shadow-[#FACC15]/20 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[Ye?i.jsx(Jm,{className:"w-5 h-5"}):i.jsx(wi,{className:"w-5 h-5"}),Ye?"Saving...":"Save Details"]})]})]}),n==="settings"&&i.jsxs("div",{className:"animate-fadeIn space-y-6 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("button",{onClick:()=>a("overview"),className:"p-2 rounded-xl bg-[#252525] hover:bg-[#333] text-gray-400 hover:text-white transition-colors",children:i.jsx(Oo,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Wallet & Settings"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Manage your wallet and balance."})]})]}),i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A] relative overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[i.jsx(ca,{className:"w-5 h-5 text-[#FACC15]"}),"Wallet Balance"]}),i.jsx("p",{className:"text-sm text-gray-400",children:"Available earnings for withdrawal."})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-[#FACC15]",children:["MWK ",(dl.walletBalance||0).toLocaleString()]}),i.jsx("div",{className:"text-xs text-gray-500",children:"Available"})]})]}),i.jsx("div",{className:"flex gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx("span",{className:"absolute left-4 top-3.5 text-gray-400 text-sm",children:"MWK"}),i.jsx("input",{type:"number",value:bo,onChange:j=>Kv(j.target.value),className:"w-full bg-[#252525] border border-[#333] rounded-xl pl-12 pr-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"0.00"})]})}),i.jsxs("div",{className:"mt-6 mb-6",children:[i.jsx("label",{className:"text-xs text-gray-500 mb-2 block uppercase font-bold",children:"Withdraw To"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{onClick:()=>wo("mobile"),className:`p-4 rounded-xl border cursor-pointer transition-all ${qr==="mobile"?"bg-[#FACC15]/10 border-[#FACC15] ring-1 ring-[#FACC15]":"bg-[#252525] border-[#333] hover:border-[#666]"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:`font-bold ${qr==="mobile"?"text-[#FACC15]":"text-white"}`,children:"Mobile Money"}),qr==="mobile"&&i.jsx(wi,{className:"w-5 h-5 text-[#FACC15]"})]}),i.jsx("div",{className:"text-sm text-gray-400 truncate",children:Le.mobileNumber?`${Le.payoutMethod||"Mobile"}: ${Le.mobileNumber}`:"Not configured"})]}),i.jsxs("div",{onClick:()=>wo("bank"),className:`p-4 rounded-xl border cursor-pointer transition-all ${qr==="bank"?"bg-[#FACC15]/10 border-[#FACC15] ring-1 ring-[#FACC15]":"bg-[#252525] border-[#333] hover:border-[#666]"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:`font-bold ${qr==="bank"?"text-[#FACC15]":"text-white"}`,children:"Bank Transfer"}),qr==="bank"&&i.jsx(wi,{className:"w-5 h-5 text-[#FACC15]"})]}),i.jsx("div",{className:"text-sm text-gray-400 truncate",children:Le.bankName?`${Le.bankName} - ${Le.accountNumber}`:"Not configured"})]})]}),i.jsx("div",{className:"mt-3 flex justify-end",children:i.jsxs("button",{onClick:()=>a("documents"),className:"text-xs text-[#FACC15] hover:underline flex items-center gap-1 font-medium",children:[i.jsx(Fl,{className:"w-3.5 h-3.5"}),"Add New Details"]})})]}),i.jsx("button",{onClick:pP,disabled:!bo||parseFloat(bo)<=0||parseFloat(bo)>(dl.walletBalance||0)||Lp||qr==="mobile"&&!Le.mobileNumber||qr==="bank"&&!Le.bankName,className:"w-full bg-[#FACC15] text-black font-bold py-4 rounded-xl hover:bg-[#EAB308] transition-all shadow-lg shadow-[#FACC15]/20 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:Lp?"Processing...":"Withdraw Funds"})]})]}),n==="trips"&&i.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("button",{onClick:()=>a("overview"),className:"p-2 rounded-xl bg-[#252525] hover:bg-[#333] text-gray-400 hover:text-white transition-colors",children:i.jsx(Oo,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Total Trips Analytics"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Detailed breakdown of your trip history and types."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A]",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Trip Volume Trend"}),i.jsx("div",{className:"h-80 w-full",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(by,{data:zv,children:[i.jsx(Sr,{strokeDasharray:"3 3",vertical:!1,stroke:"#333",opacity:.5}),i.jsx(Wt,{dataKey:"name",stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1}),i.jsx(Vt,{stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1}),i.jsx(ct,{contentStyle:{backgroundColor:"#1E1E1E",borderColor:"#333",borderRadius:"8px",color:"#fff"},cursor:{fill:"#252525"}}),i.jsx(Cn,{verticalAlign:"top",align:"right",iconType:"circle"}),i.jsx(on,{dataKey:"share",name:"Ride Share",fill:"#FACC15",radius:[4,4,0,0]}),i.jsx(on,{dataKey:"hire",name:"For Hire",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A]",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Summary"}),i.jsx("div",{className:"space-y-4",children:(()=>{try{const j=(zv||[]).reduce((V,J)=>V+(J.share||0)+(J.hire||0),0)||dl.count||0,$=(ea||[]).filter(V=>(V.status||"").toLowerCase()==="completed").length,B=(ea||[]).filter(V=>(V.status||"").toLowerCase().includes("cancel")).length;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Total Trips"}),i.jsx("span",{className:"text-white font-bold text-xl",children:j})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Completed"}),i.jsx("span",{className:"text-green-400 font-bold",children:$})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Cancelled"}),i.jsx("span",{className:"text-red-400 font-bold",children:B})]})]})}catch{return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Total Trips"}),i.jsx("span",{className:"text-white font-bold text-xl",children:dl.count})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Completed"}),i.jsx("span",{className:"text-green-400 font-bold",children:"0"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Cancelled"}),i.jsx("span",{className:"text-red-400 font-bold",children:"0"})]})]})}})()})]}),i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A]",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Recent Activity"}),i.jsxs("div",{className:"space-y-3 text-sm max-h-[300px] overflow-y-auto no-scrollbar",children:[(Lt||[]).map(j=>i.jsxs("div",{className:"flex justify-between items-center text-gray-300 p-2 hover:bg-[#252525] rounded-lg transition-colors border-b border-[#333] last:border-0",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-white",children:j.desc}),i.jsxs("div",{className:"text-[10px] text-gray-500",children:[new Date(j.date).toLocaleDateString(),"  ",j.type,"  ",i.jsx("span",{className:`uppercase font-bold ${j.status==="completed"?"text-green-500":"text-yellow-500"}`,children:j.status})]})]}),i.jsxs("span",{className:`font-bold ${j.direction==="credit"?"text-green-400":"text-red-400"}`,children:[j.direction==="credit"?"+":"-"," MWK ",(j.amount??0).toLocaleString()]})]},j.id)),(Lt||[]).length===0&&i.jsx("div",{className:"text-gray-500 text-center py-4",children:"No recent activity"})]})]})]})]})]}),n==="distance"&&i.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("button",{onClick:()=>a("overview"),className:"p-2 rounded-xl bg-[#252525] hover:bg-[#333] text-gray-400 hover:text-white transition-colors",children:i.jsx(Oo,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Distance Analytics"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Mileage tracking and vehicle efficiency."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A]",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Weekly Mileage (km)"}),i.jsx("div",{className:"h-80 w-full",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(Ca,{data:Ip,children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorKm",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#FACC15",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#FACC15",stopOpacity:0})]})}),i.jsx(Sr,{strokeDasharray:"3 3",vertical:!1,stroke:"#333",opacity:.5}),i.jsx(Wt,{dataKey:"name",stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1}),i.jsx(Vt,{stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1}),i.jsx(ct,{contentStyle:{backgroundColor:"#1E1E1E",borderColor:"#333",borderRadius:"8px",color:"#fff"},cursor:{stroke:"#333"}}),i.jsx(Ht,{type:"monotone",dataKey:"km",stroke:"#FACC15",fillOpacity:1,fill:"url(#colorKm)"})]})})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A]",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Odometer"}),i.jsxs("div",{className:"text-4xl font-mono text-[#FACC15] mb-2",children:[(()=>{try{return(Ip||[]).reduce(($,B)=>$+(B.km||0),0).toLocaleString()}catch{return"0"}})()," ",i.jsx("span",{className:"text-sm text-gray-500",children:"km"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total vehicle mileage recorded."})]}),i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A]",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Efficiency"}),i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Avg Speed"}),i.jsx("span",{className:"text-white font-bold",children:"65 km/h"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Fuel/Energy"}),i.jsx("span",{className:"text-green-400 font-bold",children:"Good"})]})]})]})]})]}),n==="hours"&&i.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("button",{onClick:()=>a("overview"),className:"p-2 rounded-xl bg-[#252525] hover:bg-[#333] text-gray-400 hover:text-white transition-colors",children:i.jsx(Oo,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Time Management"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Analyze your driving, online, and resting hours."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A]",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Driving Hours Distribution"}),i.jsx("div",{className:"h-80 w-full",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(by,{data:Uv,layout:"vertical",children:[i.jsx(Sr,{strokeDasharray:"3 3",horizontal:!0,stroke:"#333",opacity:.5}),i.jsx(Wt,{type:"number",stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1}),i.jsx(Vt,{dataKey:"name",type:"category",stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1,width:40}),i.jsx(ct,{contentStyle:{backgroundColor:"#1E1E1E",borderColor:"#333",borderRadius:"8px",color:"#fff"},cursor:{fill:"#252525"}}),i.jsx(Cn,{verticalAlign:"top",align:"right",iconType:"circle"}),i.jsx(on,{dataKey:"day",name:"Day Time",stackId:"a",fill:"#FACC15",radius:[0,4,4,0]}),i.jsx(on,{dataKey:"night",name:"Night Time",stackId:"a",fill:"#555",radius:[0,4,4,0]})]})})})]}),i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A] flex flex-col",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Activity Breakdown"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-[#252525] p-4 rounded-xl",children:[i.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Total Online"}),i.jsx("div",{className:"text-2xl font-bold text-white",children:"45h 20m"})]}),i.jsxs("div",{className:"bg-[#252525] p-4 rounded-xl border border-[#FACC15]/20",children:[i.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Active Driving"}),i.jsx("div",{className:"text-2xl font-bold text-[#FACC15]",children:"32h 15m"})]}),i.jsxs("div",{className:"bg-[#252525] p-4 rounded-xl",children:[i.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Idle/Waiting"}),i.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"13h 05m"})]})]})]})]})]}),n==="subscription"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-fadeIn h-[calc(100vh-140px)]",children:[i.jsxs("div",{className:"lg:col-span-7 flex flex-col gap-6 h-full overflow-y-auto pr-2 no-scrollbar",children:[i.jsxs("div",{className:"bg-[#1E1E1E] rounded-2xl p-8 border border-[#FACC15]/30 relative",children:[i.jsx("div",{className:"absolute -right-10 -top-10 w-32 h-32 bg-[#FACC15]/10 rounded-full blur-2xl"}),i.jsxs("div",{className:"flex items-center gap-4 mb-6 relative z-10",children:[i.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0 border ${le?"bg-green-500/20 border-green-500 text-green-500":"bg-red-500/20 border-red-500 text-red-500"}`,children:le?i.jsx(wi,{className:"w-6 h-6"}):i.jsx(ca,{className:"w-6 h-6"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-base font-bold text-white whitespace-nowrap",children:"Professional Plan"}),i.jsx("p",{className:`text-sm font-medium whitespace-nowrap ${le?"text-green-400":"text-red-400"}`,children:le?"Active Subscription":"Payment Pending"})]})]}),i.jsxs("div",{className:"flex gap-4 mb-4 relative z-10",children:[i.jsxs("div",{className:"bg-[#252525] p-3 rounded-xl flex-1 border border-[#333]",children:[i.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Cycle Start"}),i.jsx("p",{className:"text-sm font-bold text-white",children:je!=null&&je.startDate?new Date(je.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric"}):ae.toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),i.jsxs("div",{className:"bg-[#252525] p-3 rounded-xl flex-1 border border-[#333]",children:[i.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Cycle End"}),i.jsx("p",{className:"text-sm font-bold text-white",children:je!=null&&je.expiryDate?new Date(je.expiryDate).toLocaleDateString("en-US",{month:"short",day:"numeric"}):te.toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]})]}),i.jsxs("div",{className:"bg-[#1E1E1E] rounded-2xl p-3 border border-[#2A2A2A] flex-1 flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-bold text-white",children:"Coverage Calendar"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-400",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#FACC15]"})," Paid"]}),i.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-400",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#333]"})," Unpaid"]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:(()=>{const j=new Date,$=j.getDate(),B=j.getMonth(),V=j.getFullYear(),J=je!=null&&je.startDate?new Date(je.startDate):null,oe=je!=null&&je.expiryDate?new Date(je.expiryDate):null,ye=(je==null?void 0:je.status)==="active";let wt=1;if(J&&oe&&ye){const sr=(oe.getFullYear()-J.getFullYear())*12+(oe.getMonth()-J.getMonth())+1;wt=Math.min(sr,6)}const jo=[];for(let sr=0;sr<wt;sr++){const eb=B+sr,hl=V+Math.floor(eb/12),pl=eb%12,bP=new Date(hl,pl,1).toLocaleDateString("en-US",{month:"long",year:"numeric"}),wP=new Date(hl,pl,1).getDay(),jP=new Date(hl,pl+1,0).getDate(),Wp=[];for(let Gr=0;Gr<wP;Gr++)Wp.push(i.jsx("div",{},`empty-${Gr}`));for(let Gr=1;Gr<=jP;Gr++){const ko=new Date(hl,pl,Gr),kP=Gr===$&&pl===B&&hl===V,NP=ye&&J&&oe&&ko>=J&&ko<=oe,tb=J&&ko.toDateString()===J.toDateString(),rb=oe&&ko.toDateString()===oe.toDateString();Wp.push(i.jsxs("div",{className:`
                                                                    aspect-square rounded-md flex items-center justify-center text-[10px] font-bold border transition-all relative
                                                                    ${kP?"ring-2 ring-blue-400 ring-offset-1 ring-offset-[#1E1E1E]":""}
                                                                    ${NP?"bg-[#FACC15]/20 border-[#FACC15] text-[#FACC15] shadow-[0_0_6px_rgba(250,204,21,0.15)]":"bg-[#252525] border-[#333] text-gray-500"}
                                                                    ${tb||rb?"animate-pulse":""}
                                                                `,children:[Gr,tb&&i.jsx("span",{className:"absolute -top-1 -right-1 text-[8px] bg-green-500 text-white px-1 rounded",children:"START"}),rb&&i.jsx("span",{className:"absolute -bottom-1 -right-1 text-[8px] bg-red-500 text-white px-1 rounded",children:"END"})]},Gr))}jo.push(i.jsxs("div",{className:"mb-4 last:mb-0",children:[i.jsx("h4",{className:"text-xs font-bold text-white mb-2",children:bP}),i.jsx("div",{className:"grid grid-cols-7 gap-0.5 text-center mb-1.5 border-b border-[#333] pb-1.5",children:Gv.map((Gr,ko)=>i.jsx("span",{className:"text-gray-500 font-bold text-[10px]",children:Gr},ko))}),i.jsx("div",{className:"grid grid-cols-7 gap-0.5",children:Wp})]},sr))}return jo})()}),(je==null?void 0:je.status)==="active"&&(je==null?void 0:je.startDate)&&(je==null?void 0:je.expiryDate)&&i.jsxs("div",{className:"mt-2 pt-2 border-t border-[#333]",children:[i.jsxs("p",{className:"text-center text-[9px] text-gray-400",children:["Active: ",new Date(je.startDate).toLocaleDateString()," - ",new Date(je.expiryDate).toLocaleDateString()]}),i.jsxs("p",{className:"text-center text-[9px] text-[#FACC15] font-bold",children:[je.daysLeft," days remaining"]})]})]})]}),i.jsx("div",{className:"lg:col-span-5 flex flex-col gap-6 h-full overflow-y-auto pr-2 no-scrollbar",children:ra?i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A] flex flex-col h-full",children:[i.jsx("button",{onClick:()=>cl(null),className:"text-xs text-gray-500 hover:text-white mb-6 flex items-center gap-1 self-start",children:" Back to plans"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Checkout"}),i.jsxs("div",{className:"bg-[#252525] rounded-2xl p-4 mb-6 border border-[#333]",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Selected Plan"}),i.jsx("span",{className:"text-white font-bold",children:((Qv=w.find(j=>j.id===vr||j.name===vr))==null?void 0:Qv.name)||"Unknown Plan"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Total"}),i.jsxs("span",{className:"text-[#FACC15] font-bold text-xl",children:["MWK ",(((Zv=w.find(j=>j.id===vr||j.name===vr))==null?void 0:Zv.price)??0).toLocaleString()]})]})]}),i.jsxs("div",{className:"flex gap-3 mb-6",children:[i.jsxs("button",{onClick:()=>cl("mobile"),className:`flex-1 py-3 px-2 rounded-xl border text-sm font-bold flex flex-col items-center justify-center gap-2 transition-all ${ra==="mobile"?"bg-[#FACC15]/20 border-[#FACC15] text-[#FACC15]":"bg-[#252525] border-[#333] text-gray-400"}`,children:[i.jsx(af,{className:"w-5 h-5"}),"Mobile"]}),i.jsxs("button",{onClick:()=>cl("card"),className:`flex-1 py-3 px-2 rounded-xl border text-sm font-bold flex flex-col items-center justify-center gap-2 transition-all ${ra==="card"?"bg-[#FACC15]/20 border-[#FACC15] text-[#FACC15]":"bg-[#252525] border-[#333] text-gray-400"}`,children:[i.jsx(ca,{className:"w-5 h-5"}),"Card"]})]}),ra==="mobile"&&i.jsxs("div",{className:"space-y-4 animate-fadeIn flex-1",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Provider"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>U("airtel"),className:`flex-1 py-3 rounded-xl border text-sm font-bold transition-all ${vi==="airtel"?"bg-red-600 text-white border-red-500":"bg-[#121212] border-[#333] text-gray-500"}`,children:"Airtel"}),i.jsx("button",{onClick:()=>U("mpamba"),className:`flex-1 py-3 rounded-xl border text-sm font-bold transition-all ${vi==="mpamba"?"bg-green-600 text-white border-green-500":"bg-[#121212] border-[#333] text-gray-500"}`,children:"Mpamba"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Phone Number"}),i.jsx("input",{type:"text",placeholder:"+265...",value:br,onChange:j=>ul(j.target.value),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white outline-none focus:border-[#FACC15]"})]})]}),ra==="card"&&i.jsx("div",{className:"space-y-4 animate-fadeIn flex-1",children:i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Card Details"}),i.jsx("input",{type:"text",placeholder:"Card Number",className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white outline-none focus:border-[#FACC15] mb-3"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white outline-none focus:border-[#FACC15]"}),i.jsx("input",{type:"text",placeholder:"CVC",className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white outline-none focus:border-[#FACC15]"})]})]})}),i.jsxs("div",{className:"flex flex-col gap-2 mt-auto",children:[i.jsx("button",{onClick:Pp,disabled:xo,className:`w-full font-bold py-4 rounded-xl transition-transform transform shadow-lg flex items-center justify-center gap-2 ${xo?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-[#FACC15] text-black hover:bg-[#EAB308] active:scale-95 shadow-[#FACC15]/20"}`,children:xo?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Payment..."]}):"Confirm Payment"}),xo&&i.jsx("button",{onClick:Cp,className:"w-full font-semibold py-3 rounded-xl border border-red-500/50 text-red-500 hover:bg-red-500/10 transition-colors",children:"Cancel Processing"})]})]}):i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A] h-full flex flex-col",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Select a Plan"}),i.jsx("div",{className:"space-y-4 mb-auto overflow-y-auto pr-2 custom-scrollbar",children:w.map(j=>{const $=(je==null?void 0:je.plan)===j.id&&(je==null?void 0:je.status)==="active";return i.jsxs("div",{onClick:()=>!$&&kp(j.id),className:`relative p-4 rounded-xl border-2 cursor-pointer transition-all ${vr===j.id?"border-[#FACC15] bg-[#FACC15]/5":"border-[#333] bg-[#252525] hover:border-gray-500"} ${$?"opacity-50 cursor-not-allowed":""}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:`font-bold ${vr===j.id?"text-[#FACC15]":"text-white"}`,children:j.name}),i.jsxs("span",{className:"text-white font-bold",children:["MWK ",j.price.toLocaleString()]})]}),i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("span",{className:"text-xs text-gray-500",children:[j.duration," days"]})}),$&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx("span",{className:"bg-green-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full",children:"CURRENT"})}),vr===j.id&&!$&&i.jsx("div",{className:"absolute top-2 right-2 w-4 h-4 bg-[#FACC15] rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-3 h-3 text-black",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},j.id)})}),i.jsx("button",{onClick:()=>cl("mobile"),className:"w-full mt-8 bg-[#FACC15] text-black font-bold py-4 rounded-xl hover:bg-[#EAB308] transition-transform transform active:scale-95 shadow-lg shadow-[#FACC15]/20",children:"Proceed to Payment"})]})})]}),n==="tracking"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-12rem)]",children:[i.jsx("div",{className:"lg:col-span-4 h-full",children:i.jsx(vP,{})}),i.jsx("div",{className:"lg:col-span-8 h-full bg-[#1E1E1E] rounded-3xl border border-[#2A2A2A] overflow-hidden flex items-center justify-center",children:i.jsxs("div",{className:"text-center p-6",children:[i.jsx(Ir,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-400",children:"Map display disabled in Driver Dashboard. Use manual controls in the left panel to update trip stages."})]})})]}),n==="history"&&i.jsx("div",{className:"space-y-6 animate-fadeIn",children:i.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:i.jsxs("div",{className:"flex-1 bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A]",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Financial Analytics"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[i.jsxs("div",{className:"bg-[#252525] p-4 rounded-2xl border border-[#333]",children:[i.jsx("div",{className:"text-gray-400 text-xs font-medium mb-1",children:"Total Earnings"}),i.jsx("div",{className:"text-2xl font-bold text-white",children:"MWK 425,930"}),i.jsx("div",{className:"text-green-400 text-xs mt-1",children:"+MWK 12,400 this week"})]}),i.jsxs("div",{className:"bg-[#252525] p-4 rounded-2xl border border-[#333]",children:[i.jsx("div",{className:"text-gray-400 text-xs font-medium mb-1",children:"Total Trips"}),i.jsx("div",{className:"text-2xl font-bold text-white",children:"142"}),i.jsx("div",{className:"text-gray-500 text-xs mt-1",children:"Avg MWK 2,990/trip"})]}),i.jsxs("div",{className:"bg-[#252525] p-4 rounded-2xl border border-[#333]",children:[i.jsx("div",{className:"text-gray-400 text-xs font-medium mb-1",children:"Net Profit"}),i.jsx("div",{className:"text-2xl font-bold text-[#FACC15]",children:"MWK 382,010"}),i.jsx("div",{className:"text-gray-500 text-xs mt-1",children:"After expenses"})]})]}),i.jsxs("div",{className:"mb-8 bg-[#252525] rounded-2xl p-5 border border-[#333]",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-base font-bold text-white",children:"Profit Trends"}),i.jsx("div",{className:"flex bg-[#1E1E1E] rounded-lg p-1 border border-[#333]",children:["Weekly","Monthly","Yearly"].map(j=>i.jsx("button",{onClick:()=>Ne(j),className:`px-3 py-1 rounded-md text-xs font-medium transition-colors ${Ce===j?"bg-[#FACC15] text-black":"text-gray-500 hover:text-white"}`,children:j},j))})]}),i.jsx("div",{className:"h-64 w-full",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(Ca,{data:hP[Ce],margin:{top:10,right:10,left:-20,bottom:0},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorProfit",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#FACC15",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#FACC15",stopOpacity:0})]})}),i.jsx(Sr,{strokeDasharray:"3 3",vertical:!1,stroke:"#333",opacity:.5}),i.jsx(Wt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#6b7280",fontSize:12},dy:10}),i.jsx(Vt,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280",fontSize:12}}),i.jsx(ct,{contentStyle:{backgroundColor:"#1E1E1E",borderColor:"#333",borderRadius:"8px",color:"#fff",fontSize:"12px"},itemStyle:{color:"#FACC15"},cursor:{stroke:"#333",strokeWidth:1},formatter:j=>`MWK ${(j??0).toLocaleString()}`}),i.jsx(Ht,{type:"monotone",dataKey:"value",stroke:"#FACC15",strokeWidth:2,fillOpacity:1,fill:"url(#colorProfit)",name:"Profit"})]})})})]}),i.jsxs("div",{className:"mb-6 bg-[#252525] rounded-2xl p-5 border border-[#333] border-l-4 border-l-[#FACC15]",children:[i.jsx("h3",{className:"text-sm font-bold text-white mb-3",children:"Physical Payment Settlement"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("input",{type:"number",placeholder:"Amount (MWK)",value:tt,onChange:j=>He(j.target.value),className:"bg-[#1E1E1E] border border-[#333] text-white text-sm rounded-lg px-4 py-2 outline-none focus:border-[#FACC15] w-full sm:w-32"}),i.jsx("input",{type:"text",placeholder:"Description (e.g. Cash from Rider #442)",value:rt,onChange:j=>Pt(j.target.value),className:"bg-[#1E1E1E] border border-[#333] text-white text-sm rounded-lg px-4 py-2 outline-none focus:border-[#FACC15] flex-1"}),i.jsx("button",{onClick:D,className:"bg-[#FACC15] text-black text-sm font-bold px-4 py-2 rounded-lg hover:bg-[#EAB308] transition-colors whitespace-nowrap",children:"Mark as Settled"})]}),i.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"Use this form to record physical cash payments or direct settlements that occur outside the automated system. These will be added to your profit tracking."})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Transaction History"}),i.jsx("div",{className:"space-y-3 h-[300px] overflow-y-auto pr-2 no-scrollbar",children:wu.length===0?i.jsxs("div",{className:"text-gray-500 text-center p-4 border border-dashed border-[#333] rounded-xl",children:['No transactions found matching "',E,'"']}):wu.map(j=>i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-[#252525] border border-[#333] hover:border-[#FACC15]/30 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg ${j.type==="Settlement"?"bg-[#FACC15]/10 border border-[#FACC15]/30 text-[#FACC15]":"bg-[#333] text-gray-400"}`,children:j.type==="Settlement"?i.jsx(a5,{className:"w-5 h-5"}):i.jsx(nO,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-white font-bold text-sm",children:j.desc}),i.jsxs("div",{className:"text-xs text-gray-500",children:[j.date,"  ",j.sub]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-[#FACC15] font-bold",children:["+MWK ",(j.amount??0).toLocaleString()]}),i.jsx("div",{className:"text-xs text-gray-500",children:j.method})]})]},j.id))})]})})}),n==="jobs"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fadeIn",children:[i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A]",children:[rl.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:["Incoming Requests",i.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full animate-pulse",children:rl.length})]}),i.jsx("div",{className:"space-y-4",children:rl.map(j=>i.jsxs("div",{className:"bg-[#252525] p-4 rounded-2xl border border-[#333] flex flex-col gap-3 hover:border-[#FACC15]/30 transition-all",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-black font-bold ${j.type==="share"?"bg-[#FACC15]":"bg-purple-500"}`,children:j.type==="share"?i.jsx(Ue,{className:"w-5 h-5"}):i.jsx(Cd,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-white text-sm",children:j.title}),i.jsx("div",{className:"text-xs text-gray-400",children:i.jsx("span",{className:"text-white font-medium",children:j.user})})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-white",children:["MWK ",(j.price??0).toLocaleString()]}),i.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:j.type==="share"?"Trip Fare":"Total Rate"})]})]}),i.jsxs("div",{className:"bg-[#1E1E1E] p-2 rounded-lg text-xs text-gray-300 flex justify-between",children:[i.jsx("span",{children:j.type==="share"?j.route:j.location}),i.jsx("span",{className:"text-gray-500",children:j.type==="share"?`${j.date}  ${j.seats} seat(s)`:j.duration})]}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("button",{onClick:()=>Au(j.id),className:"flex-1 py-2 rounded-xl border border-[#333] text-gray-400 hover:bg-red-500/10 hover:text-red-500 hover:border-red-500/30 transition-all text-xs font-bold",children:"Decline"}),i.jsx("button",{onClick:()=>$n(j.id),className:"flex-1 py-2 rounded-xl bg-green-600 text-white hover:bg-green-500 transition-all text-xs font-bold shadow-lg shadow-green-600/20",children:"Approve Request"})]})]},j.id))}),i.jsx("div",{className:"h-px w-full bg-[#333] my-6"})]}),i.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:nt?"Edit Listing":"Post Availability"}),!nt&&i.jsxs("div",{className:"flex bg-[#252525] rounded-xl p-1 mb-6 border border-[#333]",children:[i.jsx("button",{onClick:()=>gi("share"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${Ur==="share"?"bg-[#FACC15] text-black":"text-gray-400 hover:text-white"}`,children:"Share a Ride"}),i.jsx("button",{onClick:()=>gi("hire"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${Ur==="hire"?"bg-[#FACC15] text-black":"text-gray-400 hover:text-white"}`,children:"For Hire"})]}),Ur==="share"?i.jsxs("form",{onSubmit:_p,className:"space-y-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Ride/Vehicle Image (Optional)"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-[#252525] rounded-xl border-2 border-dashed border-[#333] flex items-center justify-center overflow-hidden",children:al?i.jsx("img",{src:al,alt:"Preview",className:"w-full h-full object-cover"}):i.jsx(Ue,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("label",{className:"flex-1",children:[i.jsx("div",{className:"px-4 py-2 bg-[#252525] hover:bg-[#333] text-white text-xs font-bold rounded-lg cursor-pointer text-center transition-colors",children:Tn?"Change Image":"Add Image"}),i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:bt})]})]})]}),!nt&&i.jsxs("div",{className:"bg-[#252525] p-3 rounded-xl border border-[#333] mb-4",children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Select from Inventory (Optional)"}),i.jsxs("select",{value:Ee.vehicleId,onChange:C,className:"w-full bg-[#1E1E1E] border border-[#333] rounded-lg px-3 py-2 text-white text-sm outline-none focus:border-[#FACC15]",children:[i.jsx("option",{value:"",children:"-- Select Vehicle --"}),Me.map(j=>i.jsxs("option",{value:j.id,children:[j.name," (",j.plate,")"]},j.id))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Origin"}),i.jsx(Xm,{value:Ee.origin,onChange:j=>Zt({...Ee,origin:j}),placeholder:"e.g. Blantyre"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Destination"}),i.jsx(Xm,{value:Ee.destination,onChange:j=>Zt({...Ee,destination:j}),placeholder:"e.g. Lilongwe"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Date"}),i.jsx("input",{type:"date",required:!0,value:Ee.date,onChange:j=>Zt({...Ee,date:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Time"}),i.jsx("input",{type:"time",required:!0,value:Ee.time,onChange:j=>Zt({...Ee,time:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Price (MWK)"}),i.jsx("input",{type:"number",required:!0,value:Ee.price,onChange:j=>Zt({...Ee,price:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"25000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Seats"}),i.jsx("input",{type:"number",required:!0,value:Ee.seats,onChange:j=>Zt({...Ee,seats:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"3"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[nt&&i.jsx("button",{type:"button",onClick:vo,className:"flex-1 bg-[#252525] text-white font-bold py-3 rounded-xl mt-4 hover:bg-[#333] transition-colors border border-[#333]",children:"Cancel"}),i.jsx("button",{type:"submit",className:"flex-1 bg-[#FACC15] text-black font-bold py-3 rounded-xl mt-4 hover:bg-[#EAB308] transition-colors",children:nt?"Update Ride":"Post Ride"})]})]}):i.jsxs("form",{onSubmit:Tp,className:"space-y-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Service/Vehicle Image (Optional)"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-[#252525] rounded-xl border-2 border-dashed border-[#333] flex items-center justify-center overflow-hidden",children:Gt?i.jsx("img",{src:Gt,alt:"Preview",className:"w-full h-full object-cover"}):i.jsx(Cd,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("label",{className:"flex-1",children:[i.jsx("div",{className:"px-4 py-2 bg-[#252525] hover:bg-[#333] text-white text-xs font-bold rounded-lg cursor-pointer text-center transition-colors",children:Ma?"Change Image":"Add Image"}),i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:aa})]})]})]}),!nt&&i.jsxs("div",{className:"bg-[#252525] p-3 rounded-xl border border-[#333] mb-4",children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Select from Inventory (Optional)"}),i.jsxs("select",{value:Ge.vehicleId,onChange:C,className:"w-full bg-[#1E1E1E] border border-[#333] rounded-lg px-3 py-2 text-white text-sm outline-none focus:border-[#FACC15]",children:[i.jsx("option",{value:"",children:"-- Select Vehicle --"}),Me.map(j=>i.jsxs("option",{value:j.id,children:[j.name," (",j.plate,")"]},j.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Ad Title"}),i.jsx("input",{type:"text",required:!0,value:Ge.title,onChange:j=>Hr({...Ge,title:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"e.g. 5-Ton Truck Available"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Category"}),i.jsx("select",{value:Ge.category,onChange:j=>Hr({...Ge,category:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",children:_o.map(j=>i.jsx("option",{value:j,children:j},j))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Base Location"}),i.jsx(Xm,{value:Ge.location,onChange:j=>Hr({...Ge,location:j}),placeholder:"e.g. Lilongwe"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Rate / Day (MWK)"}),i.jsx("input",{type:"text",required:!0,value:Ge.rate,onChange:j=>Hr({...Ge,rate:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"e.g. 200000"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[nt&&i.jsx("button",{type:"button",onClick:vo,className:"flex-1 bg-[#252525] text-white font-bold py-3 rounded-xl mt-4 hover:bg-[#333] transition-colors border border-[#333]",children:"Cancel"}),i.jsx("button",{type:"submit",className:"flex-1 bg-[#FACC15] text-black font-bold py-3 rounded-xl mt-4 hover:bg-[#EAB308] transition-colors",children:nt?"Update Listing":"Post for Hire"})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Your Active Listings"}),i.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto no-scrollbar",children:Ur==="share"?Zn.map(j=>i.jsxs("div",{className:"bg-[#252525] p-3 rounded-xl border border-[#333] flex justify-between items-center group",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm font-bold text-white",children:[j.origin,"  ",j.destination]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[j.date," @ ",j.time,"  ",j.seats," seats"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"text-[#FACC15] font-bold mr-2",children:["MWK ",(j.price??0).toLocaleString()]}),i.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex gap-1 transition-opacity",children:[i.jsx("button",{onClick:()=>$p(j),className:"p-1.5 bg-[#333] rounded-lg text-gray-400 hover:text-white hover:bg-[#444]",title:"Edit Listing",children:i.jsx(g1,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>Nu(j,"share"),className:"p-1.5 bg-[#333] rounded-lg text-green-400 hover:text-green-300 hover:bg-[#444]",title:"Mark as Booked",children:i.jsx(wi,{className:"w-4 h-4"})})]})]})]},j.id)):xi.map(j=>i.jsxs("div",{className:"bg-[#252525] p-3 rounded-xl border border-[#333] flex justify-between items-center group",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-bold text-white",children:j.title}),i.jsxs("div",{className:"text-xs text-gray-500",children:[j.category,"  ",j.location]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-[#FACC15] font-bold",children:j.rate}),i.jsx("div",{className:"text-[10px] text-gray-500",children:j.status})]}),i.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex gap-1 transition-opacity ml-2",children:[i.jsx("button",{onClick:()=>Mp(j),className:"p-1.5 bg-[#333] rounded-lg text-gray-400 hover:text-white hover:bg-[#444]",children:i.jsx(g1,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>Nu(j,"hire"),className:"p-1.5 bg-[#333] rounded-lg text-green-400 hover:text-green-300 hover:bg-[#444]",children:i.jsx(wi,{className:"w-4 h-4"})})]})]})]},j.id))})]})]}),i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Contracted Jobs"}),i.jsxs("div",{className:"bg-[#252525] rounded-lg p-1 flex",children:[i.jsx("button",{onClick:()=>il("active"),className:`px-3 py-1 text-xs font-bold rounded-md transition-colors ${_e==="active"?"bg-[#FACC15] text-black":"text-gray-500 hover:text-white"}`,children:"Active"}),i.jsx("button",{onClick:()=>il("history"),className:`px-3 py-1 text-xs font-bold rounded-md transition-colors ${_e==="history"?"bg-[#FACC15] text-black":"text-gray-500 hover:text-white"}`,children:"History"}),i.jsx("button",{onClick:()=>il("cancelled"),className:`px-3 py-1 text-xs font-bold rounded-md transition-colors ${_e==="cancelled"?"bg-[#FACC15] text-black":"text-gray-500 hover:text-white"}`,children:"Cancelled"})]})]}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx("input",{type:"text",placeholder:"Search jobs...",value:E,onChange:j=>M(j.target.value),className:"w-full bg-[#252525] border border-[#333] rounded-xl pl-10 pr-4 py-3 text-sm text-white outline-none focus:border-[#FACC15]"}),i.jsx(ga,{className:"w-4 h-4 text-gray-500 absolute left-3 top-3.5"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2 no-scrollbar",children:ju.length===0?i.jsx("div",{className:"text-gray-500 text-center p-4 border border-dashed border-[#333] rounded-xl",children:"No contracted jobs found."}):i.jsx(i.Fragment,{children:ju.map(j=>{var $,B;return i.jsxs("div",{className:"bg-[#252525] p-4 rounded-2xl border border-[#333] hover:border-[#FACC15]/30 transition-colors relative overflow-hidden",children:[i.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${j.type==="share"?"bg-[#FACC15]":"bg-purple-500"}`}),i.jsxs("div",{className:"flex justify-between items-start mb-3 pl-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-white text-sm",children:j.title}),i.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["Passenger: ",i.jsx("span",{className:"text-white font-bold",children:(($=j.rider)==null?void 0:$.name)||j.clientName||"Direct Booking"})," ",i.jsxs("span",{className:"text-gray-600",children:["(",((B=j.rider)==null?void 0:B.phone)||j.clientId||"ID--",")"]})]})]}),i.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase ${j.status==="In Progress"?"bg-blue-500/20 text-blue-400 animate-pulse":"bg-gray-700 text-gray-300"}`,children:j.status})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-4 pl-2",children:[i.jsxs("div",{className:"flex-1 bg-[#1E1E1E] p-2 rounded-lg",children:[i.jsx("p",{className:"text-[10px] text-gray-500 uppercase",children:"From"}),i.jsx("p",{className:"text-xs text-white font-medium truncate",title:j.origin,children:j.origin})]}),i.jsx("div",{className:"text-gray-500",children:""}),i.jsxs("div",{className:"flex-1 bg-[#1E1E1E] p-2 rounded-lg",children:[i.jsx("p",{className:"text-[10px] text-gray-500 uppercase",children:"To"}),i.jsx("p",{className:"text-xs text-white font-medium truncate",title:j.destination,children:j.destination})]})]}),i.jsxs("div",{className:"pl-2 pt-2 border-t border-[#333] space-y-2",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{className:"text-lg font-bold text-[#FACC15]",children:["MWK ",(j.acceptedPrice||j.payout||0).toLocaleString()]})}),i.jsxs("div",{className:"flex justify-end items-center",children:[(j.status==="Pending"||j.negotiationStatus==="pending")&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>Pu(j.id),className:"px-3 py-1.5 bg-green-600 text-white text-xs font-bold rounded-lg hover:bg-green-500",children:"Approve"}),i.jsx("button",{onClick:()=>Eu(j.id),className:"px-3 py-1.5 bg-red-700 text-white text-xs font-bold rounded-lg hover:bg-red-600",children:"Decline"})]}),j.status==="Approved"&&i.jsx("button",{onClick:()=>Kr(j.id,"Approved",j.type),className:"px-3 py-1.5 bg-[#FACC15] text-black text-xs font-bold rounded-xl hover:bg-[#EAB308] animate-pulse shadow-lg shadow-[#FACC15]/20",children:"Start Pickup"}),j.status==="Awaiting Payment Selection"&&i.jsx("button",{onClick:()=>Ou(j.id),className:"px-3 py-1.5 bg-[#FACC15] text-black text-xs font-bold rounded-lg hover:bg-[#EAB308] animate-pulse shadow-lg shadow-[#FACC15]/20",children:"Handover to Rider"}),j.status==="Handover Pending"&&i.jsx("button",{onClick:()=>Kr(j.id,"Handover Pending",j.type),className:"px-3 py-1.5 bg-gray-700 text-gray-300 text-xs font-bold rounded-lg hover:bg-gray-600",children:"Waiting for Payment..."}),j.status==="Scheduled"&&i.jsx("button",{onClick:()=>Kr(j.id,"Scheduled",j.type),className:"px-3 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-lg hover:bg-blue-500",children:j.type==="hire"?"Confirm Handover":"Start Pickup"}),j.status==="Inbound"&&i.jsx("button",{onClick:()=>Kr(j.id,"Inbound",j.type),className:"px-3 py-1.5 bg-green-600 text-white text-xs font-bold rounded-lg hover:bg-green-500",children:"Arrived"}),j.status==="Arrived"&&i.jsx("button",{className:"px-3 py-1.5 bg-gray-700 text-gray-300 text-xs font-bold rounded-lg cursor-not-allowed",disabled:!0,children:"Waiting for Rider..."}),j.status==="Boarded"&&i.jsx("button",{onClick:()=>Kr(j.id,"Boarded",j.type),className:"px-3 py-1.5 bg-[#FACC15] text-black text-xs font-bold rounded-lg hover:bg-[#EAB308] animate-pulse",children:"Start Trip"}),j.status==="In Progress"&&i.jsx("button",{onClick:()=>Kr(j.id,"In Progress",j.type),className:"px-3 py-1.5 bg-red-600 text-white text-xs font-bold rounded-lg hover:bg-red-500",children:j.type==="hire"?"Confirm Return":"Complete Trip"}),j.status==="Payment Due"&&i.jsx("button",{onClick:()=>Kr(j.id,"Payment Due",j.type),className:"px-3 py-1.5 bg-green-600 text-white text-xs font-bold rounded-lg hover:bg-green-500",children:"Confirm Payment"}),j.status==="Active"&&i.jsx("button",{className:"px-3 py-1.5 bg-gray-700 text-gray-300 text-xs font-bold rounded-lg cursor-not-allowed",disabled:!0,children:"Waiting for Return..."}),j.status==="Return Pending"&&i.jsx("button",{onClick:()=>Kr(j.id,"Return Pending",j.type),className:"px-3 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-lg hover:bg-blue-500 animate-pulse shadow-lg shadow-blue-600/20",children:"Confirm Return"}),!["Pending","Approved","Inbound","Arrived","Boarded","In Progress","Payment Due","Awaiting Payment Selection","Handover Pending","Scheduled","Active","Return Pending"].includes(j.status||"")&&i.jsx("button",{onClick:()=>Kr(j.id,"Scheduled",j.type),className:"px-3 py-1.5 bg-[#FACC15] text-black text-xs font-bold rounded-xl hover:bg-[#EAB308] shadow-lg",children:j.type==="hire"?"Start Handover":"Start Pickup"})]})]})]},j.id)})})})]})]}),n==="requests"&&i.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Pending Requests"}),l.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(j=>i.jsx(cre,{request:j,onApprove:$n,onReject:Au,onCounterOffer:Cu},j.id))}):i.jsxs("div",{className:"text-center py-12 bg-[#252525] rounded-3xl border border-[#333]",children:[i.jsx("div",{className:"w-20 h-20 bg-[#1E1E1E] rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(wi,{className:"w-10 h-10 text-gray-600"})}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"All Caught Up!"}),i.jsx("p",{className:"text-gray-400",children:"You have no pending requests at the moment."})]})]})]})})]}),Xn&&i.jsx("div",{className:"fixed inset-0 bg-black/80 z-[60] flex items-center justify-center p-4",onClick:()=>po(!1),children:i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-8 max-w-md w-full border border-[#333] shadow-2xl",onClick:j=>j.stopPropagation(),children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-white",children:"Confirm Booking"}),i.jsx("button",{onClick:()=>po(!1),className:"text-gray-400 hover:text-white",children:i.jsx(tn,{className:"w-6 h-6"})})]}),i.jsxs("form",{onSubmit:Su,className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-[#252525] rounded-xl mb-4",children:[i.jsx("div",{className:"text-sm text-gray-300 font-medium mb-1",children:Jn==="share"?"Ride Share":"Vehicle Hire"}),i.jsx("div",{className:"text-white font-bold text-lg",children:Jn==="share"?`${Ke.origin}  ${Ke.destination}`:Ke.title}),i.jsx("div",{className:"text-[#FACC15] font-bold mt-1",children:Jn==="share"?`MWK ${Ke.price}`:Ke.rate})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Client Name"}),i.jsx("input",{type:"text",required:!0,value:_n.name,onChange:j=>Qn({..._n,name:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"e.g. John Phiri"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Client Phone / ID"}),i.jsx("input",{type:"text",required:!0,value:_n.id,onChange:j=>Qn({..._n,id:j.target.value}),className:"w-full bg-[#252525] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]",placeholder:"e.g. +265 99..."})]}),i.jsx("button",{type:"submit",className:"w-full bg-[#FACC15] text-black font-bold py-3 rounded-xl mt-4 hover:bg-[#EAB308] transition-colors",children:"Confirm & Add to Schedule"})]})]})}),i.jsx(ire,{isOpen:wp,onClose:()=>jp(!1),onSuccess:mP,canClose:le})]})},gre=[{id:"passenger",title:"Passenger Vehicles",categories:[{id:"sedan",name:"Sedan",icon:"CarIcon",subCategories:[]},{id:"hatchback",name:"Hatchback",icon:"CarIcon",subCategories:[]},{id:"coupe",name:"Coupe",icon:"CarIcon",subCategories:[]},{id:"convertible",name:"Convertible",icon:"CarIcon",subCategories:[]},{id:"station_wagon",name:"Station Wagon",icon:"CarIcon",subCategories:[]},{id:"suv",name:"SUV",icon:"CarIcon",subCategories:[]},{id:"crossover",name:"Crossover",icon:"CarIcon",subCategories:[]},{id:"limousine",name:"Limousine",icon:"CarIcon",subCategories:[]},{id:"taxi",name:"Taxi",icon:"CarIcon",subCategories:[]},{id:"minibus",name:"Minibus",icon:"BusIcon",subCategories:[]},{id:"bus",name:"Bus",icon:"BusIcon",subCategories:[]}]},{id:"commercial",title:"Commercial",categories:[{id:"pickup",name:"Pickup",icon:"TruckIcon",subCategories:[]},{id:"cargo_van",name:"Cargo Van",icon:"TruckIcon",subCategories:[]},{id:"panel_van",name:"Panel Van",icon:"TruckIcon",subCategories:[]},{id:"light_truck",name:"Light Truck",icon:"TruckIcon",subCategories:[]},{id:"heavy_truck",name:"Heavy Truck",icon:"TruckIcon",subCategories:[]},{id:"lorry",name:"Lorry",icon:"TruckIcon",subCategories:[]},{id:"articulated_truck",name:"Articulated Truck",icon:"TruckIcon",subCategories:[]},{id:"trailer_truck",name:"Trailer Truck",icon:"TruckIcon",subCategories:[]},{id:"fuel_tanker",name:"Fuel Tanker",icon:"TruckIcon",subCategories:[]},{id:"refrigerated_truck",name:"Refrigerated Truck",icon:"TruckIcon",subCategories:[]}]},{id:"construction",title:"Construction",categories:[{id:"dump_truck",name:"Dump Truck",icon:"TruckIcon",subCategories:[]},{id:"cement_mixer",name:"Cement Mixer",icon:"TruckIcon",subCategories:[]},{id:"tractor_const",name:"Tractor (Construction)",icon:"TruckIcon",subCategories:[]},{id:"bulldozer",name:"Bulldozer",icon:"TruckIcon",subCategories:[]},{id:"excavator",name:"Excavator",icon:"TruckIcon",subCategories:[]},{id:"road_roller",name:"Road Roller",icon:"TruckIcon",subCategories:[]},{id:"crane_truck",name:"Crane Truck",icon:"TruckIcon",subCategories:[]}]},{id:"special",title:"Special",categories:[{id:"tow_truck",name:"Tow Truck",icon:"TruckIcon",subCategories:[]},{id:"car_carrier",name:"Car Carrier",icon:"TruckIcon",subCategories:[]},{id:"garbage_truck",name:"Garbage Truck",icon:"TruckIcon",subCategories:[]},{id:"mobile_crane",name:"Mobile Crane",icon:"TruckIcon",subCategories:[]},{id:"street_sweeper",name:"Street Sweeper",icon:"TruckIcon",subCategories:[]},{id:"armoured_vehicle",name:"Armoured Vehicle",icon:"TruckIcon",subCategories:[]}]},{id:"farm_machinery",title:"Farm Machinery",categories:[{id:"tractor_farm",name:"Tractor",icon:"TruckIcon",subCategories:["Standard","Compact","Track","Utility"]},{id:"seed_drill",name:"Seed Drill",icon:"TruckIcon",subCategories:[]},{id:"planter",name:"Planter",icon:"TruckIcon",subCategories:[]},{id:"transplanter",name:"Transplanter",icon:"TruckIcon",subCategories:[]},{id:"broadcast_seeder",name:"Broadcast Seeder",icon:"TruckIcon",subCategories:[]},{id:"plough",name:"Plough",icon:"TruckIcon",subCategories:[]},{id:"harrow",name:"Harrow",icon:"TruckIcon",subCategories:[]},{id:"rotary_tiller",name:"Rotavator / Rotary Tiller",icon:"TruckIcon",subCategories:[]},{id:"cultivator",name:"Cultivator",icon:"TruckIcon",subCategories:[]},{id:"ridger",name:"Ridger",icon:"TruckIcon",subCategories:[]},{id:"irrigation_pump",name:"Irrigation Pump",icon:"TruckIcon",subCategories:[]},{id:"sprinkler_system",name:"Sprinkler System (Mobile)",icon:"TruckIcon",subCategories:[]},{id:"drip_irrigation",name:"Drip Irrigation Rig",icon:"TruckIcon",subCategories:[]},{id:"combine_harvester",name:"Combine Harvester",icon:"TruckIcon",subCategories:[]},{id:"forage_harvester",name:"Forage Harvester",icon:"TruckIcon",subCategories:[]},{id:"sugarcane_harvester",name:"Sugarcane Harvester",icon:"TruckIcon",subCategories:[]},{id:"potato_harvester",name:"Potato Harvester",icon:"TruckIcon",subCategories:[]},{id:"corn_harvester",name:"Corn Harvester",icon:"TruckIcon",subCategories:[]},{id:"thresher",name:"Thresher",icon:"TruckIcon",subCategories:[]},{id:"grain_dryer",name:"Grain Dryer",icon:"TruckIcon",subCategories:[]},{id:"bale_wrapper",name:"Bale Wrapper",icon:"TruckIcon",subCategories:[]},{id:"chopper",name:"Chopper / Shredder",icon:"TruckIcon",subCategories:[]},{id:"farm_trailer",name:"Farm Trailer",icon:"TruckIcon",subCategories:[]},{id:"wagon",name:"Wagon",icon:"TruckIcon",subCategories:[]},{id:"utv",name:"Utility Vehicle (UTV)",icon:"TruckIcon",subCategories:[]},{id:"small_pickup_farm",name:"Small Pickup (Farm)",icon:"TruckIcon",subCategories:[]}]}],yre=({onSearch:e,isLoading:t=!1})=>{const[r,n]=S.useState(""),[a,o]=S.useState(""),[s,l]=S.useState([]),[c,u]=S.useState([]),[f,d]=S.useState(!1),[h,p]=S.useState(!1),[y,m]=S.useState(-1),[x,g]=S.useState(-1),v=S.useRef(null),b=S.useRef(null),k=T=>{if(n(T),T.trim().length>0){const L=Ey(T,8);l(L),d(!0),m(-1)}else l([]),d(!1)},w=T=>{if(o(T),T.trim().length>0){const L=Ey(T,8);u(L),p(!0),g(-1)}else u([]),p(!1)},N=T=>{n(T.name),d(!1),l([])},A=T=>{o(T.name),p(!1),u([])},P=T=>{if(!(!f||s.length===0))switch(T.key){case"ArrowDown":T.preventDefault(),m(L=>L<s.length-1?L+1:L);break;case"ArrowUp":T.preventDefault(),m(L=>L>0?L-1:-1);break;case"Enter":T.preventDefault(),y>=0&&N(s[y]);break;case"Escape":d(!1);break}},E=T=>{if(!(!h||c.length===0))switch(T.key){case"ArrowDown":T.preventDefault(),g(L=>L<c.length-1?L+1:L);break;case"ArrowUp":T.preventDefault(),g(L=>L>0?L-1:-1);break;case"Enter":T.preventDefault(),x>=0&&A(c[x]);break;case"Escape":p(!1);break}};S.useEffect(()=>{const T=L=>{v.current&&!v.current.contains(L.target)&&d(!1),b.current&&!b.current.contains(L.target)&&p(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const M=()=>{r&&a&&e(r,a)},_=T=>{switch(T){case"City":return"bg-purple-500/20 text-purple-300";case"Town":return"bg-blue-500/20 text-blue-300";case"Boma":return"bg-green-500/20 text-green-300";case"Trading Centre":return"bg-yellow-500/20 text-yellow-300";case"Border Post":return"bg-red-500/20 text-red-300";case"Mission":return"bg-indigo-500/20 text-indigo-300";default:return"bg-gray-500/20 text-gray-300"}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{ref:v,className:"relative",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:" Pickup Location"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:r,onChange:T=>k(T.target.value),onKeyDown:P,onFocus:()=>{r.trim()&&s.length>0&&d(!0)},className:"w-full px-4 py-3 bg-[#1E1E1E] border border-[#333] rounded-xl text-white placeholder-gray-500 focus:border-[#FACC15] focus:outline-none transition-colors",placeholder:"Type to search..."}),r&&i.jsx("button",{onClick:()=>{n(""),l([]),d(!1)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white",children:""})]}),f&&s.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-2 bg-[#1E1E1E] border border-[#333] rounded-xl shadow-2xl max-h-64 overflow-y-auto",children:s.map((T,L)=>i.jsx("div",{onClick:()=>N(T),className:`px-4 py-3 cursor-pointer transition-colors border-b border-[#2A2A2A] last:border-b-0 ${L===y?"bg-[#FACC15]/10 border-l-2 border-l-[#FACC15]":"hover:bg-[#252525]"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-white",children:T.name}),i.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[T.district,"  ",T.region]})]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${_(T.type)}`,children:T.type})]})},`${T.name}-${T.district}`))})]}),i.jsxs("div",{ref:b,className:"relative",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:" Destination"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:a,onChange:T=>w(T.target.value),onKeyDown:E,onFocus:()=>{a.trim()&&c.length>0&&p(!0)},className:"w-full px-4 py-3 bg-[#1E1E1E] border border-[#333] rounded-xl text-white placeholder-gray-500 focus:border-[#FACC15] focus:outline-none transition-colors",placeholder:"Type to search..."}),a&&i.jsx("button",{onClick:()=>{o(""),u([]),p(!1)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white",children:""})]}),h&&c.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-2 bg-[#1E1E1E] border border-[#333] rounded-xl shadow-2xl max-h-64 overflow-y-auto",children:c.map((T,L)=>i.jsx("div",{onClick:()=>A(T),className:`px-4 py-3 cursor-pointer transition-colors border-b border-[#2A2A2A] last:border-b-0 ${L===x?"bg-[#FACC15]/10 border-l-2 border-l-[#FACC15]":"hover:bg-[#252525]"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-white",children:T.name}),i.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[T.district,"  ",T.region]})]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${_(T.type)}`,children:T.type})]})},`${T.name}-${T.district}`))})]})]}),i.jsx("button",{onClick:M,disabled:!r||!a||t,className:"w-full bg-[#FACC15] text-black py-3 rounded-xl hover:bg-[#EAB308] transition font-bold disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:t?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Searching..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search Rides"]})}),i.jsx("p",{className:"text-xs text-gray-500 text-center",children:" Start typing to see suggestions  Use  arrow keys to navigate"})]})},xre=({isOpen:e,onClose:t,onSubmitOffer:r,originalPrice:n,minPrice:a,maxPrice:o,vehicleDetails:s,negotiationHistory:l=[]})=>{const[c,u]=S.useState(n),[f,d]=S.useState(""),[h,p]=S.useState(""),[y,m]=S.useState(!1);if(!e)return null;const x=()=>{if(p(""),c<=0){p("Please enter a valid price");return}if(a&&c<a){p(`Minimum price is MWK ${a.toLocaleString()}`);return}if(o&&c>o){p(`Maximum price is MWK ${o.toLocaleString()}`);return}r(c,f),t()};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"bg-gradient-to-r from-[#FACC15] to-[#EAB308] text-black p-6 rounded-t-lg",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Negotiate Price"}),i.jsx("p",{className:"text-black/70 mt-1 font-medium",children:s.type==="share"?`${s.origin}  ${s.destination}`:s.name})]}),i.jsx("button",{onClick:t,className:"text-black hover:bg-black/10 rounded-full p-2 transition",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-100",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Original Price:"}),i.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["MWK ",n.toLocaleString()]})]}),a&&o&&i.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Negotiable range: MWK ",a.toLocaleString()," - MWK ",o.toLocaleString()]})]}),y?i.jsxs("div",{className:"animate-fadeIn",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"font-bold text-gray-800",children:"Make Counter Offer"}),i.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 text-sm hover:text-gray-800",children:"Cancel Negotiation"})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Offer (MWK)"}),i.jsx("input",{type:"number",value:c,onChange:g=>u(Number(g.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FACC15] focus:border-transparent text-lg outline-none",placeholder:"Enter your offer",autoFocus:!0}),h&&i.jsx("p",{className:"text-red-500 text-sm mt-2",children:h})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (Optional)"}),i.jsx("textarea",{value:f,onChange:g=>d(g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FACC15] focus:border-transparent outline-none",rows:3,placeholder:"Add a message to the driver..."})]}),i.jsx("button",{onClick:x,className:"w-full py-4 bg-[#FACC15] text-black font-bold rounded-xl hover:bg-[#EAB308] transition shadow-lg",children:"Submit Counter Offer"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:()=>r(n,"Price accepted"),className:"w-full py-4 bg-black text-[#FACC15] font-bold rounded-xl hover:bg-gray-900 transition shadow-lg flex items-center justify-center gap-2",children:[i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Accept Price (MWK ",n.toLocaleString(),")"]}),i.jsx("button",{onClick:()=>m(!0),className:"w-full py-4 bg-white border-2 border-[#FACC15] text-black font-bold rounded-xl hover:bg-[#FACC15]/10 transition",children:"Negotiate / Counter Offer"})]})]})]})})},vre=({isOpen:e,onClose:t,onSelectPayment:r,amount:n,rideDetails:a})=>{const[o,s]=S.useState(null);if(!e)return null;const l=async()=>{o&&(await r(o),t())};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[i.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-t-lg",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Select Payment Method"}),i.jsx("p",{className:"text-green-100 mt-1",children:"Choose how you want to pay"})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-gray-600",children:"Trip:"}),i.jsxs("span",{className:"font-medium text-gray-900",children:[a.origin,"  ",a.destination]})]}),i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-gray-600",children:"Driver:"}),i.jsx("span",{className:"font-medium text-gray-900",children:a.driverName})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[i.jsx("span",{className:"text-gray-900 font-medium",children:"Total Amount:"}),i.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["MWK ",n.toLocaleString()]})]})]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsx("button",{onClick:()=>s("online"),className:`w-full p-4 rounded-lg border-2 transition ${o==="online"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${o==="online"?"border-blue-600":"border-gray-300"}`,children:o==="online"&&i.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-600"})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Pay Online"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Airtel Money, Mpamba, or Bank"})]}),i.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})]})}),i.jsx("button",{onClick:()=>s("physical"),className:`w-full p-4 rounded-lg border-2 transition ${o==="physical"?"border-green-600 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${o==="physical"?"border-green-600":"border-gray-300"}`,children:o==="physical"&&i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-600"})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Cash"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Pay driver directly at pickup"})]}),i.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})]})}),a.type==="share"&&i.jsx("button",{onClick:()=>s("later"),className:`w-full p-4 rounded-lg border-2 transition ${o==="later"?"border-yellow-600 bg-yellow-50":"border-gray-200 hover:border-yellow-300"}`,children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${o==="later"?"border-yellow-600":"border-gray-300"}`,children:o==="later"&&i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-600"})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Pay Later"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Pay after trip completion"})]}),i.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]})})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition font-medium",children:"Cancel"}),i.jsx("button",{onClick:l,disabled:!o,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Confirm"})]})]})]})})},bre=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),wre=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),jre=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 01-2-2h-2a2 2 0 01-2-2v-2z"})}),kre=({className:e})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),Nre=({className:e})=>i.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Sre=({onLogout:e})=>{var Cu,Pu,Eu,Ou;const[t,r]=S.useState(!1),[n,a]=S.useState("overview"),[o,s]=S.useState("share"),[l,c]=S.useState(null),[u,f]=S.useState(null),d=C=>{try{const I=new URLSearchParams(window.location.search).get(C);return I?decodeURIComponent(I):null}catch{return null}},h=(C,F)=>{try{const I=new URLSearchParams(window.location.search);F===null?I.delete(C):I.set(C,encodeURIComponent(F));const D=`${window.location.pathname}?${I.toString()}`;window.history.replaceState({},"",D)}catch{}},[p,y]=S.useState([]),[m,x]=S.useState(!1),[g,v]=S.useState(null),[b,k]=S.useState(!1),[w,N]=S.useState([]),[A,P]=S.useState([]),[E,M]=S.useState([]),[_,T]=S.useState(!1),[L,K]=S.useState(null),[q,G]=S.useState(null),[Q,R]=S.useState(""),[W,Z]=S.useState(!1),[ie,ee]=S.useState(null),[fe,ke]=S.useState(new Set),[De,ze]=S.useState({origin:null,destination:null}),[et,Ct]=S.useState(null),[le,pe]=S.useState(!1),[ae,te]=S.useState(null),[Ce,Ne]=S.useState("share"),[tt,He]=S.useState("review"),[rt,Pt]=S.useState(!1),[Lt,We]=S.useState("method");S.useState("mobile");const[Me,qt]=S.useState("airtel"),[or,gr]=S.useState(""),[ve,Rt]=S.useState(!1),[yr,el]=S.useState("mobile"),[xu,Ta]=S.useState(!1),[Xn,po]=S.useState(null),[Ke,mo]=S.useState(null),[Jn,bp]=S.useState([]),[_n,Qn]=S.useState(!1),[go,xr]=S.useState(null),[Or,tl]=S.useState(null),[Et,yo]=S.useState("fixed"),[Ur,gi]=S.useState(""),[Ee,Zt]=S.useState(!1),[nt,$a]=S.useState(null),[rl,vu]=S.useState(0),[Zn,hn]=S.useState(0),[Ge,Hr]=S.useState(""),[Ma,Ia]=S.useState([]),[Gt,yi]=S.useState(""),[Tn,nl]=S.useState(""),al=S.useRef(null),[we,xi]=S.useState({name:"",avatar:"",rating:0}),[$e,ea]=S.useState({totalSpend:0,totalRides:0,totalDistance:0,averageCost:0,averageDistance:0,chartData:[],rideTypes:[]}),[lt,_e]=S.useState([]),[il,ta]=S.useState([]),[ol,Le]=S.useState([]),[yt,Ye]=S.useState([]),[sl,wp]=S.useState([]),[jp,je]=S.useState(!0),[ll,vr]=S.useState(!0),[kp,ra]=S.useState(!0),[cl,vi]=S.useState(!0),[U,br]=S.useState(null),ul=lt.filter(C=>["Completed","Cancelled","Refunded","Approved"].includes(C.status));S.useEffect(()=>(ce.on("trip_status_update",C=>{_e(F=>F.find(D=>D.id===C.id)?F.map(D=>D.id===C.id?C:D):[C,...F])}),()=>{ce.off("trip_status_update")}),[]),S.useEffect(()=>{(U==null?void 0:U.status)==="Payment Due"&&!rt&&(Pt(!0),We("method"))},[U==null?void 0:U.status]),S.useEffect(()=>{(async()=>{if(rt&&(U!=null&&U.driverId)){Qn(!0),xr(null);try{const F=await Y.getDriverPayoutDetails(U.driverId);mo(F)}catch(F){console.error("Failed to load driver payout details",F)}finally{Qn(!1)}}else rt||mo(null)})()},[rt,U==null?void 0:U.driverId]),S.useEffect(()=>{const C=localStorage.getItem("token");let F="rider_123";if(C)try{F=JSON.parse(atob(C.split(".")[1])).id}catch(I){console.error("Error decoding token for socket:",I)}return ce.connect(F,"rider"),ce.on("notification",I=>{console.log("Notification:",I)}),ce.on("request_approved",I=>{const D={...I,status:"Waiting for Pickup"};K(D),_e(z=>z.find(se=>se.id===(I.id||I.rideId))?z.map(se=>se.id===(I.id||I.rideId)?D:se):[D,...z]),Ye(z=>z.find(se=>se.id===(I.id||I.rideId))?z.map(se=>se.id===(I.id||I.rideId)?D:se):[D,...z]),M(z=>[{title:"Request Approved!",msg:I.message||"Your request was approved! Check your Active Trip tab.",time:"Just now",unread:!0},...z]),k(!1),a("active-trip")}),ce.on("payment_required",I=>{console.log(" payment_required received:",I);const D={...I,status:"Payment Pending"};K(D),Ye(z=>z.find(se=>se.id===(I.id||I.rideId))?z.map(se=>se.id===(I.id||I.rideId)?D:se):[D,...z]),Ta(!1),T(!0),M(z=>[{title:"Payment Required",msg:I.message||"Please complete your payment now.",time:"Just now",unread:!0},...z])}),ce.on("hire_post_added",I=>{Le(D=>[I,...D]),M(D=>[{title:"New Hire Post",msg:I.title||"New hire listing",time:"Just now",unread:!0},...D])}),ce.on("rideshare_post_added",I=>{ta(D=>[I,...D]),M(D=>[{title:"New RideShare",msg:`${I.origin}  ${I.destination}`,time:"Just now",unread:!0},...D])}),ce.on("counter_offer",I=>{N(D=>[{type:"counter",amount:I.counterPrice,timestamp:new Date,isDriver:!0},...D])}),ce.on("boarding_request",I=>{const D=I.rideId||I.id;D&&(_e(z=>z.map(H=>H.id===D?{...H,status:"Inbound"}:H)),Ye(z=>z.map(H=>H.id===D?{...H,status:"Inbound"}:H))),M(z=>[{title:"Driver Inbound",msg:I.message||"Driver is heading to pickup.",time:"Just now",unread:!0},...z])}),ce.on("request_approved",I=>{console.log(" request_approved received:",I);const D=(I==null?void 0:I.rideId)||(I==null?void 0:I.id);if(D){const z=H=>H.id===D?{...H,status:"Approved",price:I.price}:H;_e(H=>H.find(bt=>bt.id===D)?H.map(z):[{...I,status:"Approved"},...H]),Ye(H=>H.find(bt=>bt.id===D)?H.map(z):[{...I,status:"Waiting for Pickup"},...H]),a("active-trip"),M(H=>[{title:"Request Approved!",msg:"Your request was approved! Check your Active Trip tab.",time:"Just now",unread:!0},...H])}}),ce.on("driver_arrived",I=>{const D=I.rideId||I.id,z=String(D);console.log(" driver_arrived EVENT RECEIVED!"),console.log(" Event data:",I),console.log(" Extracted rideId:",D),console.log(" rideIdStr:",z),D?(console.log(" RideID exists, updating trip status to Arrived"),_e(H=>H.map(se=>se.id===D?{...se,status:"Arrived"}:se)),Ye(H=>H.map(se=>se.id===D?{...se,status:"Arrived"}:se)),console.log(" Checking if already confirmed..."),ke(H=>(console.log(" Previously confirmed rides:",Array.from(H)),H.has(z)?console.log(" Already confirmed, skipping modal"):(console.log(" NOT confirmed yet! Setting modal state..."),console.log(" Setting showBoardingModal = true"),console.log(" Setting boardingRideId =",z),Z(!0),ee(z),console.log(" Modal state set!")),H))):console.error(" NO RIDE ID in driver_arrived event!"),M(H=>[{title:"Driver Arrived",msg:I.message||"Your driver has arrived at the pickup location.",time:"Just now",unread:!0},...H])}),ce.on("passenger_boarded",I=>{const D=I.rideId||I.id;D&&(_e(z=>z.map(H=>H.id===D?{...H,status:"Boarded"}:H)),Ye(z=>z.map(H=>H.id===D?{...H,status:"Boarded"}:H))),M(z=>[{title:"Boarding Confirmed",msg:I.message||"Boarding confirmed.",time:"Just now",unread:!0},...z])}),ce.on("boarding_confirmed",I=>{const D=I.rideId||I.id;D&&(_e(z=>z.map(H=>H.id===D?{...H,status:"Boarded"}:H)),Ye(z=>z.map(H=>H.id===D?{...H,status:"Boarded"}:H)),br(z=>z&&z.id===D?{...z,status:"Boarded"}:z))}),ce.on("handover_completed",I=>{console.log(" [RiderDashboard] Received handover_completed event:",I);const D=I.rideId||I.id;if(D){const z="Active";console.log(` [RiderDashboard] Updating ride ${D} to status: ${z}`),_e(H=>H.map(se=>se.id===D?{...se,status:z}:se)),Ye(H=>H.map(se=>se.id===D?{...se,status:z}:se)),br(H=>H&&H.id===D?(console.log(" [RiderDashboard] Updated currentActiveTrip to Active"),{...H,status:z}):H),M(H=>[{title:"Handover Completed",msg:I.message||"Handover complete. Drive safely!",time:"Just now",unread:!0},...H])}else console.warn(" [RiderDashboard] handover_completed event missing rideId!")}),ce.on("return_confirmed",I=>{const D=I.rideId||I.id;if(D){const z="Completed";_e(H=>H.map(se=>se.id===D?{...se,status:z}:se)),Ye(H=>H.map(se=>se.id===D?{...se,status:z}:se)),br(H=>H&&H.id===D?{...H,status:z}:H),M(H=>[{title:"Return Confirmed",msg:I.message||"Vehicle return confirmed. Trip completed.",time:"Just now",unread:!0},...H])}}),ce.on("trip_started",I=>{try{const D={id:I.id||I.rideId,type:I.type,origin:I.origin,destination:I.destination,price:I.price,driver:I.driver,status:I.status||"Inbound",createdAt:new Date().toISOString()};Ye(z=>z.find(se=>se.id===D.id)?z.map(se=>se.id===D.id?D:se):[D,...z]),_e(z=>z.find(se=>se.id===D.id)?z.map(se=>se.id===D.id?D:se):[D,...z]),M(z=>[{title:"Trip Started",msg:I.message||"Your driver has started the trip.",time:"Just now",unread:!0},...z])}catch(D){console.warn("trip_started handler error",D)}}),ce.on("driver_location",I=>{try{if(!I)return;const D=I.rideId||I.ride_id||I.id;Ye(z=>z.map(H=>{if(H.id===D){const se=typeof H.driver=="object"?{...H.driver}:{name:H.driver};return se.location=[I.lng,I.lat],se.precision=I.precision||"precise",{...H,driver:se}}return H})),_e(z=>z.map(H=>{if(H.id===D){const se=typeof H.driver=="object"?{...H.driver}:{name:H.driver};return se.location=[I.lng,I.lat],se.precision=I.precision||"precise",{...H,driver:se}}return H}))}catch(D){console.warn("driver_location handler error",D)}}),ce.on("driver_arrived",I=>{try{const D=I==null?void 0:I.rideId;D&&(_e(z=>z.map(H=>H.id===D?{...H,status:"Arrived"}:H)),Ye(z=>z.map(H=>H.id===D?{...H,status:"Arrived"}:H))),M(z=>[{title:"Driver Arrived",msg:(I==null?void 0:I.message)||"Your driver has arrived at the pickup location.",time:"Just now",unread:!0},...z])}catch(D){console.warn("driver_arrived handler error",D)}}),ce.on("driver_end_trip",I=>{try{const D=I==null?void 0:I.rideId;D&&(_e(z=>z.map(H=>H.id===D?{...H,status:"Payment Due"}:H)),Ye(z=>z.find(se=>se.id===D)?z.map(se=>se.id===D?{...se,status:"Payment Due"}:se):[{id:D,status:"Payment Due",driver:null},...z])),M(z=>[{title:"Trip Ended",msg:(I==null?void 0:I.message)||"Driver ended the trip. Please confirm and complete payment.",time:"Just now",unread:!0},...z]),a("active-trip"),Pt(!0),We("method")}catch(D){console.warn("driver_end_trip handler error",D)}}),ce.on("handover_confirmed",I=>{try{console.log(" handover_confirmed received:",I);const D=I==null?void 0:I.rideId;D&&(_e(z=>z.map(H=>H.id===D?{...H,status:"Handover Pending"}:H)),Ye(z=>z.map(H=>H.id===D?{...H,status:"Handover Pending"}:H)),console.log(" Trip status updated to Handover Pending for ride:",D)),M(z=>[{title:"Handover Ready!",msg:(I==null?void 0:I.message)||"Driver is ready to hand over your vehicle. Select your payment method to proceed.",time:"Just now",unread:!0},...z]),console.log(" Opening handover modal..."),Rt(!0),a("active-trip"),console.log(" Handover modal state should now be open")}catch(D){console.warn("handover_confirmed handler error",D)}}),()=>{ce.off("notification"),ce.off("request_approved"),ce.off("payment_selection_required"),ce.off("counter_offer"),ce.off("trip_started"),ce.off("driver_location"),ce.off("driver_arrived"),ce.off("driver_end_trip"),ce.off("handover_confirmed"),ce.off("boarding_request"),ce.off("passenger_boarded"),ce.off("boarding_confirmed"),ce.disconnect()}},[]),S.useEffect(()=>{if(U){try{ce.joinRide(U.id)}catch(C){console.warn("joinRide failed",C)}return()=>{try{ce.off("driver_location")}catch{}}}},[U]),S.useEffect(()=>{(async()=>{try{je(!0);const F=await Y.getRiderProfile();xi(F||{name:"",avatar:"",rating:0}),je(!1),vr(!0);const I=await Y.getRiderStats();ea(I||{totalSpend:0,totalRides:0,totalDistance:0,averageCost:0,averageDistance:0,chartData:[],rideTypes:[]}),vr(!1),ra(!0);const[D,z]=await Promise.all([Y.getAllRideSharePosts(),Y.getAllForHirePosts()]);ta(D||[]),y(D||[]),Le(z||[]);try{const bi=await Y.getPendingRequests();P(bi||[])}catch(bi){console.warn("Failed to fetch pending requests",bi)}ra(!1),vi(!0);const H=await Y.getRiderHistory();_e(H||[]);const se=(H||[]).filter(bi=>["Pending","Approved","Scheduled","Awaiting Payment Selection","Inbound","Arrived","In Progress","Waiting for Pickup","Payment Due","Handover Pending"].includes(bi.status));Ye(se),vi(!1);const bt=await Y.getRiderConversations();Ia(bt||[]),yi(bt&&bt[0]&&bt[0].id?bt[0].id:"");const aa=await Y.getRiderTransactions();wp(aa||[])}catch(F){console.error("Error fetching initial data:",F),je(!1),vr(!1),ra(!1),vi(!1)}})()},[]),S.useEffect(()=>(kt.startPolling("rider-trips",{interval:1e4,onPoll:async()=>{try{const C=await Y.getRiderHistory();_e(C||[]);const F=(C||[]).filter(I=>["Pending","Approved","Scheduled","Awaiting Payment Selection","Inbound","Arrived","Boarded","In Progress","Waiting for Pickup","Payment Due","Handover Pending","Active","Return Pending"].includes(I.status));Ye(F)}catch(C){console.warn("Polling trips failed",C)}}}),kt.startPolling("rider-marketplace",{interval:15e3,onPoll:async()=>{try{const[C,F]=await Promise.all([Y.getAllRideSharePosts(),Y.getAllForHirePosts()]);ta(C||[]),y(C||[]),Le(F||[])}catch(C){console.warn("Polling marketplace failed",C)}}}),kt.startPolling("rider-stats",{interval:2e4,onPoll:async()=>{try{const C=await Y.getRiderStats();ea(C||{totalSpend:0,totalRides:0,totalDistance:0,averageCost:0,averageDistance:0,chartData:[],rideTypes:[]})}catch(C){console.warn("Polling stats failed",C)}}}),()=>{kt.stopPolling("rider-trips"),kt.stopPolling("rider-marketplace"),kt.stopPolling("rider-stats")}),[]),S.useEffect(()=>{const C=d("hireCat");C&&c(C);const F=d("shareCat");F&&f(F)},[]),S.useEffect(()=>{const C=setInterval(async()=>{try{console.log(" Polling for active trips...");const F=await Y.getRiderHistory();if(console.log(" Raw History Data:",F),Array.isArray(F)){const I=F.filter(D=>["Pending","Approved","Inbound","Arrived","In Progress","Waiting for Pickup","Payment Due","Awaiting Payment Selection","Handover Pending","Scheduled","Active","Return Pending"].includes(D.status));console.log(" Filtered Active Trips:",I),Ye(I),_e(F)}else console.warn(" History data is not an array:",F)}catch(F){console.warn("Auto-poll error for trips:",F)}},5e3);return()=>clearInterval(C)},[]),S.useEffect(()=>{if(console.log(" Sync Check | ActiveTrips:",yt.length,"Current:",U==null?void 0:U.id),yt.length>0)if(!U)console.log(" Auto-selecting first active trip:",yt[0]),br(yt[0]);else{const C=yt.find(F=>F.id===U.id);C?JSON.stringify(C)!==JSON.stringify(U)&&(console.log(" Refreshing current active trip data"),br(C)):(console.log(" Current trip no longer active, fallback to first"),br(yt[0]))}else U&&yt.length===0&&(console.log(" Clearing current active trip (list empty)"),br(null))},[yt]),S.useEffect(()=>{const C=setInterval(async()=>{try{const[F,I]=await Promise.all([Y.getAllRideSharePosts(),Y.getAllForHirePosts()]);ta(F||[]),y(F||[]),Le(I||[])}catch(F){console.warn("Auto-poll error for marketplace:",F)}},1e4);return()=>clearInterval(C)},[]),S.useEffect(()=>{(async()=>{if(U){const F=await lh(U.origin),I=await lh(U.destination);if(ze({origin:F,destination:I}),F&&I){const D=dP(F,I);Ct(D)}}})()},[U]),S.useEffect(()=>{(async()=>{var F;if((rt||ve)&&U){Qn(!0),xr(null);try{let I="";if(typeof U.driver=="object"&&((F=U.driver)!=null&&F.id)?I=U.driver.id:U.driverId&&(I=U.driverId),!I){console.warn("Could not determine driver ID for payout details."),xr("Unable to identify driver for payment."),Qn(!1);return}const D=await Y.getDriverPayoutDetails(I);D?mo(D):xr("Driver hasn't configured payout details yet.")}catch(I){console.error("Error fetching driver payout details:",I),xr("Could not retrieve driver payment info.")}finally{Qn(!1)}}})()},[rt,ve,U]),S.useEffect(()=>{(async()=>{try{let F=await Y.getMobileMoneyOperators();!Array.isArray(F)&&(F!=null&&F.data)&&Array.isArray(F.data)&&(console.log(" unpacking operators from wrapper"),F=F.data),Array.isArray(F)&&F.length>0?(console.log(" Loaded Mobile Money Operators:",F),bp(F)):console.warn(" No operators loaded or invalid format:",F)}catch(F){console.error("Failed to load mobile money operators:",F)}})()},[]);const xo=C=>Array.isArray(C)?C:(C==null?void 0:C.results)||[],na=(C,F)=>{if(!F)return!0;const I=F.toLowerCase().trim(),D=[];return C.vehicle&&(C.vehicle.category&&D.push(String(C.vehicle.category)),C.vehicle.make&&D.push(String(C.vehicle.make)),C.vehicle.model&&D.push(String(C.vehicle.model)),C.vehicle.type&&D.push(String(C.vehicle.type))),C.category&&D.push(String(C.category)),C.vehicleType&&D.push(String(C.vehicleType)),C.title&&D.push(String(C.title)),C.description&&D.push(String(C.description)),C.driver&&C.driver.vehicleModel&&D.push(String(C.driver.vehicleModel)),D.some(z=>{const H=z.toLowerCase().trim();return H.includes(I)||I.includes(H)})},Np=xo(p),Sp=Np.filter(C=>{var D,z;const F=(((D=C.destination)==null?void 0:D.toLowerCase())||"").includes((Q||"").toLowerCase())||(((z=C.origin)==null?void 0:z.toLowerCase())||"").includes((Q||"").toLowerCase()),I=(!C.status||C.status==="available"||C.status==="active")&&(C.seats===void 0||C.seats>0);return F&&I}),bu=ol.filter(C=>{var D,z;if(C.status!=="available")return!1;const F=(((D=C.title)==null?void 0:D.toLowerCase())||"").includes((Q||"").toLowerCase())||(((z=C.category)==null?void 0:z.toLowerCase())||"").includes((Q||"").toLowerCase()),I=na(C,l);return F&&I}),pn=({title:C,value:F,subValue:I,icon:D,onClick:z})=>i.jsxs("div",{onClick:z,className:`bg-[#1E1E1E] p-6 rounded-3xl border border-[#2A2A2A] shadow-lg transition-all duration-300 group flex flex-col justify-between h-36
            ${z?"cursor-pointer hover:border-[#FACC15] hover:translate-y-[-4px] hover:shadow-[0_10px_30px_rgba(250,204,21,0.2)]":""}`,children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-1",children:C}),i.jsx("div",{className:"text-2xl font-bold text-white group-hover:text-[#FACC15] transition-colors",children:F})]}),i.jsx("div",{className:"p-3 bg-[#252525] rounded-xl text-[#FACC15] group-hover:bg-[#FACC15] group-hover:text-black transition-colors shadow-sm group-hover:shadow-md",children:i.jsx(D,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"text-xs text-gray-500 font-medium",children:I})]}),Fv=(C,F)=>{if(F==="share"&&yt.filter(z=>z.type==="share"&&["Pending","Approved","Scheduled","Inbound","Arrived","Boarded","In Progress","Awaiting Payment Selection"].includes(z.status)).length>0){alert("You already have an active Ride Share trip. Please complete or cancel it before booking another Ride Share."),M(z=>[{title:"Booking Restricted",msg:"You can only have 1 active Ride Share trip at a time. Complete your current trip first.",time:"Just now",unread:!0},...z]);return}te(C),Ne(F),He("review"),gr(""),yo("fixed");const I=F==="share"?C.price:parseFloat(C.rate.replace(/[^0-9.]/g,""));gi(I.toString()),pe(!0)},Ap=async()=>{var F,I,D;if(!ae)return;if(Ce==="share"&&yt.filter(H=>H.type==="share"&&["Pending","Approved","Scheduled","Inbound","Arrived","Boarded","In Progress","Awaiting Payment Selection"].includes(H.status)).length>0){alert("You already have an active Ride Share trip. Cannot submit another request."),pe(!1);return}const C={id:Date.now(),date:ae.date||new Date().toLocaleDateString(),time:ae.time||new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),origin:Ce==="share"?ae.origin:ae.location,destination:Ce==="share"?ae.destination:"Requested Site",price:Et==="fixed"?Ce==="share"?ae.price:parseFloat(ae.rate.replace(/[^0-9.]/g,"")||0):parseFloat(Ur),status:"Pending",driver:ae.driverName||"Assigning Driver...",timestamp:Date.now()};try{Ce==="share"?Et==="negotiate"?await Y.submitRideRequest({...ae,offeredPrice:parseFloat(Ur)||ae.price,message:"",requestedDate:ae.date,requestedTime:ae.time,driverId:ae.driverId||((F=ae.driver)==null?void 0:F.id)}):await Y.submitRideRequest({...ae,offeredPrice:ae.price,message:"",requestedDate:ae.date,requestedTime:ae.time,driverId:ae.driverId||((I=ae.driver)==null?void 0:I.id)}):await Y.submitHireRequest({vehicleId:ae.vehicleId||null,offeredPrice:Et==="negotiate"?parseFloat(Ur)||0:parseFloat((ae.rate||"").toString().replace(/[^0-9.]/g,""))||0,startDate:ae.startDate||ae.date||new Date().toISOString(),endDate:ae.endDate||null,message:"",driverId:ae.driverId||((D=ae.driver)==null?void 0:D.id),location:ae.location||ae.origin}),_e(z=>[C,...z]),He("success")}catch(z){console.error("Failed to submit request to backend, falling back to local state",z),_e(H=>[C,...H]),He("success")}setTimeout(()=>{pe(!1),He("review"),te(null)},1500)},wr=async()=>{if(!U)return;let C=U.driverId;if(!C&&U.driver&&typeof U.driver=="object"&&(C=U.driver.id),!C){console.warn("Driver ID missing from currentActiveTrip",U),alert("Cannot message driver: Driver information is missing.");return}try{const F=await Y.getRiderConversations();Ia(F);let I=F.find(D=>D.participants&&D.participants.some(z=>String(z)===String(C)));if(!I){const D=await Y.createConversation(C),z=await Y.getRiderConversations();Ia(z),I=z.find(H=>H.id===D.id)}I?(yi(I.id),a("messages")):(console.error("Failed to find or create chat after API call"),a("messages"))}catch(F){console.error("Failed to start chat",F),a("messages")}},Cp=async()=>{var C;if(!or){alert("Please enter your mobile money number.");return}if(!U){alert("No active trip found.");return}if(!Ke){alert("Driver payout details are not available. Please contact support.");return}We("processing"),xr(null);try{console.log(" Debug: Available Operators:",Jn),console.log(" Debug: Selected Provider:",Me);const F=Jn.find(aa=>aa.name.toLowerCase().includes(Me.toLowerCase())||aa.short_code.toLowerCase().includes(Me.toLowerCase())),z=F?F.ref_id:Me==="airtel"?"20be6c20-adeb-4b5b-a7ba-0769820df4fb":"27494cb5-ba9e-437f-a114-4e7a7686bcca",H={rideId:U.id,amount:U.price,mobileNumber:or,providerRefId:z};console.log("Initiating PayChangu Payment..."),console.log(`Recipient (Driver): ${U.driver}`,Ke),console.log(`Sender (You): ${or}`),console.log(`Amount: MWK ${((U==null?void 0:U.price)??0).toLocaleString()}`),console.log(`Provider: ${Me}`);const se=await Y.initiatePayment(H);if(se.status==="error")throw new Error(se.message);const bt=(C=se.data)==null?void 0:C.charge_id;console.log(" Debug: Payment Response:",se),console.log(" Debug: Extracted Charge ID:",bt),bt?(tl(bt),Pp(bt)):(console.warn(" No charge_id found in response, falling back to simulated success."),setTimeout(()=>{We("success"),Kr()},3e3))}catch(F){console.error("Payment error:",F),xr(F instanceof Error?F.message:"Payment failed. Please try again."),We("method")}},Pp=async C=>{let F=0;const I=20,D=setInterval(async()=>{F++;try{const z=await Y.verifyPayment(C);z.status==="success"?(clearInterval(D),We("success"),setTimeout(()=>{Kr()},2500)):z.status==="failed"?(clearInterval(D),xr("Payment failed. Please try again."),We("method")):F>=I&&(clearInterval(D),xr("Payment verification timeout. Please check your transaction history."),We("method"))}catch(z){console.error("Verification error:",z),F>=I&&(clearInterval(D),xr("Unable to verify payment. Please contact support."),We("method"))}},3e3)},Kr=()=>{if(U){const C=lt.map(F=>F.id===U.id?{...F,status:"Completed"}:F);_e(C)}Pt(!1),We("method"),gr(""),tl(null)},wu=C=>{$a(C),hn(C.rating||0),vu(0),Hr(""),Zt(!0)},ju=()=>{if(nt){const C=lt.map(F=>F.id===nt.id?{...F,rating:Zn}:F);_e(C),Zt(!1),$a(null)}},Ep=C=>{if(C.preventDefault(),!Tn.trim())return;if(Gt){let D=we==null?void 0:we.id;if(!D)try{const z=localStorage.getItem("token");z&&(D=JSON.parse(atob(z.split(".")[1])).id)}catch(z){console.error("Token decode error",z)}D&&ce.emit("send_message",{conversationId:Gt,text:Tn,senderId:D,senderRole:"rider"})}const F={id:Date.now().toString(),text:Tn,sender:"user",timestamp:"Just now"},I=Ma.map(D=>D.id===Gt?{...D,messages:[...D.messages,F],lastMessage:Tn,time:"Just now"}:D);Ia(I),nl("")},ku=C=>{console.log(" New message received:",C),C.conversationId===Gt&&Ia(F=>F.map(I=>I.id===Gt?I.messages.some(z=>z.id===C.id||z.sender==="user"&&z.text===C.text)?I:{...I,messages:[...I.messages,{id:C.id||Date.now().toString(),text:C.text,sender:C.senderId===(we==null?void 0:we.id)?"user":"agent",timestamp:"Just now"}],lastMessage:C.text,time:"Just now"}:I))};S.useEffect(()=>{if(Gt)return console.log(" Joining conversation:",Gt),ce.emit("join_conversation",Gt),ce.on("new_message",ku),()=>{ce.off("new_message",ku),ce.emit("leave_conversation",Gt)}},[Gt,we]),S.useEffect(()=>{var C;(C=al.current)==null||C.scrollIntoView({behavior:"smooth"})},[Ma,Gt]);const Op=async(C,F)=>{x(!0);try{const I=il.filter(D=>{const z=!C||(D.origin||"").toLowerCase().includes(C.toLowerCase()),H=!F||(D.destination||"").toLowerCase().includes(F.toLowerCase());return z&&H});y(I)}catch(I){console.error("Search failed",I)}finally{x(!1)}},_p=C=>{if(yt.filter(I=>I.type==="share"&&["Pending","Approved","Scheduled","Inbound","Arrived","Boarded","In Progress","Awaiting Payment Selection"].includes(I.status)).length>0){alert("You already have an active Ride Share trip. Please complete or cancel it before booking another Ride Share."),M(I=>[{title:"Booking Restricted",msg:"You can only have 1 active Ride Share trip at a time.",time:"Just now",unread:!0},...I]);return}v(C),N([]),k(!0)},Tp=async(C,F)=>{if(g)try{const D={...await Y.submitRideRequest({...g,offeredPrice:C,message:F}),status:"Pending",type:g.type||"share"};_e(z=>[D,...z]),Ye(z=>[D,...z]),k(!1),v(null),a("trips"),M(z=>[{title:"Request Sent",msg:`Your ${D.type==="hire"?"offer":"request"} has been sent to the driver.`,time:"Just now",unread:!0},...z])}catch(I){console.error("Offer failed",I),alert("Failed to submit request. Please try again.")}},vo=async C=>{if(Xn)try{C==="now"?(Ta(!1),K(Xn),T(!0)):(await Y.selectPaymentMethod(Xn.id,"physical"),Ta(!1),M(F=>[{title:"Payment Method Confirmed",msg:"You have selected to Pay on Pickup. Please pay the driver when they arrive.",time:"Just now",unread:!0},...F]),_e(F=>F.map(I=>I.id===Xn.id?{...I,status:"Scheduled"}:I)),Ye(F=>F.map(I=>I.id===Xn.id?{...I,status:"Scheduled"}:I)),a("active-trip"))}catch(F){console.error("Payment timing selection failed",F),alert("Failed to update payment option. Please try again.")}},$p=async C=>{if(L)try{if(C==="later")try{await Y.selectPaymentMethod(L.id,"later")}catch(F){console.warn("Backend does not support pay-later endpoint, continuing to pickup flow",F)}else await Y.selectPaymentMethod(L.id,C);T(!1),G(L),a("active-trip")}catch(F){console.error("Payment selection failed",F)}},Mp=async()=>{var C;if(U){if(yr==="mobile"){if(!or){alert("Please enter your mobile money number.");return}We("processing");try{const F=Jn.find(aa=>aa.name.toLowerCase().includes(Me.toLowerCase())||aa.short_code.toLowerCase().includes(Me.toLowerCase())),z=F?F.ref_id:Me==="airtel"?"20be6c20-adeb-4b5b-a7ba-0769820df4fb":"27494cb5-ba9e-437f-a114-4e7a7686bcca",H={rideId:U.id,amount:U.price||U.acceptedPrice||0,mobileNumber:or,providerRefId:z},se=await Y.initiatePayment(H);if(se.status==="error")throw new Error(se.message);((C=se.data)==null?void 0:C.charge_id)?setTimeout(async()=>{await Y.completeHandover(U.id.toString(),"mobile"),We("success"),setTimeout(()=>{Rt(!1),We("method")},2e3)},3e3):(We("success"),setTimeout(()=>Rt(!1),2e3))}catch(F){console.error("Handover payment failed",F),alert("Payment failed. Please try again."),We("method")}return}try{await Y.completeHandover(U.id.toString(),yr),Rt(!1),M(I=>[{title:"Handover Confirmed!",msg:`Payment method confirmed: ${yr}. Vehicle is ready.`,time:"Just now",unread:!0},...I]);const F={...U,status:"Active",paymentMethod:yr};br(F),Ye(I=>I.map(D=>D.id===U.id?F:D)),_e(I=>I.map(D=>D.id===U.id?F:D))}catch(F){console.error("Handover payment selection failed",F),alert("Failed to confirm handover payment. Please try again.")}}},Nu=async C=>{try{await Y.confirmPickup(C),console.log("Pickup confirmed manually for ride:",C)}catch(F){console.error("Pickup confirmation failed",F)}},Su=async()=>{if(U)try{if(await Y.confirmBoarding(U.id.toString()),Ye(C=>C.map(F=>F.id===U.id?{...F,status:"Boarded"}:F)),U){const C={...U,status:"Boarded"};br(C)}M(C=>[{title:"Boarding Confirmed",msg:"You have confirmed boarding. The driver will start the trip shortly.",time:"Just now",unread:!0},...C]),console.log("Boarding confirmed for ride:",U.id)}catch(C){console.error("Boarding confirmation failed",C),alert("Failed to confirm boarding. Please try again.")}},$n=Ma.find(C=>C.id===Gt),Au=()=>!ae&&!U?0:U?U.price:(Et==="fixed"?Ce==="share"?ae.price:parseFloat(ae.rate.replace(/[^0-9.]/g,"")||0):parseFloat(Ur)||0)+500;return i.jsxs("div",{className:"flex h-screen bg-[#121212] text-white font-sans overflow-hidden selection:bg-[#FACC15] selection:text-black",children:[t&&i.jsx("div",{className:"fixed inset-0 bg-black/80 z-40 lg:hidden",onClick:()=>r(!1)}),i.jsxs("aside",{className:`fixed lg:relative z-50 w-64 h-full bg-[#1E1E1E] border-r border-[#2A2A2A] flex flex-col transition-transform duration-300 ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[i.jsxs("div",{className:"h-20 flex items-center px-8 border-b border-[#2A2A2A]",children:[i.jsx("div",{className:"w-8 h-8 bg-[#FACC15] rounded-lg flex items-center justify-center mr-3",children:i.jsx(ka,{className:"w-5 h-5 text-black"})}),i.jsx("span",{className:"text-xl font-bold tracking-wide",children:"Ridex"}),i.jsx("button",{className:"ml-auto lg:hidden text-gray-400",onClick:()=>r(!1),children:i.jsx(tn,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3 mb-6 p-3 bg-[#252525] rounded-xl border border-[#333]",children:[i.jsx("img",{src:we.avatar,alt:"Profile",className:"w-10 h-10 rounded-full border border-[#FACC15]"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-bold text-white",children:we.name}),i.jsxs("div",{className:"flex items-center gap-1 text-[#FACC15] text-xs",children:[i.jsx(Pd,{className:"w-3 h-3"}),i.jsx("span",{className:"font-bold",children:we.rating})]})]})]})}),i.jsxs("nav",{className:"flex-1 px-4 space-y-2",children:[i.jsxs("button",{onClick:()=>a("overview"),className:`flex items-center w-full px-4 py-3 rounded-xl font-bold transition-transform hover:scale-105 ${n==="overview"?"text-black bg-[#FACC15]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(bre,{className:"w-5 h-5 mr-3"})," Marketplace"]}),i.jsxs("button",{onClick:()=>a("active-trip"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="active-trip"?"text-white bg-[#2A2A2A] border border-[#FACC15]/30":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(y1,{className:`w-5 h-5 mr-3 ${n==="active-trip"?"text-[#FACC15]":""}`}),"Active Trip",yt.length>0&&i.jsx("span",{className:"ml-auto w-2 h-2 rounded-full bg-green-500 animate-pulse"})]}),i.jsxs("button",{onClick:()=>a("statistics"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="statistics"?"text-white bg-[#2A2A2A]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(jre,{className:"w-5 h-5 mr-3"})," Statistics"]}),i.jsxs("button",{onClick:()=>a("trips"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="trips"?"text-white bg-[#2A2A2A]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(Cd,{className:"w-5 h-5 mr-3"})," My Trips"]}),i.jsxs("button",{onClick:()=>a("financials"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="financials"?"text-white bg-[#2A2A2A]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(m1,{className:"w-5 h-5 mr-3"})," Financials"]}),i.jsxs("button",{onClick:()=>a("distance"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="distance"?"text-white bg-[#2A2A2A]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(Ir,{className:"w-5 h-5 mr-3"})," Distance"]}),i.jsxs("button",{onClick:()=>a("messages"),className:`flex items-center w-full px-4 py-3 rounded-xl font-medium transition-colors ${n==="messages"?"text-white bg-[#2A2A2A]":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[i.jsx(ni,{className:"w-5 h-5 mr-3"})," Messages"]})]}),i.jsx("div",{className:"p-4 border-t border-[#2A2A2A]",children:i.jsx("button",{onClick:e,className:"flex items-center w-full px-4 py-3 text-gray-400 hover:text-[#FACC15] hover:bg-[#2A2A2A] rounded-xl font-medium transition-colors",children:i.jsx("span",{className:"mr-3",children:"Log Out"})})})]}),i.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[i.jsxs("header",{className:"bg-white dark:bg-dark-800 shadow-sm sticky top-0 z-20 px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between transition-colors duration-300",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>r(!0),className:"lg:hidden mr-4 text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:i.jsx(Nx,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n==="overview"?"Dashboard":n==="messages"?"Messages":n==="trips"?"My Trips":n==="active-trip"?"Active Trip":n==="financials"?"Total Spent":n==="statistics"?"Statistics":"Distance Analytics"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Ax,{}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{className:"h-8 w-8 rounded-full",src:"https://ui-avatars.com/api/?name=Rider+User",alt:"User"}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 hidden sm:block",children:"Rider"})]})]})]}),i.jsxs("div",{className:`flex-1 overflow-y-auto ${n==="active-trip"?"p-0":"p-6 lg:p-8"}`,children:[n==="overview"&&i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"bg-white dark:bg-[#1E1E1E] p-4 border-b border-gray-200 dark:border-[#2A2A2A] flex flex-col md:flex-row gap-4 items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-200",children:[i.jsx(Nre,{className:"w-5 h-5 text-[#FACC15]"}),i.jsx("span",{className:"font-bold",children:"Mzuzu, Malawi (Current Location)"})]}),i.jsxs("div",{className:"relative w-full md:w-96",children:[i.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search ride, vehicle type, or destination...",className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-[#252525] border border-transparent focus:border-[#FACC15] rounded-xl outline-none text-gray-900 dark:text-white transition-all",value:Q,onChange:C=>R(C.target.value)})]})]}),i.jsxs("div",{className:"flex border-b border-gray-200 dark:border-[#2A2A2A]",children:[i.jsx("button",{onClick:()=>s("share"),className:`flex-1 py-4 font-bold text-center transition-colors ${o==="share"?"text-[#FACC15] border-b-2 border-[#FACC15]":"text-gray-500 hover:text-white"}`,children:" Rideshare"}),i.jsx("button",{onClick:()=>s("hire"),className:`flex-1 py-4 font-bold text-center transition-colors ${o==="hire"?"text-[#FACC15] border-b-2 border-[#FACC15]":"text-gray-500 hover:text-white"}`,children:" For Hire"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:o==="share"?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-[#252525] p-6 rounded-3xl border border-[#333]",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Where to?"}),i.jsx(yre,{onSearch:Op,isLoading:m})]}),Np.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Available Rides"}),i.jsx("div",{className:"space-y-3",children:Sp.map(C=>i.jsxs("div",{className:"bg-[#252525] p-4 rounded-2xl border border-[#333] flex justify-between items-center hover:border-[#FACC15]/50 transition-colors cursor-pointer",onClick:()=>_p(C),children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-[#1E1E1E] rounded-full flex items-center justify-center text-gray-400",children:i.jsx(Ue,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-bold text-white",children:[C.origin,"  ",C.destination]}),i.jsxs("div",{className:"text-sm text-gray-400",children:[C.date,"  ",C.time]}),i.jsx("div",{className:"text-xs text-[#FACC15] mt-1",children:C.negotiable?"Negotiable":"Fixed Price"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-bold text-[#FACC15] text-lg",children:["MK ",C.price.toLocaleString()]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[C.seats," seats left"]})]})]},C.id))})]})]}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"mb-6 space-y-4",children:[i.jsx("button",{onClick:()=>{c(null),h("hireCat",null)},className:`w-full py-3 rounded-xl font-bold transition-all ${l===null?"bg-[#FACC15] text-black":"bg-[#252525] border border-[#333] text-gray-400 hover:text-white"}`,children:"Show All Vehicles"}),i.jsx("div",{className:"flex flex-row overflow-x-auto gap-4 pb-2 scrollbar-none",children:gre.map(C=>i.jsxs("div",{className:"min-w-[140px] flex-shrink-0",children:[i.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-1 ml-1 truncate",children:C.title}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:C.categories.some(F=>F.name===l)&&l||"",onChange:F=>{const I=F.target.value;I&&(c(I),h("hireCat",I))},className:`w-full appearance-none bg-[#1E1E1E] border border-[#333] text-xs py-2 px-3 pr-6 rounded-lg focus:outline-none focus:border-[#FACC15] transition-colors truncate ${C.categories.some(F=>F.name===l)?"text-[#FACC15] border-[#FACC15]":"text-gray-300"}`,children:[i.jsx("option",{value:"",children:"Select..."}),C.categories.map(F=>i.jsx("option",{value:F.name,children:F.name},F.id))]}),i.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:i.jsx("svg",{className:"fill-current h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]},C.id))})]}),A.length>0&&i.jsxs("div",{className:"mb-4 p-4 bg-[#151515] rounded-xl border border-[#2A2A2A]",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm text-gray-300 font-bold",children:"Your Pending Requests"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[A.length," waiting"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:A.slice(0,3).map(C=>{var F;return i.jsxs("div",{className:"p-3 bg-[#1A1A1A] rounded-lg border border-[#333]",children:[i.jsx("div",{className:"text-xs text-gray-400",children:C.type==="hire"?"Hire Request":"Ride Request"}),i.jsx("div",{className:"font-bold text-white text-sm",children:C.type==="hire"?C.origin||C.location:`${C.origin}  ${C.destination}`}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Status: ",C.negotiationStatus||C.status]}),i.jsxs("div",{className:"text-xs text-[#FACC15] font-bold mt-1",children:["MWK ",(C.offeredPrice||parseFloat(((F=C.rate)==null?void 0:F.replace(/[^0-9.]/g,""))||"0")||0).toLocaleString()]})]},C.id)})})]}),bu.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:bu.map(C=>i.jsxs("div",{onClick:()=>Fv(C,"hire"),className:"bg-[#252525] p-6 rounded-2xl border border-[#333] hover:border-[#FACC15] transition-all cursor-pointer group",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-[#1E1E1E] rounded-xl flex items-center justify-center text-[#FACC15] group-hover:bg-[#FACC15] group-hover:text-black transition-colors",children:i.jsx(Ue,{className:"w-6 h-6"})}),i.jsx("div",{className:"text-xs bg-[#1E1E1E] px-3 py-1 rounded-full text-gray-400",children:C.category})]}),i.jsx("div",{className:"font-bold text-white text-lg mb-2",children:C.title}),i.jsx("div",{className:"text-sm text-gray-400 mb-4",children:C.location}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"text-[#FACC15] font-bold text-xl",children:C.rate}),i.jsx("button",{className:"px-4 py-2 bg-[#FACC15] text-black font-medium rounded-lg group-hover:bg-[#EAB308] transition-colors",children:"Request"})]})]},C.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-[#252525] rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Ue,{className:"w-8 h-8 text-gray-600"})}),i.jsx("p",{className:"text-gray-400",children:"No vehicles available in this category"})]})]})})]}),n==="active-trip"&&i.jsx("div",{className:"h-full w-full flex flex-col md:flex-row relative",children:U?i.jsxs(i.Fragment,{children:[U.status==="Arrived"&&i.jsx("div",{className:"absolute inset-0 bg-black/80 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-[#1E1E1E] border-2 border-[#FACC15] rounded-3xl p-8 max-w-md text-center shadow-[0_0_50px_rgba(250,204,21,0.2)] animate-fadeIn",children:[i.jsx("div",{className:"w-20 h-20 bg-[#FACC15] rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce",children:i.jsx(Ue,{className:"w-10 h-10 text-black"})}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Driver has Arrived!"}),i.jsx("p",{className:"text-gray-400 mb-8",children:"Your driver is waiting at the pickup location. Please confirm when you have boarded the vehicle."}),i.jsx("button",{onClick:Su,className:"w-full py-4 bg-[#FACC15] text-black font-bold text-lg rounded-xl hover:bg-[#EAB308] transition-transform transform hover:scale-105 shadow-lg",children:"Yes, I have Boarded"})]})}),i.jsxs("div",{className:"w-full md:w-96 bg-[#121212] border-r border-[#2A2A2A] flex flex-col h-full z-20 shadow-xl",children:[i.jsxs("div",{className:"p-6 border-b border-[#2A2A2A]",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-[#252525] flex items-center justify-center border border-[#333]",children:i.jsx(Ue,{className:"w-6 h-6 text-[#FACC15]"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-white",children:"Current Ride"}),i.jsxs("p",{className:"text-xs text-gray-400",children:["Trip ID #",U.id]})]})]}),i.jsxs("div",{className:"bg-[#252525] rounded-xl p-4 mb-6 border border-[#333]",children:[i.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold mb-2",children:"Status"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("span",{className:"relative flex h-3 w-3",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),i.jsx("span",{className:"text-green-400 font-bold text-lg leading-tight",children:U.status})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:U.status==="Pending"?"Waiting for driver approval.":U.status==="Approved"?"Trip approved! Ready to schedule.":U.status==="Scheduled"?"Trip scheduled. Waiting for driver.":U.status==="Handover Pending"?"Driver is waiting. Please confirm handover.":U.status==="Inbound"?"Driver is on the way.":U.status==="Arrived"?"Driver is waiting for you.":U.status==="In Progress"?"Trip is in progress.":U.status==="Payment Due"?"Trip complete. Please pay.":"Waiting for driver update."})]}),i.jsxs("div",{className:"space-y-6 relative pl-4 border-l-2 border-[#333] ml-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -left-[21px] top-1 w-4 h-4 bg-blue-500 rounded-full border-2 border-[#121212] shadow-sm"}),i.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Pickup"}),i.jsx("p",{className:"text-white font-medium",children:U.origin})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -left-[21px] top-1 w-4 h-4 bg-red-500 rounded-full border-2 border-[#121212] shadow-sm"}),i.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Destination"}),i.jsx("p",{className:"text-white font-medium",children:U.destination})]})]}),et&&i.jsxs("div",{className:"mt-6 p-4 bg-[#252525] rounded-xl border border-[#333] flex items-center justify-between",children:[i.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold",children:"Total Distance"}),i.jsxs("div",{className:"text-xl font-bold text-[#FACC15]",children:[et," km"]})]})]}),i.jsxs("div",{className:"p-6 flex-1 overflow-y-auto pb-6",children:[i.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase mb-4",children:"Driver Details"}),i.jsxs("div",{className:"flex items-center gap-4 mb-6 bg-[#252525] p-4 rounded-xl border border-[#333]",children:[i.jsx("img",{src:`https://ui-avatars.com/api/?name=${typeof U.driver=="string"?U.driver:((Cu=U.driver)==null?void 0:Cu.name)||"Driver"}&background=random`,alt:"Driver",className:"w-12 h-12 rounded-full border-2 border-[#FACC15]"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-white font-bold",children:typeof U.driver=="string"?U.driver:((Pu=U.driver)==null?void 0:Pu.name)||"Unknown Driver"}),i.jsx("div",{className:"text-xs text-gray-400",children:"Toyota Corolla  MC 9928"}),i.jsxs("div",{className:"flex items-center gap-1 text-[#FACC15] text-xs mt-1",children:[i.jsx(Pd,{className:"w-3 h-3"})," 4.9"]})]})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:wr,className:"w-full py-3 bg-[#FACC15] text-black rounded-xl font-bold text-sm hover:bg-[#EAB308] transition-colors flex items-center justify-center gap-2",children:[i.jsx(ni,{className:"w-4 h-4"})," Message Driver"]})}),typeof U.driver=="object"&&U.driver.precision&&i.jsxs("div",{className:"pt-6 border-t border-[#2A2A2A]",children:[i.jsxs("div",{className:`p-3 rounded-xl text-xs font-bold flex items-center gap-2 ${U.driver.precision==="precise"?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-yellow-500/10 text-yellow-400 border border-yellow-500/20"}`,children:[i.jsx("span",{className:`w-2 h-2 rounded-full ${U.driver.precision==="precise"?"bg-green-500":"bg-yellow-500"}`}),U.driver.precision==="precise"?" Precise GPS Location":" Approximate IP Location"]}),U.driver.precision==="approximate"&&i.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"Driver's location is approximate based on IP address. Precise GPS tracking was not available."})]}),U&&i.jsxs("div",{className:"pt-6 mt-6 border-t border-[#2A2A2A]",children:[i.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase mb-4",children:"Trip Actions"}),i.jsxs("div",{className:"space-y-3",children:[U.status==="Pending"&&i.jsx("button",{onClick:async()=>{if(confirm("Are you sure you want to cancel this request?"))try{await Y.cancelRide(U.id),br(null),a("overview"),M(C=>[{title:"Request Cancelled",msg:"Your ride request has been cancelled.",time:"Just now",unread:!0},...C])}catch(C){console.error(C),alert("Failed to cancel request")}},className:"w-full py-3 bg-red-600/20 text-red-500 border border-red-500/50 rounded-xl font-bold text-sm hover:bg-red-600 hover:text-white transition-colors flex items-center justify-center gap-2",children:" Cancel Request"}),U.type==="hire"&&U.status==="Handover Pending"&&i.jsxs("div",{className:"bg-orange-500/20 border-2 border-orange-500 rounded-xl p-4 animate-pulse",children:[i.jsx("p",{className:"text-xs text-orange-300 font-bold mb-1",children:" Handover Awaiting Payment"}),i.jsx("p",{className:"text-xs text-gray-200 mb-3",children:"Driver is ready! Select your payment method to complete the handover."}),i.jsx("button",{onClick:()=>{console.log(" Manually opening handover modal from Trip Actions button"),Rt(!0)},className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-lg font-bold text-sm hover:from-orange-500 hover:to-orange-400 transition-all shadow-lg animate-bounce",children:" Open Payment Modal"})]}),U.type==="hire"&&U.status==="Active"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-xl p-4 animate-pulse",children:[i.jsx("p",{className:"text-xs text-green-400 font-bold mb-1",children:" Waiting for Return"}),i.jsx("p",{className:"text-xs text-gray-300",children:"You have the vehicle. Please request return when finished."})]}),i.jsx("button",{onClick:async()=>{if(confirm("Are you ready to return the vehicle to the dealership?"))try{await Y.requestVehicleReturn(U.id);const C={...U,status:"Return Pending"};br(C)}catch(C){console.error(C),alert("Failed to request return")}},className:"w-full py-3 bg-[#FACC15] text-black rounded-xl font-bold text-sm hover:bg-[#EAB308] transition-colors shadow-lg",children:" Return Vehicle to Dealership"})]}),U.type==="hire"&&U.status==="Return Pending"&&i.jsxs("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded-xl p-4 animate-pulse",children:[i.jsx("p",{className:"text-xs text-blue-400 font-bold mb-1",children:" Return Requested"}),i.jsx("p",{className:"text-xs text-gray-300",children:"Waiting for driver to confirm vehicle return."})]}),U.type==="hire"&&U.status==="Approved"&&i.jsxs("div",{className:"bg-[#1E1E1E] border border-blue-500/30 rounded-xl p-6 text-center animate-fadeIn",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx(Ir,{className:"w-6 h-6 text-blue-400"})}),i.jsx("h3",{className:"text-white font-bold mb-1",children:"Hire Request Approved!"}),i.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"Please proceed to the dealership or pickup location to meet the driver."}),i.jsxs("div",{className:"bg-[#252525] p-3 rounded-lg border border-[#333] mb-3",children:[i.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Pickup Location"}),i.jsx("p",{className:"text-sm text-white font-bold",children:U.origin})]}),i.jsx("p",{className:"text-[10px] text-gray-500 italic",children:"You will be prompted to complete payment when the driver initiates the vehicle handover."})]}),U.type==="share"&&(U.status==="Scheduled"||U.status==="Inbound"||U.status==="Arrived")&&i.jsxs("button",{onClick:()=>Nu(U.id),className:"w-full py-3 bg-blue-500 text-white rounded-xl font-bold text-sm hover:bg-blue-600 transition-colors flex items-center justify-center gap-2",children:[i.jsx(Ue,{className:"w-4 h-4"})," Confirm Pickup"]}),U.type==="share"&&U.status==="In Progress"&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>{Pt(!0),We("method")},className:"w-full py-3 bg-[#252525] text-white border border-[#333] rounded-xl font-bold text-sm hover:bg-[#333] transition-colors",children:"Proceed to Payment"}),i.jsx("button",{onClick:()=>{Pt(!0),We("method")},className:"w-full py-3 bg-red-600 text-white rounded-xl font-bold text-sm hover:bg-red-500 transition-colors shadow-lg shadow-red-600/20",children:"Pay & End Trip"})]}),U.status==="Payment Due"&&i.jsxs("div",{className:"animate-pulse",children:[i.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-3",children:[i.jsx("p",{className:"text-xs text-red-400 font-bold mb-1",children:"Trip Ended by Driver"}),i.jsx("p",{className:"text-xs text-gray-300",children:"Please confirm the trip has ended and complete your payment."})]}),i.jsx("button",{onClick:()=>{Pt(!0),We("method")},className:"w-full py-3 bg-[#FACC15] text-black rounded-xl font-bold text-sm hover:bg-[#EAB308] transition-colors shadow-lg",children:"Confirm End & Pay"})]})]}),!(U.type==="hire"&&U.status==="Approved"||U.type==="share"&&["Scheduled","Inbound","Arrived"].includes(U.status)||U.type==="share"&&U.status==="In Progress"||U.status==="Payment Due"||U.status==="Awaiting Payment Selection")&&i.jsx("p",{className:"text-xs text-gray-500 italic",children:"No actions available for this status."}),U.status==="Awaiting Payment Selection"&&i.jsxs("div",{className:"bg-[#1E1E1E] border border-[#FACC15] rounded-xl p-4 mt-4 animate-pulse-slow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"p-2 bg-[#FACC15]/20 rounded-full text-[#FACC15]",children:i.jsx(ca,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-bold text-sm",children:"Action Required"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Please select how update you want to pay."})]})]}),i.jsx("button",{onClick:()=>{po(U),Ta(!0)},className:"w-full py-2 bg-[#FACC15] text-black font-bold rounded-lg text-sm hover:bg-[#EAB308] transition-colors",children:"Select Payment Option"})]})]})]})]}),i.jsx("div",{className:"flex-1 relative bg-[#1E1E1E] p-8 flex flex-col items-center justify-center",children:i.jsxs("div",{className:"text-center max-w-sm",children:[i.jsx("div",{className:"w-16 h-16 bg-[#252525] rounded-full flex items-center justify center mx-auto mb-6 border-2 border-[#333]",children:i.jsx(Ir,{className:"w-8 h-8 text-[#FACC15]"})}),i.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Manual Pickup Mode"}),i.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"No automated map tracking. Use the action buttons on the left to manually confirm each step of your trip."}),i.jsxs("div",{className:"bg-[#252525] border border-[#333] rounded-2xl p-4 text-left text-xs text-gray-300 space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-[#FACC15] font-bold text-sm",children:"1"}),i.jsxs("span",{children:["Click ",i.jsx("strong",{children:"Confirm Pickup"})," when driver arrives and you board"]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-[#FACC15] font-bold text-sm",children:"2"}),i.jsxs("span",{children:["Click ",i.jsx("strong",{children:"End Trip"})," when you arrive at destination"]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-[#FACC15] font-bold text-sm",children:"3"}),i.jsxs("span",{children:["Click ",i.jsx("strong",{children:"Complete Payment"})," to finish"]})]})]})]})})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full p-8 text-center space-y-6",children:[i.jsx("div",{className:"w-24 h-24 bg-[#252525] rounded-full flex items-center justify-center mb-4",children:i.jsx(Ue,{className:"w-10 h-10 text-gray-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-white",children:"No Active Trips"}),i.jsx("p",{className:"text-gray-400 max-w-md",children:"You don't have any trips in progress. Book a ride from the marketplace to see it here."}),i.jsx("button",{onClick:()=>a("overview"),className:"px-8 py-3 bg-[#FACC15] text-black font-bold rounded-xl hover:bg-[#EAB308] transition-colors",children:"Go to Marketplace"})]})}),n==="statistics"&&i.jsxs("div",{className:"space-y-8 animate-fadeIn p-6 lg:p-8",children:[U&&i.jsxs("div",{onClick:()=>a("active-trip"),className:"bg-gradient-to-r from-[#FACC15]/10 to-transparent p-6 rounded-3xl border border-[#FACC15]/30 cursor-pointer hover:border-[#FACC15]/60 transition-all group",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[i.jsxs("span",{className:"relative flex h-3 w-3",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#FACC15] opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-[#FACC15]"})]}),"Active Trip"]}),i.jsxs("span",{className:"text-sm text-[#FACC15] font-bold flex items-center gap-1 group-hover:underline",children:["View Details ",i.jsx(Ir,{className:"w-4 h-4"})]})]}),i.jsxs("div",{className:"flex items-center justify-between bg-[#1E1E1E] p-4 rounded-2xl border border-[#333]",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Route"}),i.jsxs("div",{className:"text-xl font-bold text-white",children:[U.origin,"  ",U.destination]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Status"}),i.jsx("div",{className:`text-lg font-bold ${U.status==="Pending"?"text-yellow-400":"text-green-400"}`,children:U.status})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(pn,{title:"Total Spent",value:`MWK ${(($e==null?void 0:$e.totalSpend)??0).toLocaleString()}`,subValue:"Lifetime spending",icon:m1,onClick:()=>a("financials")}),i.jsx(pn,{title:"Total Trips",value:$e.totalRides,subValue:"Completed rides",icon:Ue,onClick:()=>a("trips")}),i.jsx(pn,{title:"Distance",value:`${$e.totalDistance} km`,subValue:"Traveled with Ridex",icon:Ir,onClick:()=>a("distance")})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A]",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:"Monthly Spending"}),i.jsx("div",{className:"h-72 w-full",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(Ca,{data:$e.chartData,children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorSpend",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#FACC15",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#FACC15",stopOpacity:0})]})}),i.jsx(Sr,{strokeDasharray:"3 3",vertical:!1,stroke:"#333",opacity:.5}),i.jsx(Wt,{dataKey:"name",stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1}),i.jsx(Vt,{stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1}),i.jsx(ct,{contentStyle:{backgroundColor:"#1E1E1E",borderColor:"#333",borderRadius:"8px",color:"#fff"},cursor:{stroke:"#333"},formatter:C=>[`MWK ${(C??0).toLocaleString()}`,"Spent"]}),i.jsx(Ht,{type:"monotone",dataKey:"value",stroke:"#FACC15",strokeWidth:3,fillOpacity:1,fill:"url(#colorSpend)"})]})})})]}),i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-6 border border-[#2A2A2A] flex flex-col",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Ride Preference"}),i.jsx("div",{className:"flex-1 min-h-[250px]",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(J3,{children:[i.jsx(Yn,{data:$e.rideTypes,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:$e.rideTypes.map((C,F)=>i.jsx(uu,{fill:C.color,strokeWidth:0},`cell-${F}`))}),i.jsx(ct,{contentStyle:{backgroundColor:"#1E1E1E",borderColor:"#333",borderRadius:"8px",color:"#fff"}}),i.jsx(Cn,{verticalAlign:"bottom",height:36})]})})})]})]})]}),n==="messages"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-10rem)] animate-fadeIn",children:[i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl border border-[#2A2A2A] overflow-hidden flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-[#333]",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search messages...",className:"w-full bg-[#252525] border border-[#333] rounded-xl pl-10 pr-4 py-2 text-sm text-white outline-none focus:border-[#FACC15]"}),i.jsx(ga,{className:"w-4 h-4 text-gray-500 absolute left-3 top-2.5"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:Ma.map(C=>i.jsx("div",{onClick:()=>yi(C.id),className:`p-4 border-b border-[#333] cursor-pointer hover:bg-[#252525] transition-colors ${Gt===C.id?"bg-[#252525] border-l-4 border-l-[#FACC15]":""}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:C.avatar,alt:C.name,className:"w-10 h-10 rounded-full object-cover"}),C.status==="online"&&i.jsx("span",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-green-500 rounded-full border-2 border-[#1E1E1E]"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[i.jsx("h4",{className:`text-sm font-bold truncate ${Gt===C.id?"text-white":"text-gray-300"}`,children:C.name}),i.jsx("span",{className:"text-[10px] text-gray-500",children:C.time})]}),i.jsx("p",{className:"text-xs text-gray-400 truncate",children:C.lastMessage})]}),C.unread>0&&i.jsx("span",{className:"bg-[#FACC15] text-black text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:C.unread})]})},C.id))})]}),i.jsx("div",{className:"lg:col-span-2 bg-[#1E1E1E] rounded-3xl border border-[#2A2A2A] overflow-hidden flex flex-col",children:$n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-4 border-b border-[#333] flex justify-between items-center bg-[#252525]",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:$n.avatar,alt:$n.name,className:"w-10 h-10 rounded-full"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-bold text-sm",children:$n.name}),i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[i.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${$n.status==="online"?"bg-green-500":"bg-gray-500"}`}),$n.status==="online"?"Online":""]})]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-[#1E1E1E]",children:[$n.messages.map(C=>i.jsx("div",{className:`flex ${C.sender==="user"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[75%] p-3 rounded-2xl text-sm ${C.sender==="user"?"bg-[#FACC15] text-black rounded-tr-none":"bg-[#2A2A2A] text-gray-200 rounded-tl-none"}`,children:[i.jsx("p",{children:C.text}),i.jsx("p",{className:`text-[10px] mt-1 text-right ${C.sender==="user"?"text-black/60":"text-gray-500"}`,children:C.timestamp})]})},C.id)),i.jsx("div",{ref:al})]}),i.jsx("div",{className:"p-4 border-t border-[#333] bg-[#252525]",children:i.jsxs("form",{onSubmit:Ep,className:"flex gap-2",children:[i.jsx("input",{type:"text",value:Tn,onChange:C=>nl(C.target.value),placeholder:"Type a message...",className:"flex-1 bg-[#1E1E1E] border border-[#333] rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#FACC15]"}),i.jsx("button",{type:"submit",disabled:!Tn.trim(),className:"p-3 bg-[#FACC15] text-black rounded-xl hover:bg-[#EAB308] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i.jsx(Sx,{className:"w-5 h-5"})})]})})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[i.jsx(ni,{className:"w-16 h-16 opacity-20 mb-4"}),i.jsx("p",{children:"Select a conversation to start messaging"})]})})]}),n==="financials"&&i.jsxs("div",{className:"w-full animate-fadeIn space-y-8 px-4 sm:px-6 lg:px-12",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-[#1E1E1E] p-6 rounded-3xl border border-[#2A2A2A] flex flex-col justify-between h-40",children:[i.jsx("h3",{className:"text-gray-400 text-sm font-medium",children:"Total Spent"}),i.jsxs("div",{className:"text-3xl font-bold text-white",children:["MWK ",(($e==null?void 0:$e.totalSpend)??0).toLocaleString()]}),i.jsx("div",{className:"text-xs text-green-400",children:"+12% vs last month"})]}),i.jsxs("div",{className:"bg-[#1E1E1E] p-6 rounded-3xl border border-[#2A2A2A] flex flex-col justify-between h-40",children:[i.jsx("h3",{className:"text-gray-400 text-sm font-medium",children:"Avg. Ride Cost"}),i.jsxs("div",{className:"text-3xl font-bold text-white",children:["MWK ",Math.round(($e==null?void 0:$e.averageCost)||0).toLocaleString()]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Based on ",($e==null?void 0:$e.totalRides)||0," rides"]})]}),i.jsxs("div",{className:"bg-[#1E1E1E] p-6 rounded-3xl border border-[#2A2A2A] flex flex-col justify-between h-40",children:[i.jsx("h3",{className:"text-gray-400 text-sm font-medium",children:"Payment Methods"}),i.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(we==null?void 0:we.airtelMoneyNumber)&&i.jsx("div",{className:"w-10 h-6 bg-red-600 rounded flex items-center justify-center",title:"Airtel Money",children:i.jsx("span",{className:"text-white font-bold text-[8px]",children:"AIRTEL"})}),(we==null?void 0:we.mpambaNumber)&&i.jsx("div",{className:"w-10 h-6 bg-green-600 rounded flex items-center justify-center",title:"Mpamba (TNM)",children:i.jsx("span",{className:"text-white font-bold text-[8px]",children:"TNM"})}),(we==null?void 0:we.bankAccountNumber)&&i.jsx("div",{className:"w-10 h-6 bg-blue-600 rounded flex items-center justify-center",title:we.bankName||"Bank",children:i.jsx("span",{className:"text-white font-bold text-[8px]",children:"BANK"})}),!(we!=null&&we.airtelMoneyNumber)&&!(we!=null&&we.mpambaNumber)&&!(we!=null&&we.bankAccountNumber)&&i.jsx("div",{className:"text-xs text-gray-500 italic",children:"No methods saved"})]}),i.jsxs("div",{className:"text-xs text-gray-500 mt-auto",children:[[we==null?void 0:we.airtelMoneyNumber,we==null?void 0:we.mpambaNumber,we==null?void 0:we.bankAccountNumber].filter(Boolean).length," Active Methods"]})]})]}),i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-8 border border-[#2A2A2A]",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:"Recent Transactions"}),i.jsx("div",{className:"overflow-hidden rounded-xl border border-[#333]",children:i.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[i.jsx("thead",{className:"bg-[#252525] text-gray-200 uppercase text-xs font-bold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3",children:"Date"}),i.jsx("th",{className:"px-6 py-3",children:"Description"}),i.jsx("th",{className:"px-6 py-3",children:"Payment Method"}),i.jsx("th",{className:"px-6 py-3 text-right",children:"Amount"}),i.jsx("th",{className:"px-6 py-3 text-center",children:"Status"})]})}),i.jsx("tbody",{className:"divide-y divide-[#333]",children:sl.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No transactions found"})}):sl.map((C,F)=>{var I,D,z,H,se,bt;return i.jsxs("tr",{className:"hover:bg-[#252525] transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(C.createdAt).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 font-medium text-white",children:C.description||C.type}),i.jsxs("td",{className:"px-6 py-4 flex items-center gap-2",children:[(((I=C.description)==null?void 0:I.includes("Airtel"))||((D=C.reference)==null?void 0:D.includes("AIRTEL")))&&i.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),(((z=C.description)==null?void 0:z.includes("Mpamba"))||((H=C.reference)==null?void 0:H.includes("TNM")))&&i.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),!((se=C.description)!=null&&se.includes("Airtel"))&&!((bt=C.description)!=null&&bt.includes("Mpamba"))&&i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),C.type==="Ride Payment"?"Ride Payment":C.type]}),i.jsxs("td",{className:"px-6 py-4 text-right font-bold text-white",children:["MWK ",(C.amount??0).toLocaleString()]}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase ${C.status==="completed"?"bg-green-500/20 text-green-400":C.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:C.status})})]},F)})})]})})]})]}),n==="trips"&&i.jsxs("div",{className:"w-full animate-fadeIn px-4 sm:px-6 lg:px-12",children:[i.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Active & Pending Trips"}),yt.length===0?i.jsxs("div",{className:"bg-[#1E1E1E] border border-[#333] rounded-2xl p-8 text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-[#252525] rounded-full flex items-center justify-center mx-auto mb-4 text-gray-500",children:i.jsx(Ue,{className:"w-8 h-8"})}),i.jsx("h3",{className:"text-white font-bold mb-2",children:"No Active Trips"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Your active and pending rides will appear here."})]}):i.jsx("div",{className:"space-y-4 mb-10",children:yt.map(C=>i.jsxs("div",{className:"bg-[#1E1E1E] border border-[#333] rounded-2xl p-6 hover:border-[#FACC15]/30 transition-all",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider
                                                                ${C.type==="hire"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:C.type==="hire"?"Vehicle Hire":"Ride Share"}),i.jsxs("span",{className:"text-gray-400 text-xs",children:[" ",C.date]})]}),i.jsx("h3",{className:"text-lg font-bold text-white",children:C.type==="hire"?C.title||"Vehicle Rental":`${C.origin}  ${C.destination}`})]}),i.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold
                                                        ${C.status==="Pending"?"bg-yellow-500/20 text-yellow-400":C.status==="Approved"||C.status==="Awaiting Payment Selection"?"bg-green-500/20 text-green-400":C.status==="In Progress"?"bg-blue-500/20 text-blue-400 animate-pulse":"bg-gray-700 text-gray-300"}`,children:C.status})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-[#333]",children:[i.jsxs("div",{className:"text-[#FACC15] font-bold",children:["MWK ",(C.price||0).toLocaleString()]}),i.jsxs("div",{className:"flex gap-3",children:[["In Progress","Inbound","Arrived","Payment Due","Handover Pending"].includes(C.status)&&i.jsxs("button",{onClick:()=>a("active-trip"),className:"px-4 py-2 bg-[#252525] text-white text-sm font-bold rounded-lg hover:bg-[#333] transition-colors flex items-center gap-2",children:[i.jsx(y1,{className:"w-4 h-4"}),"Track Trip"]}),C.status==="Pending"&&i.jsx("button",{className:"text-red-400 text-sm font-bold hover:text-red-300",children:"Cancel Request"})]})]})]},C.id))}),i.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Trip History"}),ul.length===0?i.jsx("div",{className:"text-center py-10 text-gray-500",children:"No past trips found."}):i.jsx("div",{className:"space-y-4",children:ul.map(C=>{var F,I,D;return i.jsx("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-2xl p-6 hover:border-[#FACC15]/30 transition-colors",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs font-bold uppercase tracking-wider",children:[i.jsx("span",{children:C.date}),i.jsx("span",{children:""}),i.jsx("span",{children:C.time})]}),i.jsx("div",{className:`text-xs font-bold px-2 py-0.5 rounded ${C.status==="Completed"?"bg-green-900/30 text-green-400":"bg-gray-800 text-gray-400"}`,children:C.status})]}),i.jsxs("div",{className:"relative pl-4 border-l-2 border-[#333] space-y-6 ml-1",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -left-[21px] top-1 w-3 h-3 bg-gray-600 rounded-full border-2 border-[#1E1E1E]"}),i.jsx("div",{className:"text-white font-bold",children:C.origin})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -left-[21px] top-1 w-3 h-3 bg-[#FACC15] rounded-full border-2 border-[#1E1E1E]"}),i.jsx("div",{className:"text-white font-bold",children:C.destination})]})]})]}),i.jsxs("div",{className:"md:w-48 flex flex-col justify-between border-t md:border-t-0 md:border-l border-[#333] pt-4 md:pt-0 md:pl-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-0",children:[i.jsx("img",{src:`https://ui-avatars.com/api/?name=${typeof C.driver=="string"?C.driver:((F=C.driver)==null?void 0:F.name)||"Unknown"}&background=random`,alt:typeof C.driver=="string"?C.driver:((I=C.driver)==null?void 0:I.name)||"Unknown",className:"w-10 h-10 rounded-full border border-[#333]"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-bold text-white",children:typeof C.driver=="string"?C.driver:((D=C.driver)==null?void 0:D.name)||"Unknown Driver"}),i.jsx("div",{className:"flex items-center text-[#FACC15] text-xs",children:Array.from({length:C.rating||0}).map((z,H)=>i.jsx("span",{children:""},H))})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-gray-500 text-xs",children:"Total Fare"}),i.jsxs("div",{className:"text-2xl font-bold text-white",children:["MWK ",(C.price??0).toLocaleString()]})]}),C.status==="Completed"&&!C.rating&&i.jsx("button",{onClick:()=>wu(C),className:"mt-2 w-full py-1.5 bg-[#252525] text-[#FACC15] text-xs font-bold rounded-lg border border-[#333] hover:bg-[#333] transition-colors",children:"Rate Driver"})]})]})},C.id)})})]}),n==="distance"&&i.jsxs("div",{className:"w-full animate-fadeIn space-y-8 px-4 sm:px-6 lg:px-12",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-[#1E1E1E] p-6 rounded-3xl border border-[#2A2A2A] flex flex-col items-start",children:[i.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-2",children:"Total Distance"}),i.jsxs("div",{className:"text-4xl font-bold text-white",children:[$e.totalDistance," ",i.jsx("span",{className:"text-lg text-[#FACC15]",children:"km"})]})]}),i.jsxs("div",{className:"bg-[#1E1E1E] p-6 rounded-3xl border border-[#2A2A2A] flex flex-col items-start",children:[i.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-2",children:"This Month"}),i.jsxs("div",{className:"text-4xl font-bold text-white",children:[ul.filter(C=>new Date(C.createdAt||Date.now()).getMonth()===new Date().getMonth()).reduce((C,F)=>C+(F.distance_km||0),0).toFixed(0)," ",i.jsx("span",{className:"text-lg text-gray-500",children:"km"})]})]}),i.jsxs("div",{className:"bg-[#1E1E1E] p-6 rounded-3xl border border-[#2A2A2A] flex flex-col items-start",children:[i.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-2",children:"Avg. Trip"}),i.jsxs("div",{className:"text-4xl font-bold text-white",children:[(($e==null?void 0:$e.averageDistance)||0).toFixed(1)," ",i.jsx("span",{className:"text-lg text-gray-500",children:"km"})]})]})]}),i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-8 border border-[#2A2A2A]",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:"Distance Traveled History (km)"}),i.jsx("div",{className:"h-80 w-full",children:i.jsx(dr,{width:"100%",height:"100%",children:i.jsxs(Ca,{data:$e.chartData.map(C=>({...C,value:C.value*1.5})),children:[" ",i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorDistance",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),i.jsx(Sr,{strokeDasharray:"3 3",vertical:!1,stroke:"#333",opacity:.5}),i.jsx(Wt,{dataKey:"name",stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1}),i.jsx(Vt,{stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1}),i.jsx(ct,{contentStyle:{backgroundColor:"#1E1E1E",borderColor:"#333",borderRadius:"8px",color:"#fff"},cursor:{stroke:"#333"},formatter:C=>[`${C} km`,"Distance"]}),i.jsx(Ht,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:3,fillOpacity:1,fill:"url(#colorDistance)",name:"Distance"})]})})})]})]})]})]}),le&&i.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4 animate-fadeIn",onClick:()=>pe(!1),children:i.jsx("div",{className:"bg-[#1E1E1E] rounded-3xl max-w-md w-full border border-[#333] shadow-2xl overflow-hidden",onClick:C=>C.stopPropagation(),children:tt==="success"?i.jsxs("div",{className:"p-8 flex flex-col items-center justify-center text-center h-80",children:[i.jsx("div",{className:"w-20 h-20 bg-[#FACC15]/20 rounded-full flex items-center justify-center mb-6 animate-pulse",children:i.jsx(Ad,{className:"w-10 h-10 text-[#FACC15]"})}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:Et==="negotiate"?"Offer Sent!":"Request Sent!"}),i.jsx("p",{className:"text-gray-400",children:Et==="negotiate"?"Your offer has been sent to the driver for approval.":"Your booking request has been sent to the driver."}),i.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:[i.jsx("span",{className:"block text-orange-400 font-bold mb-1",children:"Pending Driver Approval"}),'Check "Active Trip" for live status updates.']})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-6 border-b border-[#333] flex justify-between items-center bg-[#252525]",children:[i.jsx("h3",{className:"text-xl font-bold text-white",children:"Review & Request"}),i.jsx("button",{onClick:()=>pe(!1),className:"text-gray-400 hover:text-white",children:i.jsx(tn,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"p-6",children:ae&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-[#121212] p-4 rounded-xl border border-[#333]",children:[i.jsx("div",{className:"text-xs text-[#FACC15] font-bold uppercase mb-2",children:"Itinerary"}),Ce==="share"?i.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-300",children:[i.jsx("span",{className:"font-bold text-white",children:ae.origin}),i.jsx("span",{className:"text-gray-600",children:""}),i.jsx("span",{className:"font-bold text-white",children:ae.destination})]}):i.jsx("div",{className:"font-bold text-white",children:ae.title}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:Ce==="share"?`${ae.date} at ${ae.time}`:`Category: ${ae.category}`})]}),i.jsxs("div",{className:"bg-[#252525] p-1 rounded-xl flex border border-[#333]",children:[i.jsx("button",{onClick:()=>yo("fixed"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${Et==="fixed"?"bg-[#FACC15] text-black":"text-gray-400 hover:text-white"}`,children:"Listed Price"}),i.jsx("button",{onClick:()=>yo("negotiate"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${Et==="negotiate"?"bg-[#FACC15] text-black":"text-gray-400 hover:text-white"}`,children:"Negotiate Offer"})]}),i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#333]",children:[i.jsx("span",{className:"text-gray-400",children:Et==="fixed"?"Base Price":"Your Offer (MWK)"}),Et==="fixed"?i.jsx("span",{className:"text-white font-bold",children:Ce==="share"?`MWK ${((ae==null?void 0:ae.price)??0).toLocaleString()}`:ae==null?void 0:ae.rate}):i.jsxs("div",{className:"flex items-center bg-[#121212] border border-[#333] rounded-lg px-2 w-32 focus-within:border-[#FACC15] ring-2 ring-transparent focus-within:ring-[#FACC15]/20 transition-all",children:[i.jsx("span",{className:"text-[#FACC15] text-xs mr-1",children:"MWK"}),i.jsx("input",{type:"number",value:Ur,onChange:C=>gi(C.target.value),className:"bg-transparent text-[#FACC15] font-bold text-right w-full py-1 outline-none text-lg",placeholder:"0.00",onFocus:C=>C.target.select(),autoFocus:!0})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2",children:[i.jsx("span",{className:"text-lg font-bold text-white",children:"Estimated Total"}),i.jsxs("span",{className:"text-2xl font-bold text-[#FACC15]",children:["MWK ",(Au()??0).toLocaleString()]})]}),i.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Payment will be collected after the trip is completed."}),i.jsx("button",{onClick:Ap,className:"w-full py-4 bg-gradient-to-r from-[#FACC15] to-[#EAB308] text-black font-extrabold text-lg rounded-xl hover:from-[#EAB308] hover:to-[#CA8A04] transition-all shadow-[0_0_20px_rgba(250,204,21,0.3)] hover:shadow-[0_0_30px_rgba(250,204,21,0.5)] transform hover:-translate-y-0.5 mt-4",children:Et==="negotiate"?"Send Offer":"Send Request"})]})})]})})}),ve&&U&&i.jsx("div",{className:"fixed inset-0 bg-black/90 z-[9999] flex items-center justify-center p-4 backdrop-blur-md",style:{pointerEvents:"auto"},children:i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl max-w-md w-full border-2 border-[#FACC15]/50 shadow-2xl overflow-hidden animate-slideUp",children:[i.jsxs("div",{className:"bg-gradient-to-r from-[#FACC15] to-[#EAB308] p-6 text-center relative",children:[i.jsx("button",{onClick:()=>Rt(!1),className:"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/30 rounded-full transition-colors",children:i.jsx(tn,{className:"w-5 h-5 text-white"})}),i.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-3xl",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-black",children:"Handover Awaiting Payment"}),((Eu=U.driver)==null?void 0:Eu.name)&&i.jsxs("p",{className:"text-black/80 text-sm mt-1",children:["Driver: ",i.jsx("span",{className:"font-semibold",children:U.driver.name})]}),i.jsx("p",{className:"text-black/70 text-sm mt-2",children:"Complete payment to confirm vehicle handover"})]}),i.jsx("div",{className:"p-6 min-h-[300px]",children:Lt==="processing"?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-8 animate-fadeIn",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-[#252525] border-t-[#FACC15] rounded-full animate-spin mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Processing Payment"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Please approve the prompt on your phone."})]}):Lt==="success"?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-8 animate-fadeIn",children:[i.jsx(Ad,{className:"w-16 h-16 text-green-500 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Handover Complete!"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Vehicle is now in your possession."})]}):i.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[i.jsxs("div",{className:"bg-[#252525] rounded-xl p-4 border border-[#333]",children:[i.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold mb-2",children:"Trip Amount"}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:["MWK ",U.price||0]})]}),i.jsxs("div",{className:"bg-[#FACC15]/10 border border-[#FACC15]/20 rounded-xl p-4 mb-4",children:[i.jsx("p",{className:"text-sm text-[#FACC15] font-semibold mb-2",children:" Payment Required"}),i.jsx("p",{className:"text-xs text-gray-300",children:"Complete mobile money payment to confirm handover."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex bg-[#252525] rounded-xl p-1 mb-4",children:[i.jsx("button",{onClick:()=>el("mobile"),className:`flex-1 py-2 font-bold text-sm rounded-lg transition-all ${yr==="mobile"?"bg-[#FACC15] text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:"Mobile Money"}),i.jsx("button",{onClick:()=>el("cash"),className:`flex-1 py-2 font-bold text-sm rounded-lg transition-all ${yr==="cash"?"bg-[#FACC15] text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:"Cash"})]}),yr==="mobile"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 block mb-2",children:"Select Network"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>qt("airtel"),className:`flex-1 py-3 rounded-lg text-sm font-bold border transition-all ${Me==="airtel"?"bg-red-600 text-white border-red-600":"bg-[#121212] border-[#333] text-gray-500 hover:border-gray-500"}`,children:" Airtel Money"}),i.jsx("button",{onClick:()=>qt("mpamba"),className:`flex-1 py-3 rounded-lg text-sm font-bold border transition-all ${Me==="mpamba"?"bg-green-600 text-white border-green-600":"bg-[#121212] border-[#333] text-gray-500 hover:border-gray-500"}`,children:" Mpamba (TNM)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 block mb-2",children:"Your Mobile Number"}),i.jsx("input",{type:"text",placeholder:"+265...",value:or,onChange:C=>gr(C.target.value),className:"w-full bg-[#121212] border border-[#333] rounded-lg px-4 py-3 text-sm text-white focus:border-[#FACC15] outline-none"})]})]}):i.jsxs("div",{className:"bg-[#121212] rounded-xl p-4 border border-[#333] text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-[#FACC15]/10 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("p",{className:"text-white font-bold text-sm mb-1",children:"Pay Cash to Driver"}),i.jsx("p",{className:"text-gray-400 text-xs",children:"Please ensure you have exact change to hand over to the driver."})]})]})]})}),!["processing","success"].includes(Lt)&&i.jsxs("div",{className:"p-6 border-t border-[#333] space-y-3",children:[i.jsx("button",{onClick:Mp,disabled:yr==="mobile"&&!or,className:`w-full py-3 font-bold rounded-xl transition-all shadow-lg ${yr==="mobile"&&or||yr==="cash"?"bg-gradient-to-r from-[#FACC15] to-[#EAB308] text-black hover:from-[#EAB308] hover:to-[#CA8A04]":"bg-[#333] text-gray-500 cursor-not-allowed"}`,children:yr==="mobile"?" Pay & Confirm Handover":" Confirm Cash Payment"}),i.jsx("button",{onClick:()=>Rt(!1),className:"w-full py-3 bg-[#252525] text-gray-300 font-bold rounded-xl border border-[#333] hover:bg-[#333] transition-colors",children:"Cancel"})]})]})}),rt&&i.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4 animate-fadeIn",onClick:()=>{},children:i.jsx("div",{className:"bg-[#1E1E1E] rounded-3xl max-w-md w-full border border-[#333] shadow-2xl overflow-hidden",onClick:C=>C.stopPropagation(),children:Lt==="processing"?i.jsxs("div",{className:"p-8 flex flex-col items-center justify-center text-center h-96",children:[i.jsx("div",{className:"w-20 h-20 border-4 border-[#252525] border-t-[#FACC15] rounded-full animate-spin mb-6"}),i.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Processing Secure Payment..."}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Please confirm the push request on your mobile device."}),i.jsx("div",{className:"mt-6 bg-[#252525] px-4 py-2 rounded-lg text-xs text-[#FACC15] font-mono border border-[#FACC15]/20",children:"Waiting for Webhook Confirmation..."})]}):Lt==="success"?i.jsxs("div",{className:"p-8 flex flex-col items-center justify-center text-center h-96",children:[i.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mb-6 animate-pulse",children:i.jsx(Ad,{className:"w-10 h-10 text-green-500"})}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Payment Successful!"}),i.jsx("p",{className:"text-gray-400",children:"Thank you for riding with Ridex."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-6 border-b border-[#333] bg-[#252525] text-center relative",children:[i.jsx("button",{onClick:()=>Pt(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-white hover:bg-[#333] rounded-full w-8 h-8 flex items-center justify-center transition","aria-label":"Close",children:i.jsx("span",{className:"text-2xl font-bold",children:""})}),i.jsx("h3",{className:"text-xl font-bold text-white",children:"Secure Payment via PayChangu"}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Complete your trip payment"})]}),i.jsxs("div",{className:"p-6",children:[_n?i.jsxs("div",{className:"mb-6 bg-[#121212] p-6 rounded-xl border border-[#333] flex items-center justify-center",children:[i.jsx("div",{className:"w-6 h-6 border-2 border-[#252525] border-t-[#FACC15] rounded-full animate-spin mr-3"}),i.jsx("span",{className:"text-gray-400 text-sm",children:"Loading driver details..."})]}):go?i.jsx("div",{className:"mb-6 bg-red-500/10 border border-red-500/30 p-4 rounded-xl",children:i.jsx("p",{className:"text-red-400 text-sm",children:go})}):Ke?i.jsxs("div",{className:"mb-6 bg-[#121212] p-4 rounded-xl border border-[#333]",children:[i.jsxs("div",{className:"flex justify-between mb-3",children:[i.jsx("span",{className:"text-gray-500 text-xs uppercase font-bold",children:"Recipient (Driver)"}),i.jsx("span",{className:"text-xs text-[#FACC15] font-bold",children:Ke.payoutMethod})]}),i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 bg-[#252525] rounded-full flex items-center justify-center",children:Ke.payoutMethod==="Bank"?i.jsx(eO,{className:"w-5 h-5 text-blue-400"}):i.jsx(af,{className:"w-5 h-5 text-[#FACC15]"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-bold text-sm",children:Ke.driverName}),Ke.payoutMethod==="Bank"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-xs text-gray-400",children:Ke.bankName}),i.jsx("div",{className:"text-xs text-[#FACC15] font-mono",children:Ke.payoutAccountNumber})]}):i.jsx("div",{className:"text-xs text-[#FACC15] font-mono",children:Ke.payoutMobileNumber})]})]})]}):i.jsxs("div",{className:"mb-6 bg-[#121212] p-4 rounded-xl border border-[#333]",children:[i.jsx("div",{className:"flex justify-between mb-2",children:i.jsx("span",{className:"text-gray-500 text-xs uppercase font-bold",children:"Recipient (Driver)"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-[#252525] rounded-full flex items-center justify-center",children:i.jsx(wre,{className:"w-4 h-4 text-gray-400"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-white font-bold text-sm",children:typeof(U==null?void 0:U.driver)=="string"?U.driver:((Ou=U==null?void 0:U.driver)==null?void 0:Ou.name)||"Unknown Driver"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Payout details not available"})]})]})]}),i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("p",{className:"text-gray-400 text-xs uppercase font-bold mb-1",children:"Total Amount Due"}),i.jsxs("p",{className:"text-3xl font-bold text-[#FACC15]",children:["MWK ",U?(U.price||U.acceptedPrice||0).toLocaleString():"0"]})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"p-4 rounded-xl border-2 border-[#FACC15] bg-[#FACC15]/5",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-[#FACC15] flex items-center justify-center text-black",children:i.jsx(af,{className:"w-4 h-4"})}),i.jsx("div",{className:"font-bold text-white",children:"Mobile Money Checkout"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Select Network"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>qt("airtel"),className:`flex-1 py-2 rounded-lg text-xs font-bold border transition-all ${Me==="airtel"?"bg-red-600 text-white border-red-600":"bg-[#121212] border-[#333] text-gray-500 hover:border-gray-500"}`,children:"Airtel Money"}),i.jsx("button",{onClick:()=>qt("mpamba"),className:`flex-1 py-2 rounded-lg text-xs font-bold border transition-all ${Me==="mpamba"?"bg-green-600 text-white border-green-600":"bg-[#121212] border-[#333] text-gray-500 hover:border-gray-500"}`,children:"Mpamba (TNM)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Your Mobile Number (Payer)"}),i.jsx("input",{type:"text",placeholder:"+265...",value:or,onChange:C=>gr(C.target.value),className:"w-full bg-[#121212] border border-[#333] rounded-lg px-4 py-3 text-sm text-white focus:border-[#FACC15] outline-none transition-colors"})]})]})]})}),i.jsxs("button",{onClick:Cp,className:"w-full py-4 bg-[#FACC15] text-black font-bold rounded-xl hover:bg-[#EAB308] transition-all shadow-lg shadow-[#FACC15]/20 mt-6 flex items-center justify-center gap-2",children:[i.jsx(kre,{className:"w-4 h-4"}),"Pay Securely"]})]})]})})}),Ee&&i.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4 animate-fadeIn",onClick:()=>Zt(!1),children:i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl max-w-sm w-full border border-[#333] shadow-2xl overflow-hidden p-6 text-center",onClick:C=>C.stopPropagation(),children:[i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:()=>Zt(!1),className:"text-gray-400 hover:text-white",children:i.jsx(tn,{className:"w-5 h-5"})})}),i.jsxs("div",{className:"mb-4 flex flex-col items-center",children:[i.jsx("img",{src:`https://ui-avatars.com/api/?name=${nt==null?void 0:nt.driver}&background=random`,alt:"Driver",className:"w-16 h-16 rounded-full border-2 border-[#FACC15] mb-3"}),i.jsxs("h3",{className:"text-xl font-bold text-white",children:["Rate ",nt==null?void 0:nt.driver]}),i.jsxs("p",{className:"text-gray-500 text-sm",children:["How was your trip from ",nt==null?void 0:nt.origin,"?"]})]}),i.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[1,2,3,4,5].map(C=>i.jsx("button",{onMouseEnter:()=>vu(C),onMouseLeave:()=>vu(0),onClick:()=>hn(C),className:"transition-transform hover:scale-110 focus:outline-none",children:i.jsx(Pd,{className:`w-8 h-8 ${C<=(rl||Zn)?"text-[#FACC15]":"text-gray-600"}`})},C))}),i.jsx("textarea",{placeholder:"Leave a comment (optional)...",value:Ge,onChange:C=>Hr(C.target.value),className:"w-full bg-[#252525] border border-[#333] rounded-xl p-3 text-sm text-white outline-none focus:border-[#FACC15] mb-6 h-24 resize-none"}),i.jsx("button",{onClick:ju,disabled:Zn===0,className:"w-full py-3 bg-[#FACC15] text-black font-bold rounded-xl hover:bg-[#EAB308] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Rating"})]})}),W&&ie&&i.jsx("div",{className:"fixed inset-0 bg-black/80 z-[9999] flex items-center justify-center p-4",style:{pointerEvents:"auto"},onClick:C=>{C.target===C.currentTarget&&Z(!1)},children:i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl p-8 max-w-md w-full border-2 border-[#FACC15] shadow-2xl shadow-[#FACC15]/20 animate-fadeIn",style:{pointerEvents:"auto"},onClick:C=>C.stopPropagation(),children:[i.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-[#FACC15] rounded-full mx-auto mb-6",children:i.jsx("svg",{className:"w-8 h-8 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsx("h3",{className:"text-2xl font-bold text-white mb-4 text-center",children:" Driver Arrived!"}),i.jsxs("p",{className:"text-gray-300 mb-6 text-center leading-relaxed",children:["Your driver has arrived at the pickup location.",i.jsx("br",{}),i.jsx("strong",{className:"text-white",children:"Please confirm when you've boarded the vehicle."})]}),i.jsxs("p",{className:"text-xs text-gray-500 mb-4 text-center",children:["Ride ID: ",ie]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"button",onClick:C=>{C.preventDefault(),C.stopPropagation(),console.log(" Not Yet clicked"),Z(!1)},className:"flex-1 px-4 py-3 bg-gray-700 text-white rounded-xl font-bold hover:bg-gray-600 transition-all cursor-pointer select-none active:scale-95",children:"Not Yet"}),i.jsx("button",{type:"button",onClick:C=>{C.preventDefault(),C.stopPropagation();const F=ie;if(console.log(" YES I HAVE BOARDED - CLICK! RideID:",F),!F){console.error(" No ride ID available!"),alert("Error: No ride ID. Please refresh and try again.");return}ke(D=>new Set(D).add(F)),Z(!1),ee(null);const I=parseInt(F);Ye(D=>D.map(z=>z.id===I?{...z,status:"Boarded"}:z)),_e(D=>D.map(z=>z.id===I?{...z,status:"Boarded"}:z)),M(D=>[{title:"Boarding Confirmed",msg:"Driver can now start the trip.",time:"Just now",unread:!0},...D]),Y.confirmPickup(F).then(()=>console.log(" API success")).catch(D=>console.error(" API failed:",D))},className:"flex-1 px-4 py-3 bg-[#FACC15] text-black rounded-xl font-bold hover:bg-[#EAB308] transition-all shadow-lg shadow-[#FACC15]/30 cursor-pointer select-none active:scale-95",children:" Yes, I Have Boarded"})]})]})}),g&&i.jsx(xre,{isOpen:b,onClose:()=>k(!1),originalPrice:g.price,minPrice:g.minPrice||g.price*.8,maxPrice:g.maxPrice||g.price*1.2,onSubmitOffer:Tp,negotiationHistory:w,vehicleDetails:{name:g.driverName||"Driver",type:"share",origin:g.origin,destination:g.destination}}),L&&i.jsx(vre,{isOpen:_,onClose:()=>T(!1),amount:L.acceptedPrice||L.price,onSelectPayment:$p,rideDetails:{type:L.type||"share",origin:L.origin,destination:L.destination,driverName:L.driverName||"Driver"}}),W&&i.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4 animate-fadeIn",children:i.jsxs("div",{className:"bg-[#1E1E1E] rounded-3xl max-w-md w-full border border-[#333] p-8 text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Driver Ready for Pickup"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"Your driver is ready to pick you up. Please confirm that you're boarding the vehicle."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>Z(!1),className:"flex-1 px-4 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition",children:"Cancel"}),i.jsx("button",{onClick:Su,className:"flex-1 px-4 py-3 bg-green-500 hover:bg-green-600 text-white rounded-lg font-semibold transition",children:" Confirm Boarding"})]})]})}),xu&&Xn&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fadeIn",children:i.jsxs("div",{className:"bg-[#1E1E1E] border border-[#333] rounded-3xl p-8 max-w-md w-full shadow-2xl relative",children:[i.jsx("button",{onClick:()=>Ta(!1),className:"absolute top-4 right-4 p-2 bg-[#252525] rounded-full hover:bg-[#333] transition-colors",children:i.jsx(tn,{className:"w-5 h-5 text-gray-400"})}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-[#FACC15]/20 rounded-full flex items-center justify-center mx-auto mb-4 border border-[#FACC15]/50",children:i.jsx(ca,{className:"w-8 h-8 text-[#FACC15]"})}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Payment Timing"}),i.jsxs("p",{className:"text-gray-400",children:["Your hire request for ",i.jsx("span",{className:"text-white font-bold",children:Xn.title||"Vehicle"})," has been approved. When would you like to pay?"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:()=>vo("now"),className:"w-full p-4 bg-[#FACC15] hover:bg-[#EAB308] text-black font-bold rounded-xl transition-all flex items-center justify-between group",children:[i.jsxs("span",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"p-2 bg-black/10 rounded-lg",children:i.jsx(ca,{className:"w-5 h-5"})}),"Pay Now"]}),i.jsx("span",{className:"text-xs font-bold bg-black/20 px-2 py-1 rounded",children:"SECURE"})]}),i.jsxs("button",{onClick:()=>vo("pickup"),className:"w-full p-4 bg-[#252525] hover:bg-[#333] border border-[#333] hover:border-[#FACC15]/50 text-white font-bold rounded-xl transition-all flex items-center justify-between group",children:[i.jsxs("span",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"p-2 bg-black/20 rounded-lg",children:i.jsx(a5,{className:"w-5 h-5 text-gray-400 group-hover:text-white"})}),"Pay on Pickup"]}),i.jsx("span",{className:"text-xs text-gray-500 group-hover:text-gray-300",children:"CASH / CARD"})]})]})]})})]})},Are=({onLoginClick:e})=>{const[t,r]=S.useState([]),[n,a]=S.useState([]),[o,s]=S.useState(!0),[l,c]=S.useState("rideshare"),[u,f]=S.useState(""),[d,h]=S.useState(""),[p,y]=S.useState("");S.useEffect(()=>{m()},[]);const m=async()=>{try{s(!0);const k=await fetch("/api/marketplace/all");if(!k.ok)throw new Error("Failed to load marketplace");const w=await k.json();r(w.rideShare||[]),a(w.hire||[])}catch(k){console.error("Error loading marketplace:",k)}finally{s(!1)}},x=k=>k.phone||k.airtelMoneyNumber||k.mpambaNumber||null,g=(k,w)=>{const N=x(k);if(!N){alert("Driver contact information not available");return}const A=N.replace(/[\s\-\(\)]/g,""),P=A.startsWith("+")?A:`+265${A}`,E=encodeURIComponent(`Hi, I'm interested in your ${w}`);window.open(`https://wa.me/${P}?text=${E}`,"_blank")},v=t.filter(k=>{if(!u)return!0;const w=u.toLowerCase(),N=w.split(/\s+to\s+|\s+/).filter(Boolean);if(N.length>=2){const A=N[0],P=N[N.length-1];return k.origin.toLowerCase().includes(A)&&k.destination.toLowerCase().includes(P)}return k.origin.toLowerCase().includes(w)||k.destination.toLowerCase().includes(w)}),b=n.filter(k=>u===""||k.title.toLowerCase().includes(u.toLowerCase())||k.category.toLowerCase().includes(u.toLowerCase())||k.location.toLowerCase().includes(u.toLowerCase()));return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[i.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50",children:i.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-12 py-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"RideX Marketplace"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Find rides & vehicles instantly"})]})}),i.jsx("button",{onClick:e,className:"p-2.5 bg-primary-600 text-black rounded-full hover:bg-primary-700 transition-all shadow-md hover:shadow-lg group",title:"Login",children:i.jsx(sO,{className:"h-6 w-6 transform group-hover:scale-110 transition-transform"})})]})})}),i.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-12 py-8",children:i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-xl border border-gray-100 dark:border-gray-700",children:l==="rideshare"?i.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[i.jsxs("div",{className:"relative flex-1 w-full",children:[i.jsxs("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex items-center gap-2 pointer-events-none",children:[i.jsx(kl,{className:"h-5 w-5 text-green-500"}),i.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"From"})]}),i.jsx("input",{type:"text",placeholder:"Enter origin...",value:d,onChange:k=>h(k.target.value),className:"w-full pl-24 pr-4 py-4 rounded-2xl border-2 border-transparent bg-gray-50 dark:bg-gray-900/50 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:bg-white dark:focus:bg-gray-800 transition-all text-lg font-medium"})]}),i.jsx("div",{className:"hidden md:flex items-center justify-center -mx-2 z-10",children:i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-500 flex items-center justify-center text-black shadow-lg",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})}),i.jsxs("div",{className:"relative flex-1 w-full",children:[i.jsxs("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex items-center gap-2 pointer-events-none",children:[i.jsx(kl,{className:"h-5 w-5 text-red-500"}),i.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"To"})]}),i.jsx("input",{type:"text",placeholder:"Enter destination...",value:p,onChange:k=>y(k.target.value),className:"w-full pl-20 pr-4 py-4 rounded-2xl border-2 border-transparent bg-gray-50 dark:bg-gray-900/50 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:bg-white dark:focus:bg-gray-800 transition-all text-lg font-medium"})]})]}):i.jsxs("div",{className:"relative",children:[i.jsx(ga,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by vehicle type, location or category...",value:u,onChange:k=>f(k.target.value),className:"w-full pl-14 pr-4 py-4 rounded-2xl border-2 border-transparent bg-gray-50 dark:bg-gray-900/50 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:bg-white dark:focus:bg-gray-800 transition-all text-lg font-medium"})]})})}),i.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-12",children:i.jsxs("div",{className:"flex space-x-4 border-b-2 border-gray-200 dark:border-gray-700",children:[i.jsx("button",{onClick:()=>c("rideshare"),className:`px-6 py-3 font-semibold transition-all ${l==="rideshare"?"text-primary-700 border-b-4 border-primary-600 -mb-0.5":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:i.jsxs("span",{className:"flex items-center space-x-2",children:[i.jsx(Ue,{className:"h-5 w-5"}),i.jsx("span",{children:"Ride Share"}),i.jsx("span",{className:"ml-2 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:v.length})]})}),i.jsx("button",{onClick:()=>c("hire"),className:`px-6 py-3 font-semibold transition-all ${l==="hire"?"text-primary-700 border-b-4 border-primary-600 -mb-0.5":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:i.jsxs("span",{className:"flex items-center space-x-2",children:[i.jsx(Ue,{className:"h-5 w-5"}),i.jsx("span",{children:"For Hire"}),i.jsx("span",{className:"ml-2 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:b.length})]})})]})}),i.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-12 py-8",children:o?i.jsxs("div",{className:"text-center py-20",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),i.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading marketplace..."})]}):l==="rideshare"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6",children:v.length===0?i.jsxs("div",{className:"col-span-full text-center py-20",children:[i.jsx(Ue,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No ride share posts available"})]}):v.map(k=>{var w,N;return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all border border-gray-200 dark:border-gray-700 overflow-hidden group",children:[i.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto",children:[i.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-primary-600 flex items-center justify-center text-black font-bold text-base sm:text-lg overflow-hidden border-2 border-primary-400 shadow-sm",children:k.driver.avatar?i.jsx("img",{src:Y.getAssetUrl(k.driver.avatar),alt:k.driver.name,className:"h-full w-full object-cover"}):k.driver.name.charAt(0).toUpperCase()}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:k.driver.name})})]}),i.jsx("div",{className:"h-20 w-20 sm:h-24 sm:w-24 rounded-full border-2 sm:border-4 border-white dark:border-gray-700 shadow-xl overflow-hidden transform group-hover:scale-110 transition-transform duration-300 bg-gradient-to-br from-gray-50 to-gray-200 dark:from-gray-700 dark:to-gray-900 flex items-center justify-center flex-shrink-0",children:k.imageUrl||(w=k.vehicle)!=null&&w.imageUrl?i.jsx("img",{src:Y.getAssetUrl(k.imageUrl||((N=k.vehicle)==null?void 0:N.imageUrl)),alt:"Vehicle",className:"h-full w-full object-cover"}):i.jsx("span",{className:"text-base sm:text-lg font-black text-gray-500 dark:text-gray-400 uppercase tracking-tight",children:"CAR"})})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(kl,{className:"h-5 w-5 text-green-600 mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"From"}),i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:k.origin})]})]}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(kl,{className:"h-5 w-5 text-red-600 mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"To"}),i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:k.destination})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(iO,{className:"h-4 w-4"}),i.jsx("span",{children:k.date})]}),i.jsxs("div",{className:"flex items-center space-x-1 bg-primary-100 dark:bg-primary-900/30 px-2 py-0.5 rounded-md border border-primary-200 dark:border-primary-800",children:[i.jsx(oO,{className:"h-4 w-4 text-primary-700"}),i.jsxs("span",{className:"font-bold text-primary-700",children:["Departs at ",k.time]})]})]}),k.vehicle&&i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.jsx("p",{className:"font-medium",children:k.vehicle.make||k.vehicle.model?`${k.vehicle.make||""} ${k.vehicle.model||""}`.trim():k.vehicle.name}),i.jsxs("p",{className:"text-xs",children:[k.vehicle.plate,"  ",k.availableSeats," seats available"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-primary-700",children:["MWK ",k.price.toFixed(2)]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"per person"})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[i.jsx("a",{href:`tel:${k.driver.phone}`,className:"flex items-center justify-center p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all shadow-md hover:shadow-lg",children:i.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56a.977.977 0 00-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"})})}),i.jsxs("button",{onClick:()=>g(k.driver,`${k.origin} to ${k.destination} ride`),className:"flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all shadow-md hover:shadow-lg flex-1",children:[i.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),i.jsx("span",{children:"WhatsApp"})]})]})]})]})]},k.id)})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6",children:b.length===0?i.jsxs("div",{className:"col-span-full text-center py-20",children:[i.jsx(Ue,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No hire vehicles available"})]}):b.map(k=>{var w,N;return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all border border-gray-200 dark:border-gray-700 overflow-hidden group",children:[i.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto",children:[i.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-primary-600 flex items-center justify-center text-black font-bold text-base sm:text-lg overflow-hidden border-2 border-primary-400 shadow-sm",children:k.driver.avatar?i.jsx("img",{src:Y.getAssetUrl(k.driver.avatar),alt:k.driver.name,className:"h-full w-full object-cover"}):k.driver.name.charAt(0).toUpperCase()}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:k.driver.name})})]}),i.jsx("div",{className:"h-20 w-20 sm:h-24 sm:w-24 rounded-full border-2 sm:border-4 border-white dark:border-gray-700 shadow-xl overflow-hidden transform group-hover:scale-110 transition-transform duration-300 bg-gradient-to-br from-gray-50 to-gray-200 dark:from-gray-700 dark:to-gray-900 flex items-center justify-center flex-shrink-0",children:k.imageUrl||(w=k.vehicle)!=null&&w.imageUrl?i.jsx("img",{src:Y.getAssetUrl(k.imageUrl||((N=k.vehicle)==null?void 0:N.imageUrl)),alt:"Vehicle",className:"h-full w-full object-cover"}):i.jsx("span",{className:"text-base sm:text-lg font-black text-gray-500 dark:text-gray-400 uppercase tracking-tight",children:"CAR"})})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:k.title}),i.jsx("p",{className:"text-sm text-primary-700 font-medium",children:k.category})]}),k.vehicle&&i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.jsx("p",{className:"font-medium",children:k.vehicle.make||k.vehicle.model?`${k.vehicle.make||""} ${k.vehicle.model||""}`.trim():k.vehicle.name}),i.jsx("p",{className:"text-xs",children:k.vehicle.plate})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(kl,{className:"h-4 w-4"}),i.jsx("span",{children:k.location})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-primary-700",children:["MWK ",k.rateAmount.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["per ",k.rateUnit]})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[i.jsx("a",{href:`tel:${k.driver.phone}`,className:"flex items-center justify-center p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all shadow-md hover:shadow-lg",children:i.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56a.977.977 0 00-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"})})}),i.jsxs("button",{onClick:()=>g(k.driver,`${k.title} (${k.category})`),className:"flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all shadow-md hover:shadow-lg flex-1",children:[i.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),i.jsx("span",{children:"WhatsApp"})]})]})]})]})]},k.id)})})}),i.jsx("footer",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 mt-16",children:i.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-12 py-8 text-center",children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:" 2024 RideX. All rights reserved."}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"Contact drivers directly via WhatsApp"})]})})]})},Cre=()=>{if(window.location.pathname==="/verify")return i.jsx(tre,{});const[e,t]=S.useState(!1),[r,n]=S.useState("admin"),[a,o]=S.useState(null),[s,l]=S.useState(!1),[c,u]=S.useState("dashboard"),[f,d]=S.useState(""),[h,p]=S.useState(!1);S.useEffect(()=>(e&&(a!=null&&a.id)?(console.log("Initializing Socket Connection for:",a.role),ce.connect(a.id,a.role||"admin")):ce.disconnect(),()=>{}),[e,a]);const y=async k=>{try{let N=(await Y.getConversations()).find(A=>A.participants&&A.participants.includes(k));N||(N=await Y.createConversation(k)),N&&(d(N.id),u("chat"))}catch(w){console.error("Failed to start chat with user",w)}},m=k=>{switch(k){case"dashboard":return"Analytics Dashboard";case"rides":return"Rides Management";case"drivers":return"Driver Management";case"riders":return"Rider Management";case"revenue":return"Revenue Analytics";case"pricing":return"Pricing & Surge Settings";case"subscriptions":return"Subscription Plans";case"disputes":return"Dispute Resolution";case"total-rides":return"Rides Analytics";case"ride-share":return"Ride Share Analytics";case"for-hire":return"For Hire Analytics";case"vehicles":return"Vehicle Inventory";case"chat":return"Support Chat";default:return"Dashboard"}},x=()=>{switch(c){case"dashboard":return i.jsx(Mk,{onNavigate:u});case"rides":return i.jsx(qee,{onNavigate:u});case"drivers":return i.jsx(Vte,{onMessageUser:y});case"riders":return i.jsx(Hte,{onMessageUser:y});case"revenue":return i.jsx(Kte,{onBack:()=>u("dashboard")});case"pricing":return i.jsx(Gte,{});case"subscriptions":return i.jsx(rre,{});case"total-rides":return i.jsx(Yte,{onBack:()=>u("dashboard")});case"ride-share":return i.jsx(Xte,{onBack:()=>u("rides")});case"for-hire":return i.jsx(Qte,{onBack:()=>u("rides")});case"chat":return i.jsx(Zte,{initialChatId:f,currentUserId:a==null?void 0:a.id},f);case"vehicles":return i.jsx(nre,{});default:return i.jsx(Mk,{onNavigate:u})}};S.useEffect(()=>{const k=localStorage.getItem("token");k&&(async()=>{try{const w=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${k}`}});if(!w.ok){localStorage.removeItem("token");return}const N=await w.json();n(N.role||"admin"),o(N),t(!0)}catch(w){console.warn("Auto-login failed",w),localStorage.removeItem("token")}})()},[]);const g=async k=>{n(k);const w=localStorage.getItem("token");if(w)try{const N=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${w}`}});if(N.ok){const A=await N.json();o(A)}}catch(N){console.warn("Failed to fetch profile after login",N)}t(!0)},v=()=>{t(!1),n("admin"),o(null),p(!1),ce.disconnect(),localStorage.removeItem("token")},b=()=>{p(!0)};return!e&&h?i.jsx(ere,{onLogin:g}):e?r==="driver"?i.jsx(mre,{onLogout:v}):r==="rider"?i.jsx(Sre,{onLogout:v}):i.jsxs("div",{className:"h-screen overflow-hidden flex bg-gray-50 dark:bg-dark-900 text-gray-900 dark:text-gray-100 transition-colors duration-300",children:[i.jsx(cO,{activeView:c,setActiveView:u,isOpen:s,setIsOpen:l,onLogout:v,profile:a}),i.jsxs("div",{className:"flex-1 flex flex-col transition-all duration-300 lg:ml-64",children:[i.jsx(pO,{title:m(c),onMenuClick:()=>l(!0),onNavigate:u}),i.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto no-scrollbar",children:x()})]})]}):i.jsx(Are,{onLoginClick:b})};class Pre extends O.Component{constructor(r){super(r);No(this,"handleReset",()=>{try{localStorage.removeItem("token")}catch{}this.setState({hasError:!1,error:null,info:null}),window.location.reload()});this.state={hasError:!1,error:null,info:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Caught by ErrorBoundary:",r,n),this.setState({info:n})}render(){var r,n;return this.state.hasError?i.jsx("div",{className:"min-h-screen bg-white dark:bg-dark-900 text-gray-900 dark:text-gray-100 p-8 flex items-center justify-center",children:i.jsxs("div",{className:"max-w-3xl w-full bg-white dark:bg-dark-800 rounded-xl border border-gray-200 dark:border-dark-700 shadow-xl p-8 space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Something went wrong"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"An unexpected error occurred while rendering the page. The error has been logged to the console for debugging."}),i.jsxs("div",{className:"bg-gray-100 dark:bg-dark-700 rounded p-3 text-xs text-red-700 dark:text-red-300 overflow-auto max-h-60",children:[i.jsx("strong",{children:"Error:"}),i.jsx("pre",{className:"whitespace-pre-wrap text-[12px] mt-2",children:(r=this.state.error)==null?void 0:r.message}),((n=this.state.info)==null?void 0:n.componentStack)&&i.jsxs(i.Fragment,{children:[i.jsx("strong",{children:"Stack:"}),i.jsx("pre",{className:"whitespace-pre-wrap text-[11px] mt-2 text-gray-700 dark:text-gray-300",children:this.state.info.componentStack})]})]}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{onClick:this.handleReset,className:"px-4 py-2 bg-primary-500 text-black rounded font-bold",children:"Reset & Reload"}),i.jsx("button",{onClick:()=>window.open("https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error","_blank"),className:"px-4 py-2 border rounded border-gray-200",children:"Learn more"})]})]})}):this.props.children}}const fP=document.getElementById("root");if(!fP)throw new Error("Could not find root element to mount to");const Ere=Qm.createRoot(fP);try{Ere.render(i.jsx(O.StrictMode,{children:i.jsx(uO,{children:i.jsx(Pre,{children:i.jsx(Cre,{})})})})),console.log("[dev] React app mounted to #root")}catch(e){console.error("Fatal render error during bootstrap:",e);try{const t=document.createElement("div");t.style.cssText="font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; padding:24px;",t.innerHTML=`<h2 style="color:#b91c1c">Application failed to load</h2><pre style="white-space:pre-wrap;color:#111">${e&&e.message||String(e)}</pre><p style="color:#374151">Check developer console for stack trace.</p>`,document.body.innerHTML="",document.body.appendChild(t)}catch{}}window.addEventListener("error",e=>{console.error("Global error",e.error||e.message,e)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection",e.reason)});
